"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[51171,14305],{777579:(e,t,i)=>{var a,n,l;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[a,n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:[l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[n,{args:null,kind:"FragmentSpread",name:"BoardCard_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},l,{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};r.hash="3fc8a3c79e94dc09a6f9c6b242ea21dc";let s=r},552265:(e,t,i)=>{var a,n,l;i.r(t),i.d(t,{default:()=>s});let r=(a={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},l=[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[n,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:l,type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});r.hash="c59b0c8f1e2d8941637eb8ebc540d999";let s=r},997602:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselVideoItem_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};a.hash="510195e37611b9b69a16eccfeb13e9cf";let n=a},952676:(e,t,i)=>{var a,n,l;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},a,n,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},l],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},596077:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselVideoItem_pin"}],type:"Pin",abstractKey:null};a.hash="83e61e6fc89222c2a0b03276839f44a5";let n=a},432149:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCutout_pin",selections:[{alias:null,args:null,concreteType:"ShuffleAsset",kind:"LinkedField",name:"shuffleAsset",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"buildCutout_image_details",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:'cutoutImages(spec:"originals")'}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="85d67dc4c42c4d27b7d701b2e5f85f14";let n=a},805765:(e,t,i)=>{var a,n,l;i.r(t),i.d(t,{default:()=>s});let r=(a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],l=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null});r.hash="5186d62da994a6e2ad78ea5d7022cc61";let s=r},947272:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};a.hash="9fe338bb0275ffff2818b274fce014af";let n=a},379748:(e,t,i)=>{var a,n,l,r,s,o,d;i.r(t),i.d(t,{default:()=>u});let c={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"CloseupPageDesktopQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[r={alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupPageDesktop_pin"}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CloseupPageDesktopQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[r,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[s],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[s,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},d],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a63ca367dda24dea17d6b9f2cf759bdd0fa3ff2f36bd8fc6c3650013c979c099",metadata:{},name:"CloseupPageDesktopQuery",operationKind:"query",text:null}};c.hash="e7468ff73e618822b529aa9bcbecc941";let u=c;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},229114:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageDesktop_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="d71620869b6e7be6f13389f82ed52e1b";let n=a},574262:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};a.hash="535b0dce979f4e368b354c1d7db63f73";let n=a},462813:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};a.hash="0122ac469895f29aa7d039970fa36eb0";let n=a},254478:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};n.hash="3fa8620068a79dc4a73dbbcde3f352f9";let l=n},190490:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoEndCard_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};a.hash="e04be51b4be0a2585e7803d004fa83b7";let n=a},301072:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoNonDuplo_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoEndCard_pin"},{args:null,kind:"FragmentSpread",name:"VideoWithContextLogging_pin"},{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};a.hash="53ae9ecd15f057f744460205e5d495fd";let n=a},195446:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoWithVisibility_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};a.hash="60493becbbe037be854a8cd1136fede6";let n=a},152191:(e,t,i)=>{var a,n;i.r(t),i.d(t,{default:()=>r});let l=(n=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="6e4bec581cece19361386d6124ddde90";let r=l},754761:(e,t,i)=>{var a,n,l;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},a,n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n,l],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},n,l],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e1e37c221693c863e8ed160cd9265c59";let s=r},833251:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CutoutParentPin_pin",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="0621674c84b2dfd6957d10ac96954bb6";let n=a},369499:(e,t,i)=>{var a,n,l,r;i.r(t),i.d(t,{default:()=>o});let s=(n=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:r=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:r,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{args:null,kind:"FragmentSpread",name:"useIsBoardOwnerOrCollaborator_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"}],type:"Pin",abstractKey:null});s.hash="632786254ea232e7f61cc27d859c1fe7";let o=s},906750:(e,t,i)=>{var a,n,l;i.r(t),i.d(t,{default:()=>s});let r=(a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],l=[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:a,storageKey:null},n,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:l,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="28ab0b1e7aa7707dbaca4eab96280169";let s=r},537379:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="4953fa740a6bb17e17a66c4163ebe1bb";let n=a},641065:(e,t,i)=>{var a,n,l,r,s,o,d;i.r(t),i.d(t,{default:()=>u});let c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},n,r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},l,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};c.hash="2be523d18cdb97a01003da320f0cb7d3";let u=c},849220:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MaybeClickthroughLink_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};n.hash="39a7882a66a91ae06ef6da7137136e67";let l=n},550009:(e,t,i)=>{var a,n;i.r(t),i.d(t,{default:()=>r});let l=(n=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCommentsAccordion_pin",selections:[a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null});l.hash="7b93dc8732e3dc9764f0322a05c18386";let r=l},505054:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};a.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let n=a},552276:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};a.hash="ab1d44e9e9493de6e62e369100d61e23";let n=a},973346:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};n.hash="86cb4963f4714e2184c01e13236c3616";let l=n},145740:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="20bd5f77ed00d817dd05c61ec8903627";let l=n},222969:(e,t,i)=>{var a,n,l,r,s,o,d,c,u,p,g,m,h,_,y,x,f,v,k,b,P,S,w,j,I,C,F,T,A,L,K,R,Z,E,D,z,M,B,O,V,H,U,N,W,$,G,q,X,Q,Y,J,ee,et,ei,ea,en,el,er,es,eo,ed;i.r(t),i.d(t,{default:()=>eu});let ec=(a={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},n={defaultValue:null,kind:"LocalArgument",name:"pinId"},l=[{kind:"Variable",name:"pin",variableName:"pinId"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},d=[o={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},g=[{kind:"Literal",name:"spec",value:"236x"}],y={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},j=[m={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],I=[{kind:"Literal",name:"spec",value:"170x"}],C=[{kind:"Literal",name:"spec",value:"474x"}],F=[{kind:"Literal",name:"spec",value:"736x"}],T={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},Z=[p,A={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},b,r,L={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],E={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},z={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[D={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},M=[r],B={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},O={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},U={alias:"image236x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:V=[h,c,_],storageKey:null},w],storageKey:'additionalImagesPerSpec(spec:"236x")'},N={alias:"image474x",args:C,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"474x")'},$={alias:"image564x",args:W=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"564x")'},G={alias:"image736x",args:F,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"736x")'},q=[p,A,b,L,K,R],X={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},et=[c],ei={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:M,storageKey:null}],storageKey:null},ea=[L,b],eo={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},ed=[en={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},u,y,c],{fragment:{argumentDefinitions:[a,n],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[r,{kind:"InlineFragment",selections:[u,p,{alias:"imageSpec_236x",args:g,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[c,m,h,_],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[y],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[p,x,f,v,c,k,b,P,{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[p,b],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},m,{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},y,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},w,{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:I,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:C,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:F,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[m,h,c,_,r],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[f,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[p,k,f,c,b,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},A,b,L,R,{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},E,z,K,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[S,u,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[r,f,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:M,storageKey:null}],storageKey:null},B,O,U,N,$,G,{alias:"additionalImageSpec_236x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:M,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:C,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:M,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:W,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:M,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:F,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:M,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},B,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[f],storageKey:null},O,U,N,$,G,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:q,storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},b,r,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[X,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[h,Q,_,c],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},Y,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[p,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[J,h,_,c,r],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[r,h,Q,c,_],storageKey:null},r,{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:M,storageKey:null}],storageKey:null},b,r,J],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[f,c,b,r,p],storageKey:null},ee,{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},T,X,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},w,{alias:"imagesSpec_236x",args:g,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"236x")'},{alias:"image236x",args:g,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"236x")'},{alias:"image474x",args:C,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"474x")'},{alias:"image564x",args:W,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"564x")'},{alias:"image736x",args:F,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"736x")'},r],storageKey:null},b,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null},p,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},b,p],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:"imageSpec_564x",args:W,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:et,storageKey:'images(spec:"564x")'},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},b,ei,{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[r,X,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:V,storageKey:null},T],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[L,b,p,K,R,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},A],storageKey:null},b,r],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ea,storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ea,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:ea,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppable",storageKey:null},ei,{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[c,_,h],storageKey:'images(spec:"750x")'},T],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:"image236x",args:g,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"236x")'},{alias:"image474x",args:C,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"474x")'},{alias:"image564x",args:W,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"564x")'},{alias:"image736x",args:F,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},b],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:et,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:et,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[en,el,c,er,es,u,y,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},eo,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ed,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ed,storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[p,f,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,p,b],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},eo],storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:I,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:et,storageKey:'images(spec:"170x")'},P,{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},L,K,E,A,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[f,D],storageKey:null},b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[ee,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},y,c,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:et,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:et,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:et,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:I,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:et,storageKey:'images(spec:"170x")'}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[p,A],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[b],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[L,E,z,A,K,b],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:d,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},Y],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"a3805e5c4d2f278010af547269fd01d144829e236d9478b8ebe13bd94627c1ce",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});ec.hash="ae0dd45720447ea2600d4d0b9300ae1c";let eu=ec;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(ec.default||ec)},869807:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStelaUrlWithLargestStelaObject_pin"}],type:"Pin",abstractKey:null};a.hash="8f5a1016117d8ba33bcd13e6842ad7f2";let n=a},826471:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};a.hash="1dad325a13951c2d1449a683f8133aae";let n=a},176849:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};a.hash="7de97cda23e7c0e0ca8a7061c960550e";let n=a},6851:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};a.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a";let n=a},173215:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="7e8d917850c8329247291df0d281a59b";let n=a},398575:(e,t,i)=>{var a,n,l,r,s,o,d;i.r(t),i.d(t,{default:()=>u});let c=(a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},n,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});c.hash="d4e636f5150567634adf5f0bc4e7b67e";let u=c},649974:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};a.hash="89029511c11617e1150976d1002228db";let n=a},774897:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="e327c6c7127550a2f17b174cd4dcfa73";let l=n},993194:(e,t,i)=>{var a,n,l,r,s;i.r(t),i.d(t,{default:()=>d});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:r,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[l,a,n],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'}],type:"Pin",abstractKey:null};o.hash="e126fc0a8b5540f962701fad164e178c";let d=o},422624:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={kind:"InlineDataFragment",name:"buildCutout_image_details"};a.hash="c9c1f5db310f1e3f6a6ee886120de1d0";let n=a},13674:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="773fc34db33e0adf6079c9c326106f45";let l=n},297853:(e,t,i)=>{var a,n,l,r;i.r(t),i.d(t,{default:()=>o});let s=(a={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},a,n,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null});s.hash="f74f2f62c4eecb2cf72ace142fd51cb3";let o=s},82863:(e,t,i)=>{var a,n,l,r,s,o,d;i.r(t),i.d(t,{default:()=>u});let c=(a={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l=[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"ShuffleAsset",kind:"LinkedField",name:"shuffleAsset",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null});c.hash="b5e0125fa06225b134dd0a5e1c29ac2a";let u=c},304009:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};a.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let n=a},310287:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};n.hash="3ecf70d7e25decf88c7b8bafd5993b03";let l=n},800369:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};a.hash="93be9368e70d087bc7ea24af201598f9";let n=a},611270:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="efee9cd30f69b524ed9920746ed65ceb";let l=n},25316:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};a.hash="2eb6a7a4cf67ae04de84ac1b2b5e2715";let n=a},582706:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};n.hash="120c47eff2cf4911de716b514608718f";let l=n},81921:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsGroupBoard_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="72582aa208f6837fe96ba824d0271616";let n=a},504344:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsInCloseupShoppingRefinementsExp_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForCloseupOneBarRefinements",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};a.hash="25d061dfff6d75937841f5a3a23e65e0";let n=a},64988:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"ShuffleAsset",kind:"LinkedField",name:"shuffleAsset",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}],type:"Pin",abstractKey:null};n.hash="93ace6f56ec7b54c66c11d868a89a448";let l=n},162973:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};a.hash="1380cc65fb1c2132004a18dee261602e";let n=a},881007:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="e1f413e0ba2f9031ea605d85baa14a4b";let n=a},307127:(e,t,i)=>{i.d(t,{CA:()=>n,Gv:()=>a,k5:()=>l});let a=({orbacSubjectId:e,pinIsRepin:t,pinPinnerId:i,viewerId:a,viewerIsPartner:n})=>!t&&!!n&&[a,e].includes(i),n=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),l=(e,t)=>{if(!e)return e;let i=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return i.length<=t?i:Array(t).fill(1).map(()=>{let e=Math.floor(Math.random()*i.length);return i.splice(e,1)[0]})}},636339:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294);let n="undefined"!=typeof document?document:{},l=()=>{let e=(0,a.useRef)(),t=n.documentElement,{body:i}=n;return t?[()=>{if(!i||!i.style||e.current)return;let a=window.innerWidth-t.clientWidth,n=parseInt(window.getComputedStyle(i).getPropertyValue("padding-right"),10)||0;t.style.position="relative",t.style.overflow="hidden",i.style.position="relative",i.style.overflow="hidden",i.style.paddingRight=`${n+a}px`,e.current=!0},()=>{i&&i.style&&e.current&&(t.style.position="",t.style.overflow="",i.style.position="",i.style.overflow="",i.style.paddingRight="",e.current=!1)}]:[]}},315376:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(240760);function n({altText:e,autoAltText:t,i18n:i}){let n=e?(0,a.nk)(i.bt("This contains: {{ altText }}", "This contains: {{ altText }}", "web.altText", undefined, true),{altText:e}).join(""):"",l=t?(0,a.nk)(i.bt("This may contain: {{ autoAltText }}", "This may contain: {{ autoAltText }}", "web.altText", undefined, true),{autoAltText:t}).join(""):"";return n||l||""}},690996:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var a,n,l=i(667294),r=i(545007);i(167912);var s=i(883119),o=i(573706),d=i(989820),c=i(422578),u=i(529521);let p=function(e,t,i){switch((0,u.oy)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return t;case"GraphQL":{let e=(0,c.useRelayEnvironment)();return t=>(0,c.commitLocalUpdate)(e,e=>i(e,t))}default:throw Error("Unexpected case")}};var g=i(47848),m=i(144326),h=i(119870),_=i(383399),y=i(115642),x=i(961754),f=i(240760),v=i(969119),k=i(559028),b=i(357013),P=i(838486),S=i(701918),w=i(785893);let j=({creatorData:e,onTap:t,onUserFollow:i})=>{let a=(0,m.ZP)(),n=(0,_.Z)(),{explicitly_followed_by_me:l,follower_count:r=0,full_name:o,id:d,image_medium_url:c,username:u,verified_identity:p,is_verified_merchant:g}=e||{},h=`/${u}/`;return(0,w.jsx)(s.sg,{span:4,children:(0,w.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,w.jsx)(s.Tg,{href:h,onTap:()=>t(d),children:(0,w.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,w.jsx)(s.xu,{height:60,width:60,children:(0,w.jsx)(k.qE,{name:o??"",size:"fit",src:c??"",verified:!1})}),(0,w.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,w.jsx)(s.xu,{marginBottom:1,children:(0,w.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:p||g?(0,w.jsx)(S.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:p?.verified,isVerifiedMerchant:g}):o})}),(0,w.jsx)(s.xv,{align:"center",size:"100",children:(0,f.nk)(a.nbt(["{{ followerCount }} follower", "{{ followerCount }} followers"], r, "suggestedCreatorRep.creator.followerCount", true),{followerCount:(0,w.jsx)(b.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,w.jsx)(P.Z,{fullName:o,id:d,imageUrl:c,isOwnProfile:n.isAuth&&n.id===d,isSecondaryButton:!0,onUserFollow:e=>i({userIsNowFollowing:e,creatorId:d}),profileUrl:`/${u}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:l,viewParameter:156,viewType:3})]})})},I=({creatorRecs:e,fullName:t,pinId:i,viewParameter:a,viewType:n})=>{let{logContextEvent:l}=(0,o.v)(),r=(0,m.ZP)();(0,v.Z)(()=>{l({event_type:13,component:13891,view_parameter:a,view_type:n,aux_data:{...i?{pin_id:i}:{}}})});let d=e=>{l({event_type:101,component:13891,view_parameter:a,view_type:n,object_id_str:e,aux_data:{...i?{pin_id:i}:{}}})},c=({userIsNowFollowing:e,creatorId:t})=>{e?l({event_type:45,component:13891,object_id_str:t,view_parameter:a,view_type:n,aux_data:{...i?{pin_id:i}:{}}}):l({event_type:46,component:13891,object_id_str:t,view_parameter:a,view_type:n,aux_data:{...i?{pin_id:i}:{}}})};return(0,w.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,w.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[t&&(0,w.jsx)(s.X6,{align:"center",size:"300",children:(0,f.nk)(r.bt("More like {{creatorName}}", "More like {{creatorName}}", "suggestedCreatorRecs.title", undefined, true),{creatorName:t})}),(0,w.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,w.jsx)(j,{creatorData:e.user,onTap:d,onUserFollow:c},e.user_id))})]})})},C=3,F=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],T=({fullName:e,id:t,numCreatorsToShow:i=C,pinId:a,viewParameter:n,viewType:l})=>{let r=(0,x.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:F.join(","),page_size:i,referrer:4,target_user:t}}});if(!r.isLoaded||!(r.data&&r.data.length===i))return null;let s=r.data||[];return(0,w.jsx)(I,{creatorRecs:s,fullName:e,pinId:a,viewParameter:n,viewType:l})};var A=i(136061);let L=void 0!==a?a:a=i(304009),K=e=>e.includes("/:username"),R=function(e){let t=function(){let{forward:e}=(0,A.Hv)(),t=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(t&&K(t))}(),i=(0,g.Z)(L,e);if(!t||!i)return{creatorRecsPrevState:!1};{let e=!!i.promotedIsLeadAd,t=i.richSummary?.typeName==="product";return{creatorRecsPrevState:!!i&&!e&&!t&&!!i.showSuggestedCreatorRecs}}};var Z=i(948938),E=i(409065);function D(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let z=void 0!==n?n:n=i(754761);class M extends l.PureComponent{constructor(...e){super(...e),D(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),D(this,"anchorElementRef",(0,l.createRef)()),D(this,"handleNavigateAndLog",(e,t)=>{let{pin:i}=this.props,a=!!i.storyPinDataId;e===t?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...a?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...a?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...a?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,...a?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}})}),D(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,t=e.entityId,i=e.sponsorship?.creator?.creatorId,a=e.sponsorship?.sponsor?.sponsorId,n=!!e.storyPinDataId;i&&a&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:t,aux_data:{pin_id:t,creator_id:i,sponsor_id:a}})}),D(this,"handleUserFollow",(e,t)=>{let{setShowSuggestedCreatorRecs:i,pin:{entityId:a,doneByMe:n},clientTrackingParams:l}=this.props;a.length,t?(this.props.logContextEvent({event_type:45,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,view_data:{isCurrentUser:n,viewObjectId:a,viewObjectIdStr:a},aux_data:{pin_id:a},clientTrackingParams:l}),this.setState({shouldShowCreatorRecs:!0}),i()):this.props.logContextEvent({event_type:46,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,aux_data:{pin_id:a},clientTrackingParams:l})})}static getDerivedStateFromProps(e,t){let i=e.officialUser;if(i&&i!==t.user)return{...t,user:i};let a=e.suggestedCreatorRecsPrevState;return a&&!t.shouldShowCreatorRecs?{...t,shouldShowCreatorRecs:a}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,w.jsx)(s.xu,{});let{pin:t,viewerUserId:i,isORBACProfileManager:a,clientTrackingParams:n,isCloseupRelatedPinsAboveTheFoldEnabled:l}=this.props,{full_name:r,follower_count:o,id:c,image_medium_url:u,is_verified_merchant:p,username:g,verified_identity:m}=e,h=!!m?.verified,_=!!t.promotedIsLeadAd,y=t.richSummary?.typeName==="product",x=!!(!_&&!y&&this.state.shouldShowCreatorRecs),f=!!i&&i===c,v=t.pinner?.isAdsOnlyProfile&&t.pinner.adsOnlyProfileSite?t.pinner?.adsOnlyProfileSite:`/${g}/`;return(0,w.jsx)(s.xu,{position:"relative",children:(0,w.jsxs)(s.xu,{children:[(0,w.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(s.xu,{flex:"grow",children:(0,w.jsx)(Z.Z,{followerCount:o,fullName:r,imageUrl:u,isPromoted:!!(t.promoter&&t.isPromoted),isVerifiedIdentity:h,isVerifiedMerchant:p,onNavigateClick:()=>this.handleNavigateAndLog(v,t.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:v===t.pinner?.adsOnlyProfileSite,profileUrl:v,sponsorName:t.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:t.sponsorship?.status,sponsorUsername:t.sponsorship?.sponsor?.username??""})}),!a&&(0,w.jsx)(s.xu,{flex:"none",children:(0,w.jsx)(s.xu,{children:!f&&!l&&(0,w.jsx)(d._7,{anchor:".followButton",anchorElementRef:this.anchorElementRef.current,children:(0,w.jsx)(s.xu,{ref:this.anchorElementRef,children:(0,w.jsx)(P.Z,{button:({followText:e,onClick:t,userFollowed:i})=>(0,w.jsx)(s.xu,{"data-test-id":`user-${i?"unfollow":"follow"}-button`,children:(0,w.jsx)(s.Fm,{accessibilityLabel:i?this.props.i18n.bt("Following", "Following", "creatorCard.followingButton.accessibilityLabel", undefined, true):this.props.i18n.bt("Follow", "Follow", "creatorCard.followButton.accessibilityLabel", undefined, true),onClick:t,selected:!!i,size:"lg",text:e})}),clientTrackingParams:n,fullName:r,id:c,imageUrl:u||"",inline:!0,isOwnProfile:f,onUserFollow:e=>this.handleUserFollow(c,e),profileUrl:v,size:"md",viewParameter:this.viewParameter,viewType:this.viewType})})})})})]}),x&&(0,w.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,w.jsx)(T,{fullName:r,id:c,pinId:t.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let B=(0,h.Z)(function(e){let{logContextEvent:t}=(0,o.v)(),i=(0,m.ZP)(),a=(0,g.Z)(z,e.input),n=(0,r.I0)(),l=p(e.input,()=>{n((0,E.Vw)(a.entityId))},e=>{let t=e.get(a.entityId);t&&t.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,_.Z)(),{creatorRecsPrevState:d}=R(a),{isCloseupRelatedPinsAboveTheFoldEnabled:c}=(0,y.x4)();return(0,w.jsx)(M,{...e,i18n:i,isCloseupRelatedPinsAboveTheFoldEnabled:c,logContextEvent:t,pin:a,setShowSuggestedCreatorRecs:l,suggestedCreatorRecsPrevState:d,viewerUserId:s.isAuth?s.id:null})})},744652:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(667294),n=i(545007),l=i(883119),r=i(144326),s=i(115642),o=i(785893);function d({isCloseupButton:e,isDisabled:t,isFavorited:i,onTap:a,size:n}){let d=(0,r.ZP)(),{closeupWithinMasonryEnabled:c,isCloseupRelatedPinsAboveTheFoldEnabled:u}=(0,s.x4)();return e?(0,o.jsx)(l.hU,{accessibilityLabel:d.bt("Favourite icon", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),bgColor:c?"white":void 0,disabled:t,icon:i?"star":"star-outline",iconColor:"darkGray",onClick:a,size:u?"sm":"lg"}):(0,o.jsx)(l.iP,{disabled:t,onTap:a,children:(0,o.jsx)(l.JO,{accessibilityLabel:d.bt("Favourite icon", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),color:"default",icon:i?"star":"star-outline",size:n})})}var c=i(400416);function u({favorited:e,favoriteCount:t,isCloseupButton:i,onFavorite:s,onUnfavorite:u,pinId:p,size:g}){let m=(0,r.ZP)(),h=(0,n.I0)(),[_,y]=(0,a.useState)(!1),[x,f]=(0,a.useState)(e),[v,k]=(0,a.useState)(t??0),b=async()=>{(f(!x),y(!0),x)?(k(v-1),await h(async e=>{await (0,c.Z)({url:`/v3/pins/${p}/favorite/`,method:"DELETE"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:-1,value:!1}})}),u()):(k(v+1),await h(async e=>{await (0,c.Z)({url:`/v3/pins/${p}/favorite/`,method:"POST"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:1,value:!0}})}),s()),y(!1)},P=v<10?v:m.bt("9+", "9+", "favoriteButton.favoriteCountText", undefined, true);return(0,o.jsxs)(l.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==t&&v>0&&(0,o.jsx)(l.xv,{size:"200",weight:"bold",children:P}),(0,o.jsx)(d,{isCloseupButton:i,isDisabled:_,isFavorited:x,onTap:()=>{b()},size:g})]})}},30794:(e,t,i)=>{i.d(t,{Z:()=>tT});var a,n,l=i(545007),r=i(616550),s=i(543166),o=i(222637),d=i(667294),c=i(883119),u=i(307127),p=i(739059),g=i(703594),m=i(921256),h=i(809394),_=i(239931),y=i(775725),x=i(912764),f=i(649787),v=i(401039),k=i(796768),b=i(477055),P=i(656412),S=i(451121),w=i(194959),j=i(128976),I=i(794072),C=i(895573),F=i(629586),T=i(512660),A=i(738390),L=i(505612),K=i(293704),R=i(652444),Z=i(140066);i(167912);var E=i(389229),D=i(354765),z=i(642593),M=i(573706),B=i(47848),O=i(144326),V=i(687768),H=i(625987),U=i(115642),N=i(433788),W=i(785893);let $=void 0!==a?a:a=i(550009),G=({inCommentFeedRedesignExp:e,isLoadingNewlyCreatedComment:t,pinKey:i,scrollContainerRef:a,viewParameter:n,peekCloseupEnabled:r})=>{let s=(0,O.ZP)(),o=(0,H.lV)(),{inCommentFooterRedesignExp:u,isCommentThreadExpanded:p,setIsCommentThreadExpanded:g}=(0,U.x4)(),{logContextEvent:m}=(0,M.v)(),[h,_]=(0,d.useState)(!1),y=(0,B.Z)($,i),{aggregatedPinData:x}=y||{},{didItData:f,entityId:v}=x||{},k=x?.commentCount??0,b=f?.imagesCount??0,P=k+b,S=P>0,w=u?(0,z.i$)(P,s):s.bt("Comments", "Comments", "productComments.accordionHeader.text", undefined, true),j=u?(0,z.mz)(s):s.bt("No comments yet. Add one to start the conversation.", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true),I=(0,l.v9)(e=>(0,N.Z)(e,v,o))[0],F=!!I&&e&&(0,W.jsx)(E.Z,{comment:I});return(0,W.jsx)(D.Z,{paddingY:e?4:3,topBorder:!0,children:(0,W.jsx)(V.Z,{arrowDirection:"arrow-down",content:S?(0,W.jsx)(C.Z,{aggregatedPinId:y.aggregatedPinData?.entityId,closeupAttributionId:y.closeupAttribution?.entityId,closeupAttributionUsername:y.closeupAttribution?.username,commentCount:k,commentsDisabled:y.commentsDisabled,commentsLoadedCallback:_,inCommentFeedRedesignExp:e,isCommentSectionOpen:!r,isLoadingNewCreatedComment:t,isVideo:!!y.videos?.videoList,photoCount:b,pinId:y.entityId,pinnerId:y.pinner?.entityId,scrollContainerRef:a,shouldShowHeading:!1,storyPinDataId:y.storyPinData?.entityId,viewParameter:n}):null,header:w,inCommentFeedRedesignExp:e,isCollapsible:(y.aggregatedPinData?.commentCount??0)+(y.aggregatedPinData?.didItData?.imagesCount??0)>0,isCommentSectionOpen:p&&e,isContentLoaded:h,isOpenByDefault:!e&&!r&&S,onToggle:e?e=>{g&&g(e),e&&m({component:13464,element:11981,event_type:10554,view_type:3})}:void 0,previewContent:S?F:(0,W.jsx)(c.xv,{size:"200",children:j}),previewContentHeight:24,shouldToggleOnBodyTap:e})})};var q=i(559028),X=i(598259);function Q({clickable:e=!0,fontWeight:t="normal",getDisplayName:i,onMouseDown:a,user:n}){let l=(0,r.k6)(),{logContextEvent:s}=(0,M.v)(),{isCloseupRelatedPinsAboveTheFoldEnabled:o,peekCloseupEnabled:d}=(0,U.x4)(),{is_verified_merchant:u,full_name:p="",verified_identity:g,username:m="",is_ads_only_profile:h,ads_only_profile_site:_,image_medium_url:y}=n,x=u||g?.verified,f=(0,W.jsxs)(c.xu,{alignItems:o?"center":void 0,dangerouslySetInlineStyle:{__style:o?{gap:"8px"}:{}},direction:o?"row":void 0,display:o?"flex":void 0,onMouseDown:()=>{a&&a()},children:[d&&(0,W.jsx)(q.qE,{name:p??"",size:"xs",src:y??""}),(0,W.jsx)(c.xv,{lineClamp:1,size:d?"200":"300",weight:t,children:i?i(p):p})]});if(!e)return f;let v=h&&!!_;return(0,W.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,W.jsx)(c.xu,{children:v?(0,W.jsx)(c.Tg,{href:_||"",onTap:()=>{s({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:f}):(0,W.jsx)(c.iP,{onTap:()=>{l.push(`/${m}/`)},children:f})}),x&&(0,W.jsx)(c.xu,{marginStart:2,children:(0,W.jsx)(X.Z,{isVerifiedIdentity:g?.verified,isVerifiedMerchant:u,size:"sm"})})]})}var Y=i(70726),J=i(889870),ee=i(343583),et=i(453854),ei=i(127566);let ea=void 0!==n?n:n=i(145740);function en({clientTrackingParams:e,enableDynamicSizeAdjustment:t,link:i,pinKey:a,text:n,onClickThrough:l}){let r=(0,B.Z)(ea,a),s=(0,d.useRef)(null),[o,u]=(0,d.useState)("500"),{closeupWithinMasonryEnabled:p}=(0,U.x4)(),g=(0,ee.Z)({href:i||"",clientTrackingParams:(0,ei.Z)(e,r?.trackingParams),externalData:{pin:r&&{attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams,advertiserId:r.advertiserId}}}),m=(0,W.jsx)(c.xu,{ref:s,children:(0,W.jsx)(c.X6,{id:"product-heading",size:p?"400":o,children:n})});return(0,d.useEffect)(()=>{if(!s||!s.current||!t)return;let e=s.current.querySelector("#product-heading");if(!e)return;let i=Number(e.offsetHeight)||0;Number.isFinite(i)&&u(2>=Math.floor(i/33)?"500":"400")},[t,s]),(0,W.jsx)(et.q,{children:({hovered:t,onMouseEnter:a,onMouseLeave:n})=>(0,W.jsx)(J.Z,{clientTrackingParams:e,hovered:t,pinKey:r,viewType:3,children:(0,W.jsx)(c.xu,{onMouseEnter:a,onMouseLeave:n,children:i?(0,W.jsx)(c.xu,{"data-test-id":"link-navigation",children:(0,W.jsx)(c.xv,{children:(0,W.jsx)(c.rU,{href:i,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),g({event:e}),l({componentType:14284})},underline:"none",children:m})})}):m})})})}var el=i(313255),er=i(656485),es=i(498106),eo=i(602185),ed=i(512541),ec=i(240760),eu=i(282999),ep=i(770975),eg=i(730212),em=i(750077);function eh({richPinData:e={}}){return e?.products?.[0]}var e_=i(715824),ey=i(151958),ex=i(383399),ef=i(501912),ev=i(801621),ek=i(590045);function eb({priceHistorySummary:e}){let t;let i=(0,O.ZP)(),{durationDays:a,typicalPrice:n,lowestPrice:l}=e||{};return Number.isInteger(a)&&(n||l)?(n?t=(0,ec.nk)(i.bt("{{ typicalPrice }} average price over last {{ durationDays }} days", "{{ typicalPrice }} average price last {{ durationDays }} days", "PriceHistorySummary.typicalPriceText", undefined, true),{typicalPrice:n,durationDays:a}):l&&(t=(0,ec.nk)(i.bt("{{ lowestPrice }} lowest price in {{ durationDays }} days", "{{ lowestPrice }} lowest price in {{ durationDays }} days", "PriceHistorySummary.lowestPriceText", undefined, true),{lowestPrice:l,durationDays:a})),(0,W.jsx)(c.xu,{"data-test-id":"price-history-summary",children:(0,W.jsx)(c.xv,{children:t})})):null}var eP=i(811093),eS=i(689658),ew=i(179735);let ej=(0,ew.Z)(()=>i.e(95246).then(i.bind(i,844446)),void 0,"CloseupPartnerModule"),eI=(0,ew.Z)(()=>i.e(48745).then(i.bind(i,477418)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function eC({clientTrackingParams:e,detailsScrollContainerRef:t,hasXYcoordinates:i,inCommentFeedRedesignExp:a,isBoardOwnerOrCollaborator:n,isLoadingNewlyCreatedComment:l,onClickThrough:s,outerPaddingSize:o,pin:u,pin:{closeup_attribution:p,closeup_unified_description:g,closeup_unified_title:m,is_oos_product:h,is_stale_product:_,link_user_website:y,link_domain:x,rich_metadata:f},showPartnerModule:v,showPDPComments:k,showPinNote:b,showPinStats:P,showTrendsOnPinCloseup:S,trendsData:w,viewParameter:j}){let I=(0,O.ZP)(),{logContextEvent:E}=(0,M.v)(),z=(0,ex.Z)(),{isCloseupRelatedPinsAboveTheFoldEnabled:B,closeupWithinMasonryEnabled:V,peekCloseupEnabled:H,viewportSize:N}=(0,U.x4)(),[$,q]=(0,d.useState)(!1),X=(0,ep.E)(),J=(0,d.useCallback)(()=>{X&&X.markConstraintComplete("shopButton")},[X]),ee=(0,ey.Z)({type:"deprecated",data:u}),et=(0,L.Z)({type:"deprecated",data:u},z),ei=ee(),{isAuthenticated:ea}=(0,eg.B)(),ew=(0,ef.Z)(),eC=(0,ev.lJ)(z,ew),eF=(0,ev.q6)(z,u?.pinner?.id,ew),eT=eh({richPinData:f}),eA=eT?.offer_summary||{},{in_stock:eL}=eA,{duration_days:eK,lowest_price:eR,typical_price:eZ}=eT?.price_history_summary||{},eE=Number.isInteger(eK)&&(!!eR||!!eZ),eD=h||!1===eL,{rating_value:ez,review_count:eM,rating_count:eB}=(f||{}).aggregate_rating||{},{shipping_info:eO}=eT||{},eV=y?.official_user?.first_name,{official_user:eH}=x||{},eU=p||eH,{first_name:eN}=eU||{},eW=(0,e_.ZP)(eV||eN||"",20),e$=eT?.brand,eG=e$?.name,eq=e$?.user_id,eX=eU?.id===eq||e$?.is_merchant,eQ=!!eG,eY=(0,r.TH)(),eJ=!ea&&(0,eu.am)(eY),e0=!!(u.promoter&&!u.is_downstream_promotion)&&u.promoter?.id===u.native_creator?.id,{sponsorship:e1,story_pin_data:e2,affiliate_link:e4}=u,e3=!!e4,e6=!!e2?.has_product_pins||!!e2?.has_affiliate_products,e7=(!!e1||e6)&&!e0&&!eJ||e3,e8=(0,d.useCallback)(e=>{if(e&&eQ){let t=eG!==e&&(null===eX||!1===eX),i=B?"normal":"bold",a=H?"200":void 0;return B?(0,W.jsx)(c.xv,{align:"center",size:a,weight:i,children:e}):t?(0,W.jsx)(c.xv,{align:"center",size:a,weight:i,children:(0,ec.nk)(I.bt("{{ brand }} sold by {{ merchant }}", "{{ brand }} sold by {{ merchant }}", "productmetadata.officialuserattribution.text", undefined, true),{brand:(0,W.jsx)(c.xv,{inline:!0,size:a,weight:i,children:eG},"brand-name"),merchant:(0,W.jsx)(c.xv,{inline:!0,size:a,weight:i,children:e},"merchant-name")})}):[(0,W.jsx)(c.xv,{inline:!0,size:a,weight:i,children:eG},"brand-name")]}return e},[eG,eX,B,I,eQ,H]),e5=(g||"").trim(),e9=u.formatted_description?.components??[],te=(0,eS.j)({components:e9,pinDescription:e5}),{link:tt,tracked_link:ti}=u||{},ta=decodeURIComponent(ti||tt||""),{currentDomain:tn}=(0,Z.Wp)({carouselData:u.carousel_data&&{carouselSlots:u.carousel_data.carousel_slots&&u.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:u.carousel_data?.index},domain:u.domain}),tl=tn.split(".")[0],{free_shipping_price:tr,free_shipping_value:ts}=eO||{},to=!!(ez&&(eM||eB)||tr&&ts),td=(eW||tl)&&ta,tc=o??ek.ER,tu=V?0:6;tu=a?8:tu;let tp=u.favorited_by_me?I.bt("Remove from favourites", "Remove from favorites", "closeup.productMetadata.removeFromFavorites", undefined, true):I.bt("Add to favourites", "Add to favorites", "closeup.productMetadata.addToFavorites", undefined, true),tg=[...H?[]:[(0,W.jsx)(T.Z,{paddingLeft:V?tc/2:0,paddingRight:V?tc/2:0,children:te.length>0&&(0,W.jsx)(c.xu,{"data-test-id":"product-description",marginTop:V?2:5,children:(0,W.jsx)(Y.Z,{commerceData:ei,inCommentFeedRedesignExp:a,structuredDescription:te,type:"expandable",viewParameter:j})})},"closeupProductDescription")],...B&&n?[(0,W.jsx)(T.Z,{paddingLeft:V?tc/2:0,paddingRight:V?tc/2:0,children:(0,W.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:V?0:2,marginTop:2,children:[V?(0,W.jsx)(c.X6,{size:"400",children:tp}):(0,W.jsx)(c.xv,{weight:"bold",children:tp}),(0,W.jsx)(F.Z,{board:u.board,favorited:!!u.favorited_by_me,pinId:u.id,section:u.section})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[],...b?[(0,W.jsx)(T.Z,{paddingLeft:V?tc/2:0,paddingRight:V?tc/2:0,children:(0,W.jsx)(D.Z,{paddingY:B?0:3,topBorder:!B,children:(0,W.jsx)(eI,{boardId:u.board?.id,isGroupNote:et,pinId:u.id,pinNoteText:u.pin_note?.text})})},"closeupPinNote")]:[]],tm=()=>(0,W.jsx)(c.xu,{"data-test-id":"product-price",marginTop:B?0:2,children:(0,W.jsx)(el.Z,{colorOverride:"default",isSoldOut:eD,isStale:_,productDetails:{maxPrice:eA.max_price,minPrice:eA.min_price,price:eA.price,standardPrice:eA.standard_price},type:V?"mobileHeading":"heading"})},"product-price"),th=()=>(0,W.jsx)(c.xu,{marginTop:B?0:3,children:(0,W.jsx)(er.Z,{bracket:!0,count:eB||eM,countFormat:"number",countType:eB?"rating":"review",hideSeparationDot:!0,ratingValue:ez,shippingInfo:{freeShippingPrice:tr,freeShippingValue:ts}})}),t_=()=>eU?(0,W.jsx)(c.xu,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:V?2:void 0,marginTop:2,children:(0,W.jsx)(Q,{getDisplayName:e8,onMouseDown:eQ?()=>{E({event_type:102,object_id_str:u.id,view_type:3,view_parameter:144,element:13592,aux_data:ei})}:void 0,user:eU})}):null,ty=()=>(0,W.jsx)(T.Z,{paddingBottom:H?tc/2:void 0,paddingRight:0,children:(0,W.jsx)(c.xu,{"data-test-id":"product-shop-button",marginTop:B?void 0:5,children:(0,W.jsx)(es.Z,{clientTrackingParams:e,color:"blue",link:ta,onClickThrough:s,onLoad:J,pinKey:{type:"deprecated",data:u},text:I.bt("Visit site", "Visit site", "closeup.shop.button", undefined, true)})})}),tx=4;V?tx=0:H&&eU&&(tx=2);let tf=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,W.jsxs)(c.xu,{marginTop:V?2:0,children:[V&&v&&(0,W.jsx)(T.Z,{paddingRight:o,children:(0,W.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,W.jsx)(eo.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,W.jsx)(em.Z,{children:(0,W.jsx)(ej,{borderStyle:K.te,isStoryPin:!1,pinKey:{type:"deprecated",data:u},showPinStats:P,trendsData:S?w?.data?.results:null,viewportSize:N})})})})}),H&&(0,W.jsx)(T.Z,{paddingRight:0,children:t_()}),(0,W.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{overflowY:H?"auto":void 0,paddingRight:H?`${K.Gd}px`:void 0}},height:H?"100%":void 0,marginBottom:n||k?0:5,marginEnd:H?void 0:tu,marginTop:V?2:0,children:[H&&(0,W.jsx)(ed.Z,{unsafeCSS:tf}),(0,W.jsxs)(c.kC,{"data-testid":"product-metadata-details-flex",direction:"column",height:H?"100%":void 0,children:[(0,W.jsx)(T.Z,{paddingLeft:V?tc/2:0,paddingRight:V?tc/2:0,children:(0,W.jsxs)(c.xu,{alignItems:V?"start":void 0,display:V?"flex":void 0,justifyContent:V?"between":void 0,children:[(0,W.jsxs)(c.kC.Item,{flexBasis:"77%",children:[!!m&&(0,W.jsx)(c.xu,{"data-test-id":"product-title",marginTop:tx,children:(0,W.jsx)(en,{clientTrackingParams:e,link:ta,onClickThrough:s,pinKey:{type:"deprecated",data:u},text:m})},"product-title"),B?(0,W.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:V?4:8,flexWrap:V?"wrap":void 0}},display:"flex",marginTop:2,children:[tm(),to&&th()]}):tm(),eE&&(0,W.jsx)(c.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,W.jsx)(eb,{priceHistorySummary:{durationDays:eK,lowestPrice:eR,typicalPrice:eZ}})},"product-price-history-summary"),!B&&to&&th(),!H&&t_(),e7&&!H&&(0,W.jsx)(eP.Z,{hasAffiliateLink:e3,hasAffiliateProducts:e6})]}),(0,W.jsx)(c.kC.Item,{children:V&&ty()})]})}),H&&(0,W.jsx)(T.Z,{paddingLeft:V?tc/2:0,paddingRight:V?tc/2:0,children:te.length>0&&(0,W.jsx)(c.xu,{"data-test-id":"product-description",marginTop:V?2:0,children:(0,W.jsx)(R.Z,{hasAffiliateLink:e3,hasProductPins:e6,pinKey:{type:"deprecated",data:u},showSponsorshipAttribution:e7})})}),td&&!V&&ty(),(0,W.jsx)(d.Fragment,{children:tg.map(e=>(0,W.jsxs)(d.Fragment,{children:[e,V&&(0,W.jsx)(T.Z,{paddingLeft:tc/2,paddingRight:tc/2,children:(0,W.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,W.jsx)(A.Z,{show:!0,surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),!tg.length&&(0,W.jsx)(T.Z,{paddingLeft:tc/2,paddingRight:tc/2,children:(0,W.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,W.jsx)(A.Z,{show:V,surface:"product-metadata-details"})})}),k&&(0,W.jsxs)(T.Z,{marginTop:"auto",paddingBottom:V?tc/2:void 0,paddingLeft:V?tc/2:0,paddingRight:V?ek.ER/2:0,children:[a&&!V&&(0,W.jsx)(c.xu,{marginBottom:5,children:(0,W.jsx)(A.Z,{show:!0})}),B?!i&&!!u.is_eligible_for_aggregated_comments&&(0,W.jsx)(eo.Z,{name:"ProductPinCanonicalCard",children:(0,W.jsx)(C.Z,{aggregatedPinId:u.aggregated_pin_data?.id,closeupAttributionId:u.closeup_attribution?.id,closeupAttributionUsername:u.closeup_attribution?.username,commentCount:u.aggregated_pin_data?.comment_count??0,commentsDisabled:u.comments_disabled,inCommentFeedRedesignExp:a,isCommentSectionOpen:$,isLoadingNewCreatedComment:l,isORBACProfileManager:eF,isShopTheLook:u.aggregated_pin_data?.is_shop_the_look,isVideo:!!u.videos?.video_list,onCommentSectionClick:()=>{q(!$)},orbacSubjectId:eC,photoCount:u.aggregated_pin_data?.did_it_data?.images_count??0,pinId:u.id,pinnerId:u.pinner?.id,scrollContainerRef:t,shouldShowHeading:!(H&&u.aggregated_pin_data?.comment_count===0),storyPinDataId:u.story_pin_data?.id,viewParameter:j})}):(0,W.jsx)(G,{inCommentFeedRedesignExp:a,isLoadingNewlyCreatedComment:l,peekCloseupEnabled:H,pinKey:{type:"deprecated",data:u},scrollContainerRef:t,viewParameter:j}),a&&!V&&(0,W.jsx)(T.Z,{paddingRight:0,children:(0,W.jsx)(A.Z,{show:!0})})]},"closeupProductMetadataComments")]})]})]})}var eF=i(32121);function eT(e){let{disabled:t,height:i,top:a=0,zIndex:n}=e,l=(0,d.useRef)(null),r=(0,eF.Z)();if(t)return e.children;let s=l.current?.getBoundingClientRect().top||0;return(0,W.jsx)(c.xu,{ref:l,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,W.jsx)(c.Le,{height:i,top:r+a+s,zIndex:n,children:e.children})})}var eA=i(961754),eL=i(167210);let eK=(0,ew.Z)(()=>Promise.all([i.e(33959),i.e(21177)]).then(i.bind(i,71272)),void 0,"CloseupActionBarCommon");function eR({disableRelatedResource:e=!1,relatedResourceOptions:t,hasXYcoordinates:i,isEligibleForStlFlyout:a,isStoryPin:n,isWideVideo:l,pin:r,searchQuery:s,taggedProducts:o,trafficSource:c,viewParameterType:u,onClickThrough:p,showStructuredDescription:g,data:m,didShortClickThrough:h,goBack:_,isInStream:y=!1,isDeletedStoryPin:x,onSaveButtonClick:f,onUpdate:C,outerBodyStyle:F,routePush:T,showPartnerModule:A,showPinStats:L,showTrendsOnPinCloseup:K,showRepinOnInitialRender:R,trendsData:Z,viewType:E}){let D=(0,eA.Z)(e?null:t),z=(0,d.useRef)(null),M=(0,d.useRef)(null),B=(0,ex.Z)(),{closeupWithinMasonryEnabled:O,isCloseupRelatedPinsAboveTheFoldEnabled:V,viewportSize:H,clientTrackingParams:N}=(0,U.x4)(),$=(0,ef.Z)(),G=(0,ev.lJ)(B,$),q=(0,b.ZP)(!1,90),X=(0,w.Z)(),Q=(0,S.Z)({metadataContainerRef:z}),{isCloseupMediaViewerEnabled:Y}=(0,I.Z)({isShufflePin:!!r?.shuffle}),[J,ee]=(0,d.useState)(!1),et=!!r.is_eligible_for_aggregated_comments,{setClickthroughComponentForSurvey:ei,imageContainerRef:ea}=X,{getViewParameter:en}=(0,k.ZP)({type:"deprecated",data:r}),el=en(u),er=V||"lg"===H?ek.ER:ek.g9,es=(0,W.jsx)(eK,{actionBarContainerRef:M,goBack:_,gridDescription:r.description??"",isDeletedStoryPin:!!x,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!x,isOnSecretBoard:!1,isStoryPin:n,onEditSubmit:C,onSaveButtonClick:f,outerPaddingSize:er,pin:r,routePush:T,showRepinOnInitialRender:R,viewParameter:el}),eo=(0,W.jsx)(j.Z,{hasXYcoordinates:i,isEligibleForStlFlyout:a,isStoryPin:n,isWideVideo:l,pin:r,searchQuery:s,taggedProducts:o,trafficSource:c,viewParameterType:u,visualContentContainerRef:et?q.visualContentContainerRef:void 0,imageContainerRef:ea,handleImageClickThrough:()=>p({wasImageClicked:!0}),setClickthroughComponentForSurvey:ei,isShortImage:Q,onSaveButtonClick:f,viewParameter:el}),ed=(0,W.jsx)(eT,{disabled:!1,top:-16,zIndex:eL.mS,children:eo}),ec=g&&!Y?ed:eo,eu=(0,P.Z)({pinKey:{type:"deprecated",data:r},orbacActingAs:$,viewer:B}),ep=(0,W.jsx)(d.Fragment,{children:(0,W.jsx)(eC,{clientTrackingParams:N,detailsScrollContainerRef:z.current,hasXYcoordinates:i,inCommentFeedRedesignExp:!1,isBoardOwnerOrCollaborator:eu,isLoadingNewlyCreatedComment:J,onClickThrough:p,outerPaddingSize:er,pin:r,showPartnerModule:A,showPDPComments:et,showPinNote:eu,showPinStats:L,showStructuredDescription:g,showTrendsOnPinCloseup:K,trendsData:Z,viewParameter:el})});return(0,W.jsx)(v.R,{descriptionContentMaxHeight:et?q.descriptionContentMaxHeight:void 0,inCommentFeedRedesignExp:!1,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!x,isWideVideo:l,didShortClickThrough:h,webLinkSurveyState:X,pin:r,outerBodyStyle:F,isStoryPin:n,trafficSource:c,visualContentContainer:ec,isCloseupMaximized:!1,data:m,outerPaddingSize:er,isInStream:y,metadataContainerRef:z,onClickThrough:()=>{p&&p({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},isLoadingNewlyCreatedComment:J,setIsLoadingNewlyCreatedComment:ee,viewParameter:el,viewType:E,metadata:ep,viewer:B,orbacSubjectId:G,relatedModulesResource:D,marginBottom:O?0:8,disableLeadPin:!0,isDeletedStoryPin:x,onSaveButtonClick:f,showRepinOnInitialRender:R,goBack:_,onUpdate:C,showPDPComments:et,routePush:T,closeupActionBarMaxWidth:O?void 0:ek.CI,visualContentContainerRef:et?q.visualContentContainerRef:void 0,actionBarContainerRef:M,closeupActionBar:es})}var eZ=i(808880),eE=i(281584),eD=i(888156),ez=i(589678),eM=i(609326),eB=i(165190),eO=i(959064),eV=i(909015),eH=i(514796),eU=i(713812),eN=i(400416),eW=i(346655),e$=i(787487),eG=i(89393),eq=i(876597),eX=i(995692),eQ=i(953167),eY=i(106641),eJ=i(891985),e0=i(983302),e1=i(660771),e2=i(70494),e4=i(947956),e3=i(297728),e6=i(391524),e7=i(765853),e8=i(864723),e5=i(635258),e9=i(235838),te=i(154785),tt=i(489354),ti=i(901450),ta=i(19788),tn=i(420656),tl=i(530871),tr=i(68439),ts=i(430810),to=i(922664),td=i(241716),tc=i(210173),tu=i(212443),tp=i(207462);function tg(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let tm=(0,d.lazy)(()=>i.e(95246).then(i.bind(i,844446))),th=(0,d.lazy)(()=>i.e(75754).then(i.bind(i,345742))),t_={sm:80},ty=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}),tx={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},tf={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},tv={boxShadow:void 0,borderRadius:16};function tk({conversation_id:e,senderId:t,pinId:i}){(0,eN.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:t,pin:i}})}function tb({viewportSize:e,hasCarouselData:t}){return t&&["lg","md"].includes(e)}let tP=({isWideVideo:e,viewportSize:t,peekCloseupEnabled:i})=>!["md","sm"].includes(t)&&!e||i&&"sm"!==t;class tS extends d.Component{constructor(...e){super(...e),tg(this,"state",this.props.initialState),tg(this,"removedPwtThumbnailsConstraint",!1),tg(this,"setResultScrollContainerRef",e=>{this.resultScrollContainer||(this.resultScrollContainer=e,this.forceUpdate())}),tg(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),tg(this,"mounted",!1),tg(this,"updateViewportSize",(0,e9.Z)(()=>{let{visualState:{carouselData:e}}=this.state,{pin:t,closeupWithinMasonryEnabled:i,peekCloseupEnabled:a}=this.props,{isWideVideo:n}=(0,eY.Z)((0,e2.Z)({pin:t}))||{};if(this.mounted){let t=function({isWideVideo:e,hasCarouselData:t,closeupWithinMasonryEnabled:i,verticalNavWidth:a}){let{BREAKPOINT:n,WIDE_VIDEO_BREAKPOINT:l,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=ty({verticalNavWidth:a}),c=n,u=i?o:s;return(e&&(c=l),t&&(c=r,u=i?d:u),window?.innerWidth<u)?"sm":window?.innerWidth<c?"md":"lg"}({isWideVideo:!!n,hasCarouselData:!!e,closeupWithinMasonryEnabled:i,verticalNavWidth:this.props.verticalNavWidth}),l=tb({viewportSize:t,hasCarouselData:!!e}),{hideBackButton:r,backButtonLabelFitInScreen:s}=function({viewportSize:e,isWideCarousel:t,closeupWithinMasonryEnabled:i,peekCloseupEnabled:a,verticalNavWidth:n}){let l;let{BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:r,BACK_BUTTON_NARROW_BREAKPOINT:s,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:o,BACK_BUTTON_WIDE_BREAKPOINT:d,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:c,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:u}=ty({verticalNavWidth:n});return l=["md","sm"].includes(e)?t?r:s:t?o:d,{hideBackButton:!i&&!a&&window?.innerWidth<=l||a&&"sm"===e,backButtonLabelFitInScreen:window?.innerWidth>=(t?c:u)}}({viewportSize:t,isWideCarousel:l,closeupWithinMasonryEnabled:i,peekCloseupEnabled:a,verticalNavWidth:this.props.verticalNavWidth});this.setState({viewportSize:t,hideBackButton:r,backButtonLabelFitInScreen:s})}},50)),tg(this,"triggerQuickPromote",()=>{let{getSterlingURL:e,pinId:t,routePush:i,experimentsClient:a,requestContext:n}=this.props,{advertiser:l}=n,r=e((0,ta.GI)(l)?"createAutomated":"create"),s=`${e5.auO}${r}?pinId=${t}`;this.setState({quickPromoteModalTriggered:!0});let o=e("quick_promote_on_www");a.checkExperiment("adv_growth_deprecate_qp_pins").anyEnabled?window.location.assign(s):i(`${o}?pinId=${t}`)}),tg(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),tg(this,"executeClickthrough",e=>{let{pinId:t,clientTrackingParams:i,setPlacementExtraContext:a,viewer:n,trafficSource:l,logContextEvent:r,pinFormattedLink:s,setAbortNoActionPlacementTimeout:o}=this.props,{pin:d,didPinClickThrough:c,didShortClickThrough:u}=this.state,p=!!d.story_pin_data,{wasImageClicked:g,auxData:m,componentType:h=p?228:4,elementType:_=g?35:p?11157:361,viewType:y=3}=e||{},x=(0,e4.Z)({hasPin:!0,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),f={...this.props.getStringifiedCommerceAuxData(),...m||{}};if(n&&n.isAuth&&!c&&a&&(a({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),p&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:d.id,url:s}}),r({event_type:101,object_id_str:t,component:h,element:_,aux_data:f,clientTrackingParams:i}),r({event_type:12,object_id_str:t,view_type:y,view_parameter:x,component:h,element:_,aux_data:f,clientTrackingParams:i}),r({event_type:8948,view_type:y,view_parameter:x,component:h,element:_,object_id_str:t,aux_data:{click_type:"clickthrough",closeup_navigation_type:l&&(0,eJ.sV)(l)?"deeplink":"click",...f}}),g){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),u&&this.setState({didShortClickThrough:!1}),o(!0)}),tg(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),tg(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),tg(this,"handleSaveButtonClick",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:13306,clientTrackingParams:this.props.clientTrackingParams,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),tg(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),tg(this,"handleCarouselSwipe",e=>{let{visualState:t,firstLoadComplete:i}=this.state;i&&this.setState({visualState:{...t,carouselData:{...t.carouselData,index:e}}})}),tg(this,"dispatch",(e,t)=>this.setState(t=>(0,m.Z)(t,e),t)),tg(this,"handleScroll",(0,e9.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let t=td.hu,i=this.relatedPinsHeaderRef.getBoundingClientRect().top<=t;i&&!e?this.setState({isOverRelatedPins:!0}):!i&&e&&this.setState({isOverRelatedPins:!1})}},10)),tg(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),tg(this,"onRelatedInterestsBannerDismiss",()=>{this.setState({isRelatedInterestsBannerDismissed:!0})})}populatePlaceholderCarouselData(){let{pin:e}=this.props,{visualState:t}=this.state;this.setState({visualState:{...t,carouselData:(0,eH.Z)({carouselData:e.carousel_data,images:e.images,product:(e.rich_metadata||e.rich_summary)?.products?.[0]})}})}componentDidMount(){let{conversation_id:e,conversationOpen:t,dispatch:i,pin:a,pinId:n,senderId:l,setPlacementExtraContext:r,shouldShowInbox:s,toastManager:o,openInbox:d,trackInteraction:c}=this.props,{visualState:{carouselData:u}}=this.state,p=eh({richPinData:a.rich_summary});this.mounted=!0,!u&&(p?.has_multi_images||p?.videos?.length)&&this.populatePlaceholderCarouselData(),e&&l&&n&&tk({conversation_id:e,senderId:l,pinId:n}),e&&(t(e),s&&d()),a.image_signature&&this.props.setMostRecentPinImage(a.image_signature),n&&this.props.setMostRecentPinId(n),r&&r({is_own_or_group_pin:this.isOwnOrGroupPin});let g=(0,e8.M0)().getItem(eM.M8)||"";g&&g===n&&((0,e8.M0)().removeItem(eM.M8),(0,e8.M0)().removeItem(eM.RD),c({action:"trigger",item:"unauth-save-button-quicksave"}),(0,eE.Z)({description:a.description,entityId:a.id,link:a.link,promotedIsRemovable:a.promoted_is_removable,title:a.title},this.props.i18n).then(e=>{let{id:t,url:l,name:r}=e;i((0,tp.d)({boardId:t,url:l,title:r||"",pinId:n,nodeId:a.node_id})),o.showToast(({hideToast:t})=>(0,W.jsx)(ts.Z,{boardName:e.name,boardUrl:e.url,onHide:t,pinImageUrl:a.images?.["236x"]?.url??""}))})),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,eW.Z)()}componentDidUpdate(e){let{didRepin:t,isLandingPage:i,pin:a,pinId:n,conversation_id:l,senderId:r,pinResource:s,pinResource:{data:o},pwtSurfaceContext:d,setPlacementExtraContext:c,showQuickPromote:u}=this.props,{visualState:{carouselData:p},firstLoadComplete:g,quickPromoteModalTriggered:m}=this.state;this.visualDataDidUpdate(),!g||this.isWideCarousel()||this.removedPwtThumbnailsConstraint||(d?.removeConstraint("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),o&&!g&&(o.carousel_data&&(o.carousel_data.index=p?.index||0),this.dispatch({type:"pinLoaded",pin:o})),l&&r&&n&&e.pinId!==n&&tk({conversation_id:l,senderId:r,pinId:n}),!e.pinResource.data&&s.data&&!m&&u&&this.triggerQuickPromote();let h={};(e8.ZP.getItem(eM.W3)||"").includes(`/pin/${n}`)&&i&&(h.loginPageType="pin"),t&&(h.didRepin=!0),a.image_signature&&(h.pin_image_signature=a.image_signature),h.is_own_or_group_pin=this.isOwnOrGroupPin,!(0,e$.Z)(h)&&c&&c({...h})}componentWillUnmount(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:t}=this.props,i=(e||{}).board||{},a=i.is_collaborative&&(0,eO.Z)(i.collaborated_by_me,i.owner?.id,t);return!!(t.isAuth&&e.pinner?.id===t.id||a)}isWideCarousel(){let{viewportSize:e,visualState:{carouselData:t}}=this.state;return tb({viewportSize:e,hasCarouselData:!!t})}visualDataDidUpdate(){let e;let{pin:t,mainImage:i}=this.props,{visualState:{carouselData:a,mainImage:n},firstLoadComplete:l}=this.state;if(!l)return;let r=(0,eH.Z)({carouselData:t.carousel_data,images:t.images,product:(t.rich_metadata||t.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,eU.Z)(s.images),d=a?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...r,index:d},previewImage:(0,tl.Yf)(t.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:i,previewImage:(0,tl.Yf)(t.images?.["236x"])},(a?.id!==e.carouselData?.id||JSON.stringify(a?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||n.url!==e.mainImage.url)&&(this.setState({visualState:e}),this.updateViewportSize())}renderBodyContent({isEligibleForStlFlyout:e,relatedResourceOptions:t,maxWidth:i}){let{experimentsClient:{checkExperiment:a},isLimitedLogin:n,pin:l,pinResource:r,routePush:s,searchQuery:o,showRepinOnInitialRender:p,trafficSource:g,viewer:m,orbacActingAs:h,showStructuredDescription:_,userBusinessRoleResource:y,closeupWithinMasonryEnabled:x,trendsData:f}=this.props,{id:v,sponsorship:k,story_pin_data_id:b,story_pin_data:P}=l,S=!!b,w=!!P?.is_deleted,{creator:j,sponsor:I,status:C}=k||{},{username:F}=j||{},{username:T}=I||{},{refresh:A}=r,L=(0,ev.lJ)(m,h),{data:K}=y||{},R=!l.is_repin&&!!T,Z=T===m.username?[eV.V3.OWNER]:K?.permissions,E=T===m.username||!!Z?.find(e=>ez.Z.includes(e)),D=T===m.username||!!Z?.find(e=>ez.Z.includes(e)),{didShortClickThrough:z,viewportSize:M}=this.state,{isWideVideo:B}=(0,eY.Z)((0,e2.Z)({pin:l}))||{},O=(0,eQ.rh)(l&&{aggregatedPinData:l.aggregated_pin_data&&{creatorAnalytics:l.aggregated_pin_data.creator_analytics&&{_30dRealtime:l.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:l.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:l.board&&{privacy:l.board.privacy},creatorAnalytics:l.creator_analytics&&{_30dRealtime:l.creator_analytics["30d_realtime"]&&{carId:l.creator_analytics["30d_realtime"].id}},isRepin:l.is_repin,pinner:l.pinner&&{entityId:l.pinner.id},storyPinDataId:l.story_pin_data_id,videos:l.videos&&{videoList:l.videos.video_list&&{__typename:"VideoList"}}},m,this.props.experimentsClient,L),V=(0,u.CA)(f?.data),H=R&&m.isAuth&&a("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(E&&0===C||D&&1===C),U=S&&(P?.pages?.length??0)>0,N=(0,eQ.WE)(m,M,O,V,f,H),$=x?tv:tf;return(0,W.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:S?{...tx.storyPinGradientStyle,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,W.jsx)(d.Fragment,{children:(0,W.jsx)(tn.Z,{isStoryPin:S,isWideVideo:B,children:(0,W.jsx)(eo.Z,{name:"CloseupBody",children:(0,W.jsxs)(c.xu,{children:[(0,W.jsxs)(c.xu,{alignItems:B?"center":void 0,direction:B?"column":void 0,display:B?"flex":void 0,children:[H&&"number"==typeof C&&(0,W.jsx)(c.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,W.jsx)(eo.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,W.jsx)(em.Z,{children:(0,W.jsx)(th,{business_role:Z,creatorUsername:F??"",pinId:v,sponsorshipStatus:C})})})}),N&&!x&&(0,W.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"lg"===M&&B?i:"100%",children:(0,W.jsx)(eo.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,W.jsx)(em.Z,{children:(0,W.jsx)(tm,{borderStyle:$,isStoryPin:S,pinKey:{type:"deprecated",data:l},showPinStats:O,trendsData:V?f?.data?.results:null,viewportSize:M})})})})]}),(0,W.jsx)(eR,{data:r.data,didShortClickThrough:z,goBack:this.handleBackButtonClick,isDeletedStoryPin:!!w,isEligibleForStlFlyout:e,isStoryPin:S,isWideVideo:B,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleSaveButtonClick,onUpdate:A,outerBodyStyle:S?null:$,pin:l,relatedResourceOptions:t,routePush:s,searchQuery:o,showPartnerModule:N,showPinStats:O,showRepinOnInitialRender:!n&&p,showStructuredDescription:_,showTrendsOnPinCloseup:V,trafficSource:g,trendsData:f,viewParameterType:U?157:void 0,viewType:3})]})})})})})}render(){let{abortNoActionPlacementTimeout:e,clientTrackingParams:t,contextPinIds:i,getStringifiedCommerceAuxData:a,pin:n,pinDerivedData:l,topLevelTrafficSource:r,topLevelTrafficSourceDepth:s,trafficSource:o,searchQuery:u,storyPinTaggedProductsResource:m,pinResource:h,viewer:_,orbacActingAs:y,inCommentFooterRedesignExp:x,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:v,peekCloseupEnabled:k,isCommentThreadExpanded:b,isPinNoteExpanded:P,isProductDetailsExpanded:S,isInRemoveMagnifyingGlassVariant:w,setIsCommentAttachmentSelectorOpen:j,setIsCommentThreadExpanded:I,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:F,closeupWithinMasonryEnabled:T,setAbortNoActionPlacementTimeout:A,isCloseupMediaViewerOpen:L,setIsCloseupMediaViewerOpen:K,shouldFetchSLURPFields:R,deepLinkBackGoesToBoard:Z,landingContext:E,hideBackButtonExp:D}=this.props,{showStructuredDescription:z,...M}=this.props,B=a(),{isOverRelatedPins:O,backButtonLabelFitInScreen:V,viewportSize:H,didShortClickThrough:U,firstLoadComplete:N,visualState:{carouselData:$}}=this.state,{isWideVideo:G}=(0,eY.Z)((0,e2.Z)({pin:n}))||{},q=!T&&tP({isWideVideo:!!G,viewportSize:H,peekCloseupEnabled:k}),{recommendation_reason:X}=n,Q={name:"RelatedModulesResource",options:{additional_fields:R?["pin.is_eligible_for_closeup_one_bar_refinements"]:void 0,pin_id:n.id,context_pin_ids:i,homefeed_source_sig:X&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(X.reason)&&X.reason_id,page_size:12,search_query:u,source:o,top_level_source:r,top_level_source_depth:s,is_pdp:n.is_eligible_for_pdp,landing_context:E}},Y=(0,ev.q6)(_,n.pinner?.id,y),J=!!n.id&&!Y||T,{data:ee}=m||{},et=this.isWideCarousel(),ei=T?ek.Gg:ek.CI,ea=et&&q?ek.Ch:ei,en=et?ek.Gb:ek.Kn,el=T||"lg"!==H?ea:en-ea,er=N&&(this.isWideCarousel()||T),es=er&&(0,W.jsx)(eT,{disabled:!z||T,children:(0,W.jsx)(e6.Z,{containerId:"InnerScrollContainer",children:(0,W.jsx)(eD.Z,{carouselSlots:$?.carousel_slots??[],commerceData:B,onImageSelect:this.handleCarouselSwipe,pinId:n.id,selectedIndex:$?.index||0,size:"sm",surfaceType:"closeup",viewParameter:(0,e4.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data})})})}),eo=er&&(0,W.jsx)(c.xu,{width:t_.sm}),ed=this.renderBodyContent({relatedResourceOptions:Q,storyPinTaggedProducts:ee,maxWidth:en}),ec=(0,W.jsx)(g.Z,{isVideoPin:l.isVideoPin,pin:n,pinResource:h,topLevelTrafficSource:r,didShortClickThrough:U,firstLoadComplete:N,viewportSize:H,relatedModulesContent:J?(0,W.jsx)(eZ.Z,{closeupBody:ed,pinKey:{type:"deprecated",data:n},relatedResourceOptions:Q,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:r,viewParameter:(0,e4.Z)({hasPin:!!n,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!!n.rich_metadata?.products,hasPinRichMetadataArticle:!!n.rich_metadata?.article,hasPinRichMetadataRecipe:!!n.rich_metadata?.recipe,hasPinStoryPinData:!!n.story_pin_data}),viewportSize:H}):(0,W.jsx)(d.Fragment,{}),onWrapperClick:this.onWrapperClick,beforeBodyContent:es,afterBodyContent:eo,bodyContent:ed,backButton:!D&&(0,W.jsx)(tt.Z,{deepLinkBackGoesToBoard:Z,handleScroll:this.handleScroll,isNewOrRes:(0,eG.Z)(_.createdAt)||(0,eq.Z)(null,_),onClick:this.handleBackButtonClick,showLabel:!!(V&&!O&&!T),showShadow:O,trafficSource:o})});return(0,W.jsx)(p.Xl,{abortNoActionPlacementTimeout:e,beforeBodyContent:es,classProps:{...M,location:{pathname:"",search:"",hash:""}},classState:this.state,clientTrackingParams:t,commerceData:B,showCloseupContentRight:q,showProductDetailPage:!0,isWideCarousel:et,paneWidth:ea,maxWidth:en,descriptionPaneWidth:el,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,setResultScrollContainerRef:this.setResultScrollContainerRef,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:ec,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss,inCommentFooterRedesignExp:x,isCloseupMediaViewerOpen:L,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:v,isCommentThreadExpanded:b,isInRemoveMagnifyingGlassVariant:w,isPinNoteExpanded:P,isProductDetailsExpanded:S,peekCloseupEnabled:k,setIsCommentAttachmentSelectorOpen:j,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:K,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:F,closeupWithinMasonryEnabled:T,setAbortNoActionPlacementTimeout:A})}}let tw=(0,f.Z)(function(e){let{clientTrackingParams:t,pin:i,pinResource:a,pinId:n,viewer:r,deepLinkBackGoesToBoard:s,goBack:o,routePush:c,trafficSource:p}=e,{logContextEvent:g}=(0,M.v)(),m=(0,te.Z)(),f=(0,O.ZP)(),v=(0,eg.B)(),k=(0,e3.F)(),{checkExperiment:b}=k,P=!!(i.is_eligible_for_pdp&&!i.story_pin_data&&i.formatted_description?.components),[S,w]=(0,d.useState)(!1),[j,I]=(0,d.useState)(!1),[C,F]=(0,d.useState)(!1),[T,A]=(0,d.useState)(!1),[L,K]=(0,d.useState)(!1),[R,Z]=(0,d.useState)(!1),{setMostRecentPinId:E,setMostRecentPinImage:D}=(0,tu.f)(),z=(0,ey.Z)({type:"deprecated",data:i}),B=(0,e1.Z)({type:"deprecated",data:i}),V=(0,eJ.sY)(i.embed?.type)&&"gif"||!!i.is_eligible_for_pdp&&"productPin"||i.rich_summary?.type_name==="recipe"&&"recipePin"||i.story_pin_data_id&&"storyPin"||!!i.videos?.video_list&&"video"||"image",H="pin_closeup_lcp",U=(0,e7.PY)(H),{conversationOpen:N}=(0,to.Z)(),$=(0,tc.Z)(),{shouldFetchSLURPFields:G}=(0,y.Z)({pinKey:{type:"deprecated",data:i}}),{isEnabled:q}=(0,x.Z)(),{getLandingContext:X}=(0,eX.Z)(),Q=(0,ef.Z)(),Y=(0,ev.lJ)(r,Q);(0,d.useEffect)(()=>{U&&(0,e7.ku)({stopwatchName:H,binaryAnnotationName:"pinType",value:V,annotationType:"STRING"})},[U,V]);let J=i.sponsorship?.sponsor?.id,ee=!i.is_repin&&!!J,et=(0,eA.Z)(J&&ee&&r.isAuth&&"storyPin"===V?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${J}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:ei}=(0,tr.Z)({logCommerceAuxData:!0,deepLinkBackGoesToBoard:s,element:13310,goBack:o,routePush:c,trafficSource:p,viewer:r,requestContext:v,pinKey:{type:"deprecated",data:i}},g),ea=r.isAuth&&(0,u.Gv)({orbacSubjectId:Y,pinIsRepin:i.is_repin,pinPinnerId:i.pinner?.id,viewerId:r.id,viewerIsPartner:r.isPartner}),{data:en,isLoaded:el}=(0,eA.Z)(ea?{name:"ApiResource",options:{url:`/v3/trends/partner/${r.id||""}/trends_for_pin/${i.id}/`,data:{number_terms_to_return:10}}}:null),er=b("ce_dweb_comment_feed_redesign").anyEnabled,{isCloseupRelatedPinsAboveTheFoldEnabled:es,closeupWithinMasonryEnabled:eo,peekCloseupEnabled:ed}=(0,h.Z)(r.isAuth),ec=r.isAuth&&b("closeup_dweb_remove_magnifying_glass").anyEnabled,eu=(0,_.Z)({pin:i,pinId:n,pinResource:a}),{getMainPinImage:em}=(0,e0.Z)({pinKey:{type:"deprecated",data:i}});return(0,W.jsx)(tS,{...e,abortNoActionPlacementTimeout:S,clientTrackingParams:t,closeupWithinMasonryEnabled:eo,conversationOpen:N,dispatch:(0,l.I0)(),experimentsClient:k,getSterlingURL:(0,eB.Z)(),getStringifiedCommerceAuxData:z,hideBackButtonExp:q,i18n:f,inCommentFooterRedesignExp:er,initialState:eu,isCloseupMediaViewerOpen:R,isCloseupRelatedPinsAboveTheFoldEnabled:es,isCommentAttachmentSelectorOpen:j,isCommentThreadExpanded:C,isInRemoveMagnifyingGlassVariant:ec,isPinNoteExpanded:T,isProductDetailsExpanded:L,landingContext:X(),logContextEvent:g,mainImage:em(),onHandleBackButtonClick:ei,orbacActingAs:Q,peekCloseupEnabled:ed,pinFormattedLink:B,pwtSurfaceContext:(0,ep.E)(),requestContext:v,setAbortNoActionPlacementTimeout:w,setIsCloseupMediaViewerOpen:Z,setIsCommentAttachmentSelectorOpen:I,setIsCommentThreadExpanded:F,setIsPinNoteExpanded:A,setIsProductDetailsExpanded:K,setMostRecentPinId:E,setMostRecentPinImage:D,shouldFetchSLURPFields:G,showStructuredDescription:P,toastManager:(0,ti.F9)(),trackInteraction:m,trendsData:{data:en,isLoaded:!ea||el},userBusinessRoleResource:et,verticalNavWidth:$})});var tj=i(136061),tI=i(808074),tC=i(66560);function tF(e){return(0,W.jsx)(s.l6,{...e,CloseupComponent:tw})}function tT(e){let t=(0,l.I0)(),i=(0,ex.Z)(),a=(0,r.UO)(),n=(0,tj.aX)(),s=(0,r.TH)(),c=(0,tC.S6)()(a.id),u=(0,ei.Z)((s?.state||{}).trackingParams,c?.tracking_params),p={...e,history:(0,r.k6)(),location:(0,r.TH)(),clientTrackingParams:u,params:a,requestContext:(0,eg.B)(),searchPinCloseupViewed:(e,i)=>t((0,tI.Y4)(e,i)),viewer:i},{checkExperiment:g}=(0,e3.F)();return(0,W.jsx)(o.Z,{orbacSubjectId:(0,ev.lJ)(i,(0,ef.Z)()),pinId:a.id||"",children:({pinResource:e})=>(0,d.createElement)(tF,{...p,key:a.id,checkExperiment:g,clientTrackingParams:u,currentHistoryStack:n,pinResource:e})})}},808880:(e,t,i)=>{i.d(t,{A:()=>eo,Z:()=>ec});var a,n,l,r=i(667294);i(167912);var s=i(616550),o=i(883119),d=i(971598),c=i(676374),u=i(95733),p=i(293704),g=i(240031),m=i(775725),h=i(5629),_=i(717307),y=i(587062),x=i(47848),f=i(530618),v=i(702327),k=i(115642),b=i(179735),P=i(785893);let S=(0,b.Z)(()=>i.e(93810).then(i.bind(i,881507)),void 0,"StructuredFeedStoryModule"),w=(0,b.Z)(()=>i.e(64287).then(i.bind(i,816143)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),j=(0,b.Z)(()=>Promise.resolve().then(i.bind(i,95733)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),I=(0,b.Z)(()=>i.e(60682).then(i.bind(i,104270)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),C=void 0!==a?a:a=i(505054),F=(0,r.forwardRef)(({clientTrackingParams:e,pinKey:t,setRelatedPinsHeaderRef:i,slotIndex:a,story:n,topLevelTrafficSource:l,viewParameter:r,viewportSize:s},d)=>{let c=(0,x.Z)(C,t),{closeupWithinMasonryEnabled:u}=(0,k.x4)();if(!n)return null;let{container_type:p,story_type:g}=n;if((0,v.Z)(p)){let e=88===p,t=90===p;return(0,P.jsx)(o.xu,{marginBottom:e||t?0:12,paddingX:t?12:0,children:(0,P.jsx)(S,{componentFallback:13176,initialSlotIndex:a,story:n,storyKey:{type:"deprecated",data:n},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:r})})}return(0,f.HM)(g)?!u&&(0,P.jsx)(o.xu,{alignSelf:"center",children:(0,P.jsx)(j,{filter:(0,f.oV)(g),story:n,viewParameter:r})}):["related_products_feed_header","related_modules_header"].includes(g)?(0,P.jsx)(o.xu,{ref:i,"data-test-id":"related-modules-header",children:(0,P.jsx)(I,{ref:d,clientTrackingParams:e,slotIndex:a,storyId:n.id,storyType:g,title:n.title?.format,viewParameter:r})}):"related_domain_carousel"===g?(0,P.jsx)(o.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,P.jsx)(w,{closeupImageSignature:c.imageSignature||"",data:n,slotIndex:a,storyId:n.id,storyType:g,topLevelTrafficSource:l,viewParameter:r,viewportSize:s})}):null});var T=i(865535),A=i(42547),L=i(193186),K=i(500262),R=i(302442),Z=i(897128),E=i(430303),D=i(836350),z=i(947956),M=i(509781),B=i(386270),O=i(618989),V=i(682661);let H=()=>(0,P.jsx)(r.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,P.jsx)(o.xu,{marginEnd:4,width:L.j},`empty-pin-${t}`))}),U=void 0!==n?n:n=i(973346);function N(e){return 154===e.container_type?2:e.columnSpan??1}function W({surface:e="PdpRelatedPinGrid",closeupBody:t,closeupInclusiveFilters:i,initialSlotIndex:a,pinKey:n,relatedPins:l,isInGridLoadingStateExp:s,topLevelTrafficSource:d}){let{closeupWithinMasonryEnabled:c,viewportSize:u}=(0,k.x4)(),p=(0,x.Z)(U,n),g=(0,B.Z)(),m=(0,r.useRef)(null),h=(0,z.Z)({hasPin:!!p,hasPinRichMetadata:!!p.richMetadata,hasPinRichMetadataProducts:!!p.richMetadata?.products,hasPinRichMetadataArticle:!!p.richMetadata?.article,hasPinRichMetadataRecipe:!!p.richMetadata?.recipe,hasPinStoryPinData:!!p.storyPinData}),_=({data:n,itemIdx:l})=>{let r=(0,D.Z)(g),s=a+l,o=null;switch(n.type){case"closeup_module":o=t;break;case"shopping_module":o=(0,P.jsx)(A.Z,{moduleWidth:"100%",pinKey:p,trafficSource:d,viewParameter:h});break;case"inclusive_filters_module":o=i;break;case"story":switch(154===n.container_type&&(o=(0,P.jsx)(K.Z,{slotIndex:s,story:n,viewParameter:h,viewType:3})),n.story_type){case"BUBBLE_ONE_COL":o=(0,P.jsx)(O.default,{bubbles:n.objects,id:n.id,referringSource:n.referring_source,slotIndex:s,storyType:n.story_type,title:n.title,viewParameter:h,viewType:3});break;case"related_query_shop_upsell_closeup":o=(0,P.jsx)(R.default,{itemIdx:s,story:n,viewParameter:h,viewType:3})}break;default:o=(0,P.jsx)(V.ZP,{componentType:13176,duploQueryRef:null,imageOnlyOption:r?"image-only":"default",pin:n,pinId:n.id,slotIndex:s,surface:e,viewData:{pin_id:p.entityId},viewParameter:h,viewType:3})}return(0,P.jsx)(T.Z,{children:o})},{_loadingStateItems:y}=(0,E.Z)({useLoadingState:s}),f=c?(0,P.jsx)(Z.default,{_dynamicHeights:c,_getColumnSpanConfig:N,align:c||"sm"===u?"center":"start",items:l,layout:"basic",masonryRef:m,minCols:2,renderItem:_,serverRender:!0,useLoadingState:s}):(0,P.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,P.jsx)(Z.default,{_getColumnSpanConfig:N,items:l,renderItem:_,useLoadingState:s}),(0,P.jsx)(H,{})]});return(0,P.jsx)(M.Z,{component:86,viewParameter:h,children:f})}var $=i(111161),G=i(813452),q=i(26495),X=i(656817),Q=i(144326),Y=i(297728),J=i(809833),ee=i(961754),et=i(545230),ei=i(582313),ea=i(80535),en=i(868808),el=i(584288);let er=(0,b.Z)(()=>i.e(54654).then(i.bind(i,933650)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),es=void 0!==l?l:l=i(552276);function eo({isFromBackButton:e,referringSource:t,relatedModulesRef:i}){!e&&i?.current&&t===et.i.SHOPPING_FILTER&&setTimeout(()=>{i.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}let ed=(0,r.forwardRef)(({clientTrackingParams:e,closeupBody:t,excludeStories:i,initialSlotIndex:a=0,isFilteredFeed:n,pinKey:l,relatedModulesFeedResource:p,setHasRelatedPins:m,setRelatedPinsHeaderRef:y,topLevelTrafficSource:v,viewParameter:b,viewportSize:S},w)=>{let{data:j,isLoaded:I,fetchMore:C,isFetching:T,isAtEnd:A,nextBookmark:L}=p,K=(0,x.Z)(es,l),{closeupWithinMasonryEnabled:R}=(0,k.x4)(),{closeupMasonryModules:Z}=(0,g.Z)(K.entityId,p),E=(0,s.TH)(),D=(0,s.k6)(),z=(0,Q.ZP)(),{height:M}=(0,X.Z)()??{},B=(0,el.t)(),O=(0,_.Z)(),V=(0,r.useRef)(a),[H,U]=(0,r.useState)(!1),N=(0,en.mB)(E.search).rs,$=D?.action==="POP";(0,r.useEffect)(()=>{eo({isFromBackButton:$,referringSource:N,relatedModulesRef:w})},[$,E,N,w]),(0,r.useEffect)(()=>{I&&!H&&U(!0)},[I,H]);let G=(j||[]).filter(Boolean);G=G.filter(e=>!(i&&"story"===e.type&&e.story_type&&i.includes(e.story_type)));let q=(0,ea.Z)(G),Y=e=>!!("pin"===e.type||"story"===e.type&&(ei.v.has(e.story_type)||154===e.container_type)),ee=n&&L===J.qx,et=j?j.length:0,er=M??h.Ep-B-h.Lu;(0,r.useEffect)(()=>{m(0!==et)},[et,m]);let ed=(Array.isArray(q)?q.filter(e=>e?.type==="story"):[]).find(e=>(0,f.HM)(e?.story_type??"")),ec=ed&&(0,P.jsx)(u.default,{filter:(0,f.oV)(ed?.story_type??""),story:ed,viewParameter:b});return(0,P.jsxs)(r.Fragment,{children:[(I||R)&&(q.length>0?q.map((i,a)=>{let l=(0,P.jsx)(W,{closeupBody:t,initialSlotIndex:V.current,pinKey:K,relatedPins:Z,surface:n?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:v});0===a&&(V.current=0);let r=0;return Array.isArray(i)?(r+=i.length,l=(0,P.jsx)(W,{closeupBody:t,closeupInclusiveFilters:ec,initialSlotIndex:V.current,pinKey:K,relatedPins:[...Z,...i.filter(Y)],surface:n?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:v},i[0].id)):"story"===i.type&&(r+=i.objects?.length||1,l=(0,P.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,P.jsx)(F,{ref:w,clientTrackingParams:e,pinKey:K,setRelatedPinsHeaderRef:y,slotIndex:V.current,story:i,topLevelTrafficSource:v,viewParameter:b,viewportSize:S})},i.id)),V.current+=r,l}):(0,P.jsx)(W,{closeupBody:t,initialSlotIndex:V.current,pinKey:K,relatedPins:Z,topLevelTrafficSource:v})),T&&O&&!R&&!H&&(0,P.jsx)(o.xu,{children:(0,P.jsx)(W,{closeupBody:t,initialSlotIndex:0,isInGridLoadingStateExp:O,pinKey:K,relatedPins:Z})}),(0,P.jsx)(o.gr,{fetchMore:C,isAtEnd:A,isFetching:T}),(0,P.jsx)(o.xu,{minHeight:T?er:void 0,children:(0,P.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,P.jsx)(o.$j,{accessibilityLabel:z.bt("Loading related products results", "Loading related products results", "closeup.relatedProducts.results", undefined, true),show:T&&H||T&&!O})})}),ee&&et>0&&(0,P.jsx)(d.Z,{}),ee&&0===et&&(0,P.jsx)(c.Z,{})]})});function ec(e){let{relatedResourceOptions:t,clientTrackingParams:i,setRelatedPinsHeaderRef:a,pinKey:n,topLevelTrafficSource:l,viewParameter:s,viewportSize:d}=e,c=(0,Y.F)(),u=(0,ee.Z)(t),g=(0,q.Z)(),[h,_]=(0,r.useState)(null),f=(0,G.Z)(),{cacheOneBarModules:v,cachedProductFilterOneBarModules:b}=(0,y.X)(),{closeupWithinMasonryEnabled:S}=(0,k.x4)(),w=(0,x.Z)(es,n),{isInCloseupShoppingRefinementsExp:j,shouldFetchSLURPFields:I}=(0,m.Z)({pinKey:w}),C=(0,r.useRef)(null),T=(0,r.useCallback)(e=>{e&&(C.current=e)},[]),[A,L]=(0,r.useState)(!0),K=(0,ee.Z)(j&&f&&w.entityId?{name:"ApiResource",options:{url:`/v3/pins/${w.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...I?["pin.is_eligible_for_closeup_one_bar_refinements"]:[],...(0,$.pb)({experimentsClient:c,fields:[]})],data:{applied_unified_filters:f}}}:null),R=K?.data?K:u,Z=R?.data?.find(e=>"story"===e.type&&e.story_type&&e.story_type===p.vs),E=Z?.objects;(0,r.useEffect)(()=>{j&&E&&v({baseCacheKey:w.entityId,oneBarModules:E})},[u,u.data,w.entityId,v,j,K,E]),(0,r.useEffect)(()=>{!h&&j&&_(u?.data?.find(e=>"story"===e.type&&e.story_type&&p.aW.has(e.story_type)))},[u,j,_,h]);let D=!j||j&&!g;return(0,P.jsxs)(o.xu,{ref:T,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[j&&h&&A&&(0,P.jsx)(F,{ref:C,clientTrackingParams:i,pinKey:w,setRelatedPinsHeaderRef:a,slotIndex:0,story:h,topLevelTrafficSource:l,viewParameter:s,viewportSize:d}),E&&E.length>0&&b&&b.length>0&&!S&&(0,P.jsx)(er,{oneBarModules:E,viewParameter:s,viewType:3}),g&&(0,P.jsx)(ed,{...e,ref:C,initialSlotIndex:1,isFilteredFeed:!0,relatedModulesFeedResource:K,setHasRelatedPins:L}),D&&(0,P.jsx)(ed,{...e,ref:C,excludeStories:j?[...p.aW,p.vs]:[],initialSlotIndex:g?1:0,relatedModulesFeedResource:u,setHasRelatedPins:L})]})}},589678:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(909015);let n=[a.gO.ADMIN,a.gO.CAMPAIGN_MANAGER]},895573:(e,t,i)=>{i.d(t,{Z:()=>K});var a=i(667294),n=i(545007),l=i(615071),r=i(883119),s=i(682776),o=i(642593),d=i(144326),c=i(115642),u=i(785893);let p=({collapsed:e,commentCount:t,onIconClick:i=()=>{}})=>{let a=(0,d.ZP)(),{inCommentFooterRedesignExp:n,closeupWithinMasonryEnabled:l}=(0,c.x4)(),r=n||l?(0,o.i$)(t,a):a.bt("Comments", "Comments", "comments on a Pin", undefined, true);return(0,u.jsx)(s.Z,{collapsed:e,heading:r,onClick:i,showArrow:t>0})};var g=i(389229),m=i(512660),h=i(738390),_=i(293704),y=i(909483),x=i(321853),f=i(512541),v=i(730212),k=i(961754),b=i(410150),P=i(383399),S=i(501912),w=i(801621),j=i(625987),I=i(733383),C=i(45296),F=i(642758),T=i(378041),A=i(433788);let L=({aggregatedPinId:e,closeupAttributionId:t,closeupAttributionUsername:i,commentCount:s,commentsDisabled:o,commentsLoadedCallback:d,featuredCommentId:y,inCommentFeedRedesignExp:T,isCommentSectionOpen:L,isLoadingNewCreatedComment:K,isORBACProfileManager:R,isVideo:Z,onCommentSectionClick:E,photoCount:D,pinId:z,pinnerId:M,scrollContainerRef:B,shouldShowHeading:O,storyPinDataId:V,viewParameter:H})=>{let U;let N=(0,n.I0)(),{updateCloseupBodyContainerHeight:W}=(0,a.useContext)(c.ZP),{isBot:$}=(0,v.B)(),G=(0,b.HG)(),q=(0,j.lV)(),{toggleAggregatedCommentHelpful:X,toggleAggregatedCommentLike:Q}=(0,j.nf)(),{closeupWithinMasonryEnabled:Y,peekCloseupEnabled:J,viewportSize:ee}=(0,c.x4)(),et=(0,a.useRef)(null),[ei,ea]=(0,a.useState)(!1),[en,el]=(0,a.useState)(!1),[er,es]=(0,a.useState)(!1),[eo,ed]=(0,a.useState)(void 0),[ec,eu]=(0,a.useState)(void 0),ep=(0,P.Z)(),eg=(0,S.Z)(),em=(0,w.lJ)(ep,eg);U=Y?0:T?L?4:3:6;let eh=Math.max(s+D,0)>0,e_=(0,a.useRef)(!eh),{fetchMore:ey,isAtEnd:ex,isFetching:ef,isLoaded:ev}=(0,k.Z)(!e_.current&&e?(0,C.w)({aggregatedPinDataId:e,featuredCommentIds:y?[y]:[],isDesktop:G,orbacSubjectId:em}):null),ek=(0,n.v9)(t=>(0,A.Z)(t,e,q)),eb=er&&!L&&!!ek.length&&(Y||T);(0,a.useEffect)(()=>{W&&W()},[W]),(0,a.useEffect)(()=>{d?.(ev||!eh)},[d,ev,eh]);let eP=e=>{ed(e?.id)},eS=(e,t,i)=>()=>{i?N((0,F.wH)({didItDataId:e,isLikedByMe:t,orbacSubjectId:em})):Q({aggregatedCommentId:e,isLikedByMe:t,orbacSubjectId:em})},ew=(e,t,i)=>()=>{i?N((0,F.YH)({didItDataId:e,isMarkedHelpfulByMe:t,orbacSubjectId:em})):X({aggregatedCommentId:e,isMarkedHelpfulByMe:t,orbacSubjectId:em})},ej=eb&&(0,u.jsx)(r.xu,{marginBottom:Y?4:0,marginTop:Y?1:0,children:(0,u.jsx)(g.Z,{comment:ek[0]})}),eI=n=>(0,u.jsxs)(a.Fragment,{children:[!!B&&(0,u.jsx)(r.gr,{container:Y?et.current??void 0:B,fetchMore:$?void 0:ey,isAtEnd:ex,isFetching:ef}),(0,u.jsxs)(m.Z,{nodeRef:n??void 0,paddingLeft:Y?8:0,paddingRight:Y?8:0,children:[(0,u.jsx)(x.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:i,comments:ek,commentsDisabled:o,commentsScrollContainerRef:et,featuredCommentId:y,gapSize:5,inCommentFeedRedesignExp:T,isDesktop:!0,isLoaded:ev||!eh,isLoading:!ev&&(K||ef),isORBACProfileManager:R,isVideo:Z,parentId:e??void 0,parentType:I.o.pin,pinId:z,pinnerId:M,reactionListCommentId:ec,replyingToCommentId:eo,showReactionListForComment:eu,storyPinDataId:V,toggleHelpful:ew,toggleLike:eS,toggleReplyComposer:eP,userAvatarSize:"sm",viewParameter:H}),(0,u.jsx)(h.Z,{show:Y&&eh&&L&&en,surface:"comment-body-scrolling"})]})]}),eC=0,{fiftyPercentHeight:eF}=(0,_.Re)();J&&(eC=eF,"sm"===ee&&(eC=`calc(${eF}/2)`));let eT=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${eC};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${eC};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,a.useEffect)(()=>{if(!Y)return()=>{};let e=()=>{(et?.current?.scrollTop??0)>0?ea(!0):ea(!1),(et?.current?.scrollHeight??0)>(et?.current?.clientHeight??0)&&el(!0)},t=et.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}},[Y,L]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{es(!0)},Y?0:1e3);return()=>clearTimeout(e)},[Y]);let eA=er&&(L||!eh),eL=(0,a.useRef)(null);return(0,u.jsx)(r.xu,{id:"canonical-card",children:(0,u.jsxs)(r.kC,{dataTestId:"canonical-card",direction:"column",gap:J?void 0:{row:0,column:U},children:[O&&(0,u.jsx)(r.kC.Item,{children:(0,u.jsxs)(r.xu,{color:Y?"light":void 0,children:[(0,u.jsx)(p,{collapsed:!L,commentCount:o?0:Math.max(s+D,0),onIconClick:()=>{E&&E(!L)}}),(0,u.jsx)(h.Z,{show:Y&&eh&&ei&&L,surface:"comment-heading"})]})}),eb&&!J&&ej,J&&(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(f.Z,{unsafeCSS:eT}),(0,u.jsx)(l.Z,{classNames:"comment-section",in:er&&(L||!eh),nodeRef:eL,timeout:1e3,unmountOnExit:!0,children:eI(eL)})]}),eA&&!J&&eI()]})})};function K(e){let t=(0,n.I0)();return(0,u.jsx)(L,{...e,featuredCommentId:(0,y.K)(),pinUpdateCommentCount:(e,i)=>t((0,T.R)(e,i))})}},389229:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294),n=i(883119),l=i(91679),r=i(642593),s=i(501989),o=i(144326),d=i(785893);function c({comment:e}){let t=(0,o.ZP)(),{user:{first_name:i,image_medium_url:c,username:u},tags:p=[]}=e,g="",m=e.text??e.details,h=[e.user];if("aggregatedcomment"===e.type){h.push(...e.tagged_users);let i=e.media?.media_type===1;g=`${u} ${i?m||(0,r.F1)(t):m}`}else g=`${u} ${m||(0,r.Ff)(t)}`;let _=(0,r.zs)(u,p),y=1===e.comment_tag;return(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(n.xu,{marginEnd:2,children:(0,d.jsx)(l.Z,{isQuestion:y,name:i||u||"",size:"xs",src:c??""})}),(0,d.jsx)(n.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,d.jsx)(n.kC,{justifyContent:"between",children:(0,d.jsx)(n.kC.Item,{minWidth:0,children:(0,d.jsx)(n.kC,{dataTestId:"author-and-comment-container",direction:"column",children:(0,d.jsx)(s.Z,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:h,tags:_,text:g})})})})})]})})}},739059:(e,t,i)=>{i.d(t,{$y:()=>tS,Xl:()=>tb,z8:()=>tw});var a,n,l,r=i(667294),s=i(545007),o=i(616550),d=i(883119),c=i(307127);let u=Object.freeze(["JP"]);var p=i(401039),g=i(703594);i(167912);var m=i(47848),h=i(530618),_=i(115642),y=i(179735),x=i(785893);let f=(0,y.Z)(()=>Promise.resolve().then(i.bind(i,95733)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),v=(0,y.Z)(()=>i.e(60407).then(i.bind(i,118806)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),k=(0,y.Z)(()=>i.e(60682).then(i.bind(i,104270)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),b=void 0!==a?a:a=i(574262),P=(0,r.forwardRef)(({clientTrackingParams:e,pinKey:t,searchQuery:i,setRelatedPinsHeaderRef:a,slotIndex:n,story:l,trafficSource:r,viewParameter:s,viewportSize:o},c)=>{let u=(0,m.Z)(b,t),{closeupWithinMasonryEnabled:p}=(0,_.x4)();if(!l)return null;let{story_type:g}=l;return"related_products_collage"===g?(0,x.jsx)(d.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,x.jsx)(v,{pinKey:u,searchQuery:i,slotIndex:n,storyKey:{type:"deprecated",data:l},trafficSource:r,viewParameter:s,viewportSize:o})}):(0,h.HM)(g)?!p&&(0,x.jsx)(d.xu,{alignSelf:"center",children:(0,x.jsx)(f,{filter:(0,h.oV)(g),story:l,viewParameter:s})}):"related_modules_header"===g?(0,x.jsx)(d.xu,{ref:a,"data-test-id":"related-modules-header",children:(0,x.jsx)(k,{ref:c,clientTrackingParams:e,slotIndex:n,storyId:l.id,storyType:g,title:l.title?.format,viewParameter:s})}):null});var S=i(971598),w=i(676374),j=i(95733),I=i(865535),C=i(240031),F=i(42547),T=i(5629),A=i(717307),L=i(50165),K=i(808880),R=i(559028),Z=i(679482),E=i(648089),D=i(912985);let z=[81];function M({data:e}){let{action:t,container_type:i,objects:a,title:n}=e||{},{format:l}=n??{},{text:r,url:s,user:o={}}=t??{},{image_large_url:c,full_name:u}=o,{images:p}=a?.find(e=>"pin"===e.type)||{},g=null,m=(0,E.Z)({url:s})?"nofollow":"none";return 81===i&&(g=(0,x.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsxs)(d.xu,{position:"relative",children:[(0,x.jsx)(D.Z,{coverImages:p??void 0,height:Z.yF,text:l??"",textType:"text",url:s??""}),o.imageUrl&&(0,x.jsx)(d.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(R.qE,{name:u||"",outline:!0,size:"md",src:c??""})})]}),(0,x.jsx)(d.ZP,{fullWidth:!0,href:s??"",rel:m,size:"lg",text:r??""})]})),g}var B=i(302442),O=i(656817),V=i(470493),H=i(488792),U=i(897128),N=i(144326),W=i(836350),$=i(947956),G=i(829413),q=i(809833),X=i(585579),Q=i(509781),Y=i(868808),J=i(969119),ee=i(618989),et=i(584288),ei=i(682661),ea=i(415787);let en=e=>({height:X.zX*e,width:X.zX});function el(e){return e.columnSpan??1}let er=void 0!==n?n:n=i(254478),es=({closeupBody:e,surface:t="RelatedPinGrid",clientTrackingParams:i,hasSimplifiedPinGridExpLoaded:a,isFilteredFeed:n,lfvExperiences:l,relatedPinsResource:s,setHasRelatedPins:o,i18n:c,closeupWithinMasonryEnabled:u,isInGridLoadingStateExp:p,logContextEvent:g,relatedPinsInRow:m,spinnerMinHeight:_,pin:y,topLevelTrafficSource:f,viewParameter:v})=>{let[k,b]=(0,r.useState)(s.auxData?.grid_layout?.w_h_ratio),[P,T]=(0,r.useState)(!1),A=(0,r.useRef)(null),L=(0,r.useRef)(null),{closeupMasonryModules:K,skinToneModule:R}=(0,C.Z)(y.entityId,s);(0,J.Z)(()=>{g({event_type:13,view_parameter:v,view_type:3,component:86,clientTrackingParams:i})}),(0,r.useEffect)(()=>{!k&&s.auxData?.grid_layout?.w_h_ratio&&(b(s.auxData.grid_layout.w_h_ratio),A.current=window),!P&&s.isLoaded&&T(!0)},[u,P,k,s]);let Z=s.data?s.data.length:0;(0,r.useEffect)(()=>{o(0!==Z)},[Z,o]);let{data:E,fetchMore:D,isAtEnd:O,isFetching:H,isLoaded:N}=s;if(!N&&!p&&!u)return null;let X=`relatedPins:${y.entityId}`,Y=["related_products_button_footer","related_domain_carousel","related_products_feed_header"],et=(E&&E?.findIndex(e=>"pin"===e.type))??0,er=[...u?K:[],...(E||[]).slice(et).filter(e=>!Y.includes(e?.story_type))],es=n&&s.nextBookmark===q.qx,eo=u||er&&a||p&&H&&!P,ed=(0,V.Z)({isHiddenPin:y?.isHidden,isUnsafePin:y?.isUnsafe});return(0,x.jsxs)(d.xu,{children:[eo&&(0,x.jsx)(Q.Z,{clientTrackingParams:i,component:86,viewParameter:(0,$.Z)({hasPin:!!y,hasPinRichMetadata:!!y.richMetadata,hasPinRichMetadataProducts:!!y.richMetadata?.products,hasPinRichMetadataArticle:!!y.richMetadata?.article,hasPinRichMetadataRecipe:!!y.richMetadata?.recipe,hasPinStoryPinData:!!y.storyPinData}),children:(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(G.Z,{isAtEndOfFeed:O,isPlaceholderGrid:p,itemCount:er.length,children:(0,x.jsx)(U.default,{_dynamicHeights:u,_getColumnSpanConfig:u?el:void 0,align:u?"center":void 0,cacheKey:X,isGridCentered:m,items:er,layout:"basic",loadItems:D,masonryRef:L,minCols:u?2:void 0,renderItem:({data:i,itemIdx:a})=>{let n;let r=(0,$.Z)({hasPin:!!y,hasPinRichMetadata:!!y.richMetadata,hasPinRichMetadataProducts:!!y.richMetadata?.products,hasPinRichMetadataArticle:!!y.richMetadata?.article,hasPinRichMetadataRecipe:!!y.richMetadata?.recipe,hasPinStoryPinData:!!y.storyPinData});switch(i.type){case"closeup_module":n=e;break;case"shopping_module":n=(0,x.jsx)(F.Z,{moduleWidth:"100%",pinKey:y,trafficSource:f,viewParameter:r});break;case"inclusive_filters_module":n=(0,x.jsx)(j.default,{filter:(0,h.oV)(R?.story_type),story:R,viewParameter:r});break;case"story":switch((0,ea.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:i.story_type||"unknown",surface:"closeup"}}),i.story_type){case"BUBBLE_ONE_COL":n=(0,x.jsx)(ee.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:a,storyType:i.story_type,title:i.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":n=(0,x.jsx)(B.default,{itemIdx:a,story:i,viewParameter:r,viewType:3});break;default:n=null}i.container_type&&z.includes(i.container_type)&&(n=(0,x.jsx)(M,{data:i}));break;default:let s=(0,W.Z)(l);n=(0,x.jsx)(ei.ZP,{componentType:13007,duploQueryRef:null,imageOnlyOption:s?"image-only":"default",pin:i,pinId:i.id,pinImageCrop:k?en(k):null,slotIndex:a,surface:t,viewData:{pin_id:y.entityId},viewParameter:r,viewType:3})}return(0,x.jsx)(I.Z,{children:n})},scrollContainerRef:A,serverRender:!0,useLoadingState:p&&H&&ed})}),es&&Z>0&&(0,x.jsx)(S.Z,{}),es&&0===Z&&(0,x.jsx)(w.Z,{})]})}),(0,x.jsx)(d.xu,{minHeight:H?_:void 0,children:(0,x.jsx)(d.$j,{accessibilityLabel:c.bt("Loading related products results", "Loading related products results", "closeup.relatedProducts.results", undefined, true),show:H&&P||H&&!p})})]})};function eo({pinKey:e,relatedModulesRef:t,...i}){let a=(0,N.ZP)(),n=(0,H.Z)(),{hasSimplifiedPinGridExpLoaded:l}=(0,L.$)(),{clientTrackingParams:s,closeupWithinMasonryEnabled:d}=(0,_.x4)(),c=(0,A.Z)(),u=(0,o.TH)(),{height:p}=(0,O.Z)()??{},g=(0,et.t)(),h=(0,o.k6)(),y=(0,m.Z)(er,e),f=(0,Y.mB)(u.search).rs,v=p??T.Ep-g-T.Lu,k=h?.action==="POP";return(0,r.useEffect)(()=>{(0,K.A)({isFromBackButton:k,referringSource:f,relatedModulesRef:t})},[k,u,f,t]),(0,x.jsx)(es,{...i,clientTrackingParams:s,closeupWithinMasonryEnabled:d,hasSimplifiedPinGridExpLoaded:l,i18n:a,isInGridLoadingStateExp:c,logContextEvent:n,pin:y,relatedPinsInRow:d,spinnerMinHeight:v})}var ed=i(293704),ec=i(775725),eu=i(587062),ep=i(111161),eg=i(813452),em=i(26495),eh=i(297728),e_=i(961754),ey=i(386270);let ex=(0,y.Z)(()=>i.e(54654).then(i.bind(i,933650)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),ef=new Set([...ed.aW,"related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"]),ev=void 0!==l?l:l=i(462813);function ek({clientTrackingParams:e,closeupBody:t,isVideoPin:i,pinKey:a,relatedResourceOptions:n,searchQuery:l,setRelatedPinsHeaderRef:s,topLevelTrafficSource:o,trafficSource:c,viewParameter:u,viewportSize:p}){let g=(0,eh.F)(),{closeupWithinMasonryEnabled:h}=(0,_.x4)(),[y,f]=(0,r.useState)(!i),v=(0,e_.Z)(y?n:null),k=(0,em.Z)(),b=(0,eg.Z)(),S=(0,ey.Z)(),{cacheOneBarModules:w,cachedProductFilterOneBarModules:j}=(0,eu.X)(),I=(0,r.useRef)(null),C=(0,r.useCallback)(e=>{e&&(I.current=e)},[]),[F,T]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=y?void 0:setTimeout(()=>f(!0),h&&i?1e3:0);return()=>clearTimeout(e)},[h,i,y]);let A=(0,m.Z)(ev,a),{isInCloseupShoppingRefinementsExp:L,shouldFetchSLURPFields:K}=(0,ec.Z)({pinKey:A}),R=(0,e_.Z)(L&&b&&A.entityId?{name:"ApiResource",options:{url:`/v3/pins/${A.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...K?["pin.is_eligible_for_closeup_one_bar_refinements"]:[],...(0,ep.pb)({experimentsClient:g,fields:[]})],data:{applied_unified_filters:b}}}:null),Z=R?.data?R:v,E=Z?.data?.find(e=>"story"===e.type&&e.story_type===ed.vs),D=E?.objects;(0,r.useEffect)(()=>{L&&E?.objects&&w({baseCacheKey:A.entityId,oneBarModules:E.objects})},[v,A.entityId,w,L,R,E?.objects]);let z=!L||L&&!k;return(0,x.jsxs)(d.xu,{ref:C,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[F&&(v.data||[]).filter(e=>ef.has(e.story_type)).map((t,i)=>(0,x.jsx)(d.xu,{"data-test-id":`related-module-${t.id}`,direction:"column",display:"flex",children:(0,x.jsx)(P,{ref:I,clientTrackingParams:e,pinKey:A,searchQuery:l,setRelatedPinsHeaderRef:s,slotIndex:i,story:t,trafficSource:c,viewParameter:u,viewportSize:p})},`related-module-${t.id}`)),D&&D.length>0&&j&&j.length>0&&(0,x.jsx)(ex,{oneBarModules:D,viewParameter:u,viewType:3}),L&&k&&(0,x.jsx)(eo,{closeupBody:t,isFilteredFeed:!0,lfvExperiences:S,pinKey:A,relatedModulesRef:I,relatedPinsResource:R,setHasRelatedPins:T,surface:"ShoppingDynamicHeightGrid",topLevelTrafficSource:o,viewParameter:u}),z&&(0,x.jsx)(eo,{closeupBody:t,lfvExperiences:S,pinKey:A,relatedModulesRef:I,relatedPinsResource:v,setHasRelatedPins:T,topLevelTrafficSource:o,viewParameter:u})]})}var eb=i(241528),eP=i(921256),eS=i(809394),ew=i(239931),ej=i(912764),eI=i(452639),eC=i(649787),eF=i(853960),eT=i(589678),eA=i(609326),eL=i(165190),eK=i(959064),eR=i(909015),eZ=i(514796),eE=i(713812),eD=i(573706),ez=i(602185),eM=i(989820),eB=i(400416),eO=i(346655),eV=i(787487),eH=i(89393),eU=i(876597),eN=i(995692),eW=i(953167),e$=i(106641),eG=i(891985),eq=i(983302),eX=i(660771),eQ=i(70494),eY=i(770975),eJ=i(765853),e0=i(730212),e1=i(750077),e2=i(864723),e4=i(358413),e3=i(635258),e6=i(235838),e7=i(154785),e8=i(489354),e5=i(901450),e9=i(151958),te=i(383399),tt=i(501912),ti=i(801621),ta=i(19788),tn=i(590045),tl=i(420656),tr=i(530871),ts=i(68439),to=i(922664),td=i(241716),tc=i(210173),tu=i(127566),tp=i(212443);function tg(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let tm=(0,y.Z)(()=>Promise.resolve().then(i.bind(i,90402)),{ssr:!1}),th=(0,y.Z)(()=>i.e(95246).then(i.bind(i,844446)),{ssr:!1}),t_=(0,y.Z)(()=>i.e(75754).then(i.bind(i,345742)),{ssr:!1}),ty=(0,r.lazy)(()=>i.e(12080).then(i.bind(i,988285))),tx={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},tf={boxShadow:"unset",borderRadius:ed.uO};function tv({conversation_id:e,senderId:t,pinId:i}){(0,eB.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:t,pin:i}})}let tk=({isWideVideo:e,viewportSize:t,peekCloseupEnabled:i})=>!["md","sm"].includes(t)&&!e||i&&"sm"!==t;function tb({abortNoActionPlacementTimeout:e,classProps:t,classState:i,commerceData:a,showCloseupContentRight:n,showProductDetailPage:l,isWideCarousel:s,paneWidth:o,maxWidth:d,descriptionPaneWidth:c,handleCarouselSwipe:u,handleFocus:p,setIsCommentAttachmentSelectorOpen:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:h,setIsMediaViewerOpen:y,setIsPinNoteExpanded:f,setIsProductDetailsExpanded:v,setIsShoppingModuleExpanded:k,setResultScrollContainerRef:b,handleScroll:P,handleBackButtonClick:S,closeupContent:w,inCommentFooterRedesignExp:j,isEligibleForStaticImageIdeaPin:I,isCloseupRelatedPinsAboveTheFoldEnabled:C,isCommentAttachmentSelectorOpen:F,isCommentThreadExpanded:T,isCloseupMediaViewerOpen:A,isMediaViewerOpen:L,isPinNoteExpanded:K,isProductDetailsExpanded:R,isShoppingModuleExpanded:Z,closeupWithinMasonryEnabled:E,peekCloseupEnabled:D,isInRemoveMagnifyingGlassVariant:z,setAbortNoActionPlacementTimeout:M,clientTrackingParams:B}){let{pin:O,pinId:V,trafficSource:H,deepLinkBackGoesToBoard:U}=t,{backButtonLabelFitInScreen:N,visualState:{carouselData:W,mainImage:G,previewImage:q},hideBackButton:X,isOverRelatedPins:Y,viewportSize:J}=i,ee=!!O.story_pin_data_id&&!I,et=(0,te.Z)(),{isInCloseupShoppingRefinementsExp:ei}=(0,ec.Z)({pinKey:{type:"deprecated",data:O}}),{isEnabled:ea}=(0,ej.Z)(),en=(0,x.jsx)(e8.Z,{deepLinkBackGoesToBoard:U,handleScroll:P,isNewOrRes:(0,eH.Z)(et.createdAt)||(0,eU.Z)(null,et),marginTop:ei?0:void 0,onClick:()=>{S()},showLabel:!!(N&&!Y&&!E),showShadow:Y,trafficSource:H}),el=(0,_.YO)({showProductDetailPage:l,isLargerPane:s,showCloseupContentRight:n});return(0,x.jsx)(_.ZP.Provider,{value:(0,_.Nb)({showCloseupContentRight:n,showProductDetailPage:l,pdpCarouselSlotToPaneRatio:C?1:el,viewportSize:J,paneWidth:o,maxWidth:d,descriptionPaneWidth:c,inCommentFooterRedesignExp:j,isCloseupRelatedPinsAboveTheFoldEnabled:C,isCommentAttachmentSelectorOpen:F,isCommentThreadExpanded:T,isCloseupMediaViewerOpen:A,isMediaViewerOpen:L,isPinNoteExpanded:K,isProductDetailsExpanded:R,isShoppingModuleExpanded:Z,setIsCommentAttachmentSelectorOpen:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:h,setIsMediaViewerOpen:y,setIsPinNoteExpanded:f,setIsProductDetailsExpanded:v,setIsShoppingModuleExpanded:k,closeupWithinMasonryEnabled:E,peekCloseupEnabled:D,isInRemoveMagnifyingGlassVariant:z,setAbortNoActionPlacementTimeout:M,clientTrackingParams:B}),children:(0,x.jsxs)(eI.A,{overrideValue:{mainImage:G,previewImage:q,carouselInfo:W&&{carouselData:W,handleCarouselSwipe:u,viewType:A?675:3,componentType:O.is_eligible_for_pdp?14186:85,viewParameter:(0,$.Z)({hasPin:!0,hasPinRichMetadata:!!O.rich_metadata,hasPinRichMetadataProducts:!!O.rich_metadata?.products,hasPinRichMetadataArticle:!!O.rich_metadata?.article,hasPinRichMetadataRecipe:!!O.rich_metadata?.recipe,hasPinStoryPinData:!!O.story_pin_data})}},pinKey:{type:"deprecated",data:O},children:[(0,x.jsx)(eM.k6,{placementId:1000141}),(0,x.jsx)(eM.k6,{placementId:1000499}),(0,x.jsx)(eM.H6,{placementId:1000140}),(0,x.jsx)(eM.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:V,is_promoted:O.is_promoted},placementId:1000564}),(0,x.jsx)(eM.iH,{placementId:12}),(0,x.jsx)(eM.b9,{placementId:12}),(0,x.jsx)(eM.nj,{placementId:12}),(0,x.jsx)(eM._f,{placementId:12}),(0,x.jsx)(eF.Z,{placementId:12}),(0,x.jsx)(e1.Z,{children:(0,x.jsx)(ty,{placementId:12})}),(0,x.jsx)(Q.Z,{auxData:a,clientTrackingParams:B,objectId:V,view:3,viewParameter:(0,eQ.Z)(t)?(0,$.Z)({hasPin:!!O,hasPinRichMetadata:!!O.rich_metadata,hasPinRichMetadataProducts:!!O.rich_metadata?.products,hasPinRichMetadataArticle:!!O.rich_metadata?.article,hasPinRichMetadataRecipe:!!O.rich_metadata?.recipe,hasPinStoryPinData:!!O.story_pin_data}):void 0,children:(0,x.jsxs)("div",{ref:b,className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:p,children:[(0,x.jsx)(ez.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,x.jsx)(tm,{placementId:12})}),(0,x.jsx)(eM.O9,{placementId:12}),C?w:(0,x.jsxs)(r.Fragment,{children:[!ea&&!X&&!ee&&en,w]}),!L&&!A&&!F&&(0,x.jsx)(eb.Z,{onClose:S}),(0,x.jsx)(eM.RK,{placementId:12})]})})]})})}class tP extends r.Component{constructor(...e){super(...e),tg(this,"state",this.props.initialState),tg(this,"removedPwtThumbnailsConstraint",!1),tg(this,"setCloseupBodyContainerRef",e=>{this.closeupBodyContainerRef=e}),tg(this,"setResultScrollContainerRef",e=>{this.resultScrollContainer||(this.resultScrollContainer=e,this.forceUpdate())}),tg(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),tg(this,"mounted",!1),tg(this,"handleCloseupBodyUpdate",()=>{this.updateViewportSize()}),tg(this,"updateViewportSize",()=>{if(this.mounted){let{BACKBUTTON_WIDE_BREAKPOINT:e,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:t,BREAKPOINT:i,STACKED_CLOSEUP_BACKBUTTON_NARROW_BREAKPOINT:a,BACKBUTTON_NARROW_BREAKPOINT:n,EXP_SM_BREAKPOINT:l,SM_BREAKPOINT:r}=(0,ed.le)({verticalNavWidth:this.props.verticalNavWidth}),s=this.props.closeupWithinMasonryEnabled?l:r,o="lg";window&&window.innerWidth<i&&(o=window&&window.innerWidth<s?"sm":"md");let d=this.props.closeupWithinMasonryEnabled?a:n;this.setState({hideBackButton:window&&(!this.props.closeupWithinMasonryEnabled&&"lg"===o&&window.innerWidth<=e||["md","sm"].includes(o)&&window.innerWidth<=d),backButtonLabelFitInScreen:window&&"lg"===o&&window.innerWidth>=t,viewportSize:o})}}),tg(this,"throttleUpdateViewportSize",(0,e6.Z)(this.updateViewportSize,50)),tg(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),tg(this,"executeClickthrough",e=>{let{pinId:t,setPlacementExtraContext:i,clientTrackingParams:a,viewer:n,trafficSource:l,logContextEvent:r,getStringifiedCommerceAuxData:s,pinFormattedLink:o,setAbortNoActionPlacementTimeout:d,isEligibleForStaticImageIdeaPin:c,isCloseupMediaViewerOpen:u}=this.props,{pin:p,didPinClickThrough:g,didShortClickThrough:m}=this.state,h=!!p.story_pin_data_id&&c,{wasImageClicked:_,auxData:y,componentType:x=h?228:4,elementType:f=_?35:h?11157:361,viewType:v=u?675:3}=e||{},k=(0,$.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),b={...s(),...y||{},is_promoted:p.is_promoted};if(n&&n.isAuth&&!g&&i&&(i({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),h&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:p.id,url:o}}),r({event_type:101,object_id_str:t,component:x,element:f,clientTrackingParams:a,aux_data:{...s(),...y||{}}}),r({event_type:12,object_id_str:t,view_type:v,view_parameter:k,component:x,element:f,aux_data:b,clientTrackingParams:a}),r({event_type:8948,view_type:v,view_parameter:k,component:x,element:f,object_id_str:t,clientTrackingParams:a,aux_data:{click_type:"clickthrough",closeup_navigation_type:l&&(0,eG.sV)(l)?"deeplink":"click",...s(),...y||{}}}),_){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),m&&this.setState({didShortClickThrough:!1}),d(!0)}),tg(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),tg(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),tg(this,"handleSaveClicked",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:0,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),tg(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),tg(this,"handleCarouselSwipe",e=>{let{visualState:t,firstLoadComplete:i}=this.state;i&&this.setState({visualState:{...t,carouselData:{...t.carouselData,index:e}}})}),tg(this,"dispatch",(e,t)=>this.setState(t=>(0,eP.Z)(t,e),t)),tg(this,"handleScroll",(0,e6.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let t=td.hu,i=this.relatedPinsHeaderRef.getBoundingClientRect().top<=t;i&&!e?this.setState({isOverRelatedPins:!0}):!i&&e&&this.setState({isOverRelatedPins:!1})}},10)),tg(this,"onToggleIdeaPinCloseupPanel",e=>{this.setState({isCloseupMaximized:!e}),this.closeupBodyContainerRef&&(this.closeupBodyContainerRef.ariaHidden=!e)}),tg(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),tg(this,"handleIdeaCloseupCommentIconClick",e=>{let{setIsCommentThreadExpanded:t}=this.props;this.setState({isCommentSectionOpen:e}),t(!!e),e&&this.props.logContextEvent({component:13464,element:11981,event_type:10554,view_type:3})})}componentDidMount(){let{conversation_id:e,conversationOpen:t,pin:i,pinId:a,senderId:n,setPlacementExtraContext:l,shouldShowInbox:r,openInbox:s}=this.props;this.mounted=!0,e&&n&&a&&tv({conversation_id:e,senderId:n,pinId:a}),e&&(t(e),r&&s()),i.image_signature&&this.props.setMostRecentPinImage(i.image_signature),a&&this.props.setMostRecentPinId(a),l&&l({is_own_or_group_pin:this.isOwnOrGroupPin}),this.updateViewportSize(),window.addEventListener("resize",this.throttleUpdateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,eO.Z)()}componentDidUpdate(e){let{didRepin:t,isLandingPage:i,pin:a,pinId:n,conversation_id:l,senderId:r,pinResource:{data:s},pwtSurfaceContext:o,setPlacementExtraContext:d}=this.props,{visualState:{carouselData:c},firstLoadComplete:u}=this.state;this.visualDataDidUpdate(),u&&!this.removedPwtThumbnailsConstraint&&(o?.removeConstraint("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),s&&!u&&(s.carousel_data&&(s.carousel_data.index=c?.index||0),this.dispatch({type:"pinLoaded",pin:s})),l&&r&&n&&e.pinId!==n&&tv({conversation_id:l,senderId:r,pinId:n});let p={};(e2.ZP.getItem(eA.W3)||"").includes(`/pin/${n}`)&&i&&(p.loginPageType="pin"),t&&(p.didRepin=!0),a.image_signature&&(p.pin_image_signature=a.image_signature),p.is_own_or_group_pin=this.isOwnOrGroupPin;let{didRepin:g,isLandingPage:m,pinId:h}=e,_=g!==t||i!==m||h!==n;!(0,eV.Z)(p)&&_&&d&&d({...p})}componentWillUnmount(){window.removeEventListener("resize",this.throttleUpdateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:t}=this.props,i=(e||{}).board||{},a=i.is_collaborative&&(0,eK.Z)(i.collaborated_by_me,i.owner?.id,t);return!!(t.isAuth&&e.pinner?.id===t.id||a)}visualDataDidUpdate(){let e;let{pin:t,mainImage:i}=this.props,{visualState:{carouselData:a,mainImage:n},firstLoadComplete:l}=this.state;if(!l)return;let r=(0,eZ.Z)({carouselData:t.carousel_data,images:t.images,product:(t.rich_metadata||t.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,eE.Z)(s.images),d=a?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...r,index:d},previewImage:(0,tr.Yf)(t.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:i,previewImage:(0,tr.Yf)(t.images?.["236x"])},(a?.id!==e.carouselData?.id||JSON.stringify(a?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||n.url!==e.mainImage.url)&&this.setState({visualState:e})}renderBodyContent({isCommentThreadExpanded:e,relatedResourceOptions:t,storyPinTaggedProducts:i,maxWidth:a,isEligibleForStaticImageIdeaPin:n,clientTrackingParams:l}){let s;let{experimentsClient:{checkExperiment:o},isLimitedLogin:u,pin:g,pinDerivedData:m,pinResource:h,requestContext:_,routePush:y,searchQuery:f,showRepinOnInitialRender:v,trafficSource:k,viewer:b,orbacActingAs:P,userBusinessRoleResource:S,trendsData:w,closeupWithinMasonryEnabled:j,peekCloseupEnabled:I,isCloseupRelatedPinsAboveTheFoldEnabled:C}=this.props,{id:F,sponsorship:T,story_pin_data_id:A,story_pin_data:L}=g,K=!!A&&!n,R=!!L?.is_deleted,{creator:Z,sponsor:E,status:D}=T||{},{username:z}=Z||{},{username:M}=E||{},{refresh:B}=h,O=(0,ti.lJ)(b,P),{data:V}=S||{},H=!g.is_repin&&!!M,U=M===b.username?[eR.V3.OWNER]:V?.permissions,N=M===b.username||!!U?.find(e=>eT.Z.includes(e)),W=M===b.username||!!U?.find(e=>eT.Z.includes(e)),{didShortClickThrough:$,isCloseupMaximized:G,isCommentSectionOpen:q,shopping:X,viewportSize:Q}=this.state,{isWideVideo:Y}=(0,e$.Z)((0,eQ.Z)({pin:g}))||{},J=(0,eW.rh)(g&&{aggregatedPinData:g.aggregated_pin_data&&{creatorAnalytics:g.aggregated_pin_data.creator_analytics&&{_30dRealtime:g.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:g.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:g.board&&{privacy:g.board.privacy},creatorAnalytics:g.creator_analytics&&{_30dRealtime:g.creator_analytics["30d_realtime"]&&{carId:g.creator_analytics["30d_realtime"].id}},isRepin:g.is_repin,pinner:g.pinner&&{entityId:g.pinner.id},storyPinDataId:g.story_pin_data_id,videos:g.videos&&{videoList:g.videos.video_list&&{__typename:"VideoList"}}},b,this.props.experimentsClient,O),ee=(0,c.CA)(w?.data),et=H&&b.isAuth&&o("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(N&&0===D||W&&1===D),ei=g.link_domain?.official_user?.username||g.native_creator?.username,ea=(0,ti.Ms)(b,P)===ei&&(0,ti.nl)(b,P)&&_.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,en=K&&(L?.pages?.length??0)>0,el=(0,eW.WE)(b,Q,J,ee,w,et);s=K?{boxShadow:void 0,borderRadius:void 0}:j?tf:ed.te;let er=en?226:3;er=C?3:er;let es=(0,x.jsx)(ez.Z,{name:"CloseupBody",children:(0,x.jsxs)(d.xu,{ref:this.setCloseupBodyContainerRef,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,x.jsxs)(d.xu,{alignItems:Y?"center":void 0,direction:Y?"column":void 0,display:Y?"flex":void 0,children:[et&&"number"==typeof D&&(0,x.jsx)(d.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,x.jsx)(ez.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,x.jsx)(t_,{business_role:U,creatorUsername:z??"",pinId:F,sponsorshipStatus:D})})}),el&&!K&&!j&&(0,x.jsx)(d.xu,{"data-test-id":"PartnerModule",width:"lg"===Q&&Y?a:"100%",children:(0,x.jsx)(ez.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,x.jsx)(th,{borderStyle:s,isStoryPin:K,pinKey:{type:"deprecated",data:g},showPinStats:J,trendsData:ee?w?.data?.results:null,viewportSize:Q})})})]}),(0,x.jsx)(d.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,x.jsx)(p.Z,{clientTrackingParams:l,data:h.data,didShortClickThrough:$,goBack:this.handleBackButtonClick,handleCarouselSwipe:this.handleCarouselSwipe,inCommentFeedRedesignExp:!1,isCloseupMaximized:G,isCommentSectionOpen:!C&&q||e,isDeletedStoryPin:!!R,isStoryPin:K,isVideoPin:m.isVideoPin,isWideVideo:Y,onClickThrough:this.executeClickthrough,onCloseupBodyUpdate:this.handleCloseupBodyUpdate,onCommentSectionClick:this.handleIdeaCloseupCommentIconClick,onSaveButtonClick:this.handleSaveClicked,onUpdate:B,outerBodyStyle:s,outerPaddingSize:C?tn.ER:void 0,pin:g,relatedResourceOptions:t,routePush:y,searchQuery:f,shopping:X,shouldShowPartnerModule:el,shouldShowStlCarouselForOwnPin:ea,showPinStats:J,showRepinOnInitialRender:!u&&v,showTrendsOnPinCloseup:ee,storyPinTaggedProducts:i,trafficSource:k,trendsData:w,viewParameterType:en?157:void 0,viewportSize:Q,viewType:er})})]})});return(0,x.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:K?{...tx.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:I?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:j?0:4,width:I?void 0:"100%",children:(0,x.jsxs)(r.Fragment,{children:[en&&L&&(0,x.jsx)(e4.Z,{appConfig:{type:"authDesktop",onClickThrough:this.executeClickthrough,onNavigateBack:this.handleBackButtonClick},clientTrackingParams:l,onIdeaPinCloseupCommentClick:()=>{this.handleIdeaCloseupCommentIconClick(!0)},onTogglePanel:this.onToggleIdeaPinCloseupPanel,pin:g,storyPinData:L,variant:"closeup",viewParameterType:157,viewType:3}),(0,x.jsx)(tl.Z,{isStoryPin:K,isWideVideo:Y,children:es})]})})}render(){let{abortNoActionPlacementTimeout:e,contextPinIds:t,landingContext:i,pin:a,pinDerivedData:n,topLevelTrafficSource:l,topLevelTrafficSourceDepth:s,trafficSource:o,searchQuery:d,storyPinTaggedProductsResource:c,pinResource:u,viewer:p,orbacActingAs:m,closeupWithinMasonryEnabled:h,peekCloseupEnabled:_,inCommentFooterRedesignExp:y,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentThreadExpanded:v,isInRemoveMagnifyingGlassVariant:k,isCloseupMediaViewerOpen:b,isCommentAttachmentSelectorOpen:P,isMediaViewerOpen:S,isPinNoteExpanded:w,isShoppingModuleExpanded:j,setAbortNoActionPlacementTimeout:I,isEligibleForStaticImageIdeaPin:C,setIsCommentAttachmentSelectorOpen:F,setIsCommentThreadExpanded:T,setIsCloseupMediaViewerOpen:A,setIsMediaViewerOpen:L,setIsPinNoteExpanded:K,setIsShoppingModuleExpanded:R,clientTrackingParams:Z,shouldFetchSLURPFields:E,deepLinkBackGoesToBoard:D,hideBackButtonExp:z}=this.props,{backButtonLabelFitInScreen:M,isOverRelatedPins:B,viewportSize:O,didShortClickThrough:V,firstLoadComplete:H}=this.state,{isWideVideo:U}=(0,e$.Z)((0,eQ.Z)({pin:a}))||{},N=!h&&tk({isWideVideo:U,viewportSize:O,peekCloseupEnabled:_}),{recommendation_reason:W}=a,G={name:"RelatedModulesResource",options:{additional_fields:E?["pin.is_eligible_for_closeup_one_bar_refinements"]:void 0,pin_id:a.id,context_pin_ids:t,homefeed_source_sig:W&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(W.reason)&&W.reason_id,page_size:12,search_query:d,source:o,top_level_source:l,top_level_source_depth:s,is_pdp:!1,landing_context:i}},q=(0,$.Z)({hasPin:!0,hasPinRichMetadata:!!a.rich_metadata,hasPinRichMetadataProducts:!!a.rich_metadata?.products,hasPinRichMetadataArticle:!!a.rich_metadata?.article,hasPinRichMetadataRecipe:!!a.rich_metadata?.recipe,hasPinStoryPinData:!!a.story_pin_data}),X=(0,ti.q6)(p,a.pinner?.id,m),Q=!!a.id&&!X||h,{data:Y}=c||{},J=tn.Gg,ee=tn.u6,et=this.renderBodyContent({isCommentThreadExpanded:v,relatedResourceOptions:G,storyPinTaggedProducts:Y,maxWidth:ee,isEligibleForStaticImageIdeaPin:C,clientTrackingParams:Z}),ei=!z&&(0,x.jsx)(e8.Z,{deepLinkBackGoesToBoard:D,handleScroll:this.handleScroll,isNewOrRes:(0,eH.Z)(p.createdAt)||(0,eU.Z)(null,p),onClick:this.handleBackButtonClick,showLabel:!!(M&&!B&&!h),showShadow:B,trafficSource:o}),ea=(0,x.jsx)(g.Z,{isVideoPin:n.isVideoPin,pin:a,pinResource:u,topLevelTrafficSource:l,didShortClickThrough:V,firstLoadComplete:H,viewportSize:O,relatedModulesContent:Q?(0,x.jsx)(ek,{clientTrackingParams:Z,closeupBody:et,contextPinIds:t,isVideoPin:n.isVideoPin,pinKey:{type:"deprecated",data:a},relatedResourceOptions:G,searchQuery:d,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:l,trafficSource:o,viewParameter:q,viewportSize:O}):(0,x.jsx)(r.Fragment,{}),bodyContent:et,onWrapperClick:this.onWrapperClick,backButton:ei});return(0,x.jsx)(tb,{abortNoActionPlacementTimeout:e,classProps:this.props,classState:this.state,clientTrackingParams:Z,showCloseupContentRight:N,showProductDetailPage:!1,isWideCarousel:!1,paneWidth:J,maxWidth:ee,descriptionPaneWidth:ee-J-(h?4:0),handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,setResultScrollContainerRef:this.setResultScrollContainerRef,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:ea,inCommentFooterRedesignExp:y,isEligibleForStaticImageIdeaPin:C,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:P,isCommentThreadExpanded:v,isCloseupMediaViewerOpen:b,isMediaViewerOpen:S,isPinNoteExpanded:w,isShoppingModuleExpanded:j,setIsCommentAttachmentSelectorOpen:F,setIsCommentThreadExpanded:T,setIsCloseupMediaViewerOpen:A,setIsMediaViewerOpen:L,setIsPinNoteExpanded:K,setIsShoppingModuleExpanded:R,closeupWithinMasonryEnabled:h,peekCloseupEnabled:_,isInRemoveMagnifyingGlassVariant:k,setAbortNoActionPlacementTimeout:I})}}let tS=(0,eC.Z)(function(e){var t;let{logContextEvent:i}=(0,eD.v)(),{pin:a,viewer:n,pinResource:l,pinId:d,showQuickPromote:p,deepLinkBackGoesToBoard:g,goBack:m,routePush:h,trafficSource:_}=e,y=(0,N.ZP)(),f=(0,eh.F)(),{checkExperiment:v}=f,k=(0,e7.Z)(),b=(0,e0.B)(),[P,S]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[I,C]=(0,r.useState)(!1),[F,T]=(0,r.useState)(!1),[A,L]=(0,r.useState)(!1),[K,R]=(0,r.useState)(!1),[Z,E]=(0,r.useState)(!1),D=(0,tc.Z)(),{setMostRecentPinId:z,setMostRecentPinImage:M}=(0,tp.f)(),B=(0,e9.Z)({type:"deprecated",data:a}),O=(0,eG.sY)(a.embed?.type)&&"gif"||a.is_eligible_for_pdp&&"productPin"||a.rich_summary?.type_name==="recipe"&&"recipePin"||!!a.story_pin_data_id&&"storyPin"||!!a.videos?.video_list&&"video"||"image",V="pin_closeup_lcp",H=(0,eJ.PY)(V),{conversationOpen:U}=(0,to.Z)(),W=(0,tt.Z)(),$=(0,eL.Z)(),G=(0,s.I0)(),q=(0,eY.E)(),X=(0,o.TH)(),Q=(0,tu.Z)((X?.state||{}).trackingParams,a.trackingParams||a.tracking_params),Y=(0,e5.F9)(),[J,ee]=(0,r.useState)(!1),et=$("quick_promote_on_www"),ei=`${et}?pinId=${d}`,{advertiser:ea}=b,en=$((0,ta.GI)(ea)?"createAutomated":"create"),el=`${e3.auO}${en}?pinId=${d}`,er=(0,eX.Z)({type:"deprecated",data:a}),{getLandingContext:es}=(0,eN.Z)(),eo=(0,ti.lJ)(n,W),{onHandleBackButtonClick:ed}=(0,ts.Z)({logCommerceAuxData:a.promoted_is_lead_ad,deepLinkBackGoesToBoard:g,goBack:m,routePush:h,trafficSource:_,viewer:n,requestContext:b,pinKey:{type:"deprecated",data:a}},i);(0,r.useEffect)(()=>{l.data&&!J&&p&&ee(!0)},[l.data,J,p]),(0,r.useEffect)(()=>{H&&(0,eJ.ku)({stopwatchName:V,binaryAnnotationName:"pinType",value:O,annotationType:"STRING"})},[H,O]);let eu=!!a,ep=(0,r.useRef)(!1);eu&&q&&!ep.current&&(q.addBinaryAnnotation("pinType",O,"STRING"),ep.current=!0);let eg=a.sponsorship?.sponsor?.id,em=!a.is_repin&&!!eg,ey=(0,e_.Z)(eg&&em&&n.isAuth&&"storyPin"===O?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${eg}/me/ad_accounts_permissions/`}}:null),ex=n.isAuth&&(t=n.country,!u.includes(t))&&(0,c.Gv)({orbacSubjectId:eo,pinIsRepin:a.is_repin,pinPinnerId:a.pinner?.id,viewerId:n.id,viewerIsPartner:n.isPartner}),{data:ef,isLoaded:ev}=(0,e_.Z)(ex?{name:"ApiResource",options:{url:`/v3/trends/partner/${n.id||""}/trends_for_pin/${a.id}/`,data:{number_terms_to_return:10}}}:null),ek=v("ce_dweb_comment_feed_redesign").anyEnabled,{isCloseupRelatedPinsAboveTheFoldEnabled:eb,closeupWithinMasonryEnabled:eP,peekCloseupEnabled:eI}=(0,eS.Z)(n.isAuth),eC=n.isAuth&&v("closeup_dweb_remove_magnifying_glass").anyEnabled,{shouldFetchSLURPFields:eF}=(0,ec.Z)({pinKey:{type:"deprecated",data:a}}),{isEnabled:eT}=(0,ej.Z)(),eA=!!a.story_pin_data_id&&(!1===a.should_open_in_stream||eb),eK=(0,ew.Z)({pin:a,pinId:d,pinResource:l}),{getMainPinImage:eR}=(0,eq.Z)({pinKey:{type:"deprecated",data:a}});return J?f.checkExperiment("adv_growth_deprecate_qp_pins").anyEnabled?(window.location.assign(el),(0,x.jsx)(r.Fragment,{})):(0,x.jsx)(o.l_,{to:ei}):(0,x.jsx)(tP,{...e,abortNoActionPlacementTimeout:Z,clientTrackingParams:Q,closeupWithinMasonryEnabled:eP,conversationOpen:U,dispatch:G,experimentsClient:f,getSterlingURL:$,getStringifiedCommerceAuxData:B,hideBackButtonExp:eT,i18n:y,inCommentFooterRedesignExp:ek,initialState:eK,isCloseupMediaViewerOpen:I,isCloseupRelatedPinsAboveTheFoldEnabled:eb,isCommentAttachmentSelectorOpen:P,isCommentThreadExpanded:w,isEligibleForStaticImageIdeaPin:eA,isInRemoveMagnifyingGlassVariant:eC,isMediaViewerOpen:F,isPinNoteExpanded:A,isShoppingModuleExpanded:K,landingContext:es(),location:X,logContextEvent:i,mainImage:eR(),onHandleBackButtonClick:ed,orbacActingAs:W,peekCloseupEnabled:eI,pinFormattedLink:er,pwtSurfaceContext:q,requestContext:b,setAbortNoActionPlacementTimeout:E,setIsCloseupMediaViewerOpen:C,setIsCommentAttachmentSelectorOpen:S,setIsCommentThreadExpanded:j,setIsMediaViewerOpen:T,setIsPinNoteExpanded:L,setIsShoppingModuleExpanded:R,setMostRecentPinId:z,setMostRecentPinImage:M,shouldFetchSLURPFields:eF,toastManager:Y,trackInteraction:k,trendsData:{data:ef,isLoaded:!ex||ev},userBusinessRoleResource:ey,verticalNavWidth:D})});function tw(e){let t=(0,e_.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,x.jsx)(tS,{...e,storyPinTaggedProductsResource:t})}},219098:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),n=i(883119),l=i(115642),r=i(785893);function s({accessibilityLabel:e,handleClick:t,icon:i,iconColor:s,iconOnly:o,testId:d,buttonText:c,tabIndex:u,bgColor:p,isActive:g}){let[m,h]=(0,a.useState)(!1),_=(0,a.useRef)(null),{setAbortNoActionPlacementTimeout:y}=(0,l.x4)(),x=()=>{h(e=>!e),t(),y(!0)},f=e=>{_&&e.target instanceof Element&&!_.current?.contains(e.target)&&h(!1)};return(0,a.useEffect)(()=>(window.addEventListener("mousedown",f),()=>{window.removeEventListener("mousedown",f)}),[]),(0,a.useEffect)(()=>{void 0!==g&&h(g)},[g]),(0,r.jsx)(n.xu,{"data-test-id":d||"closeup-action-bar-button",children:(0,r.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(n.hU,{ref:_,accessibilityLabel:e,bgColor:p,icon:i,iconColor:s||"darkGray",onClick:x,selected:m,size:o?"md":"lg",tabIndex:u}),c&&(0,r.jsx)(n.iP,{onTap:x,rounding:2,children:(0,r.jsx)(n.X6,{color:"light",overflow:"normal",size:"400",children:c})})]})})}},50127:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(667294),n=i(883119),l=i(923952),r=i(144326),s=i(240760),o=i(207630),d=i(785893);function c({minutes:e}){let t=(0,r.ZP)(),i=e%60,a=Math.floor(e/60),o=i>0?(0,s.nk)(t.bt("{{ mins }} min", "{{ mins }}min", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{mins:i}).join(""):"",c=a>0?(0,s.nk)(t.bt("{{ hours }} hr", "{{ hours }}hr", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{hours:a}).join(""):"";return(0,d.jsx)(n.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(n.xv,{inline:!0,size:l.n,children:(0,s.nk)(t.bt("{{ hoursText }} {{ minsText }}", "{{ hoursText }} {{ minsText }}", "closeup.storyPin.basicsLayout.cookTime", undefined, true),{hoursText:c,minsText:o})})})}function u({servingSize:e}){let t=(0,r.ZP)(),i=(0,o.Z)(t.nbt(["{{servingSize}} serving", "{{servingSize}} servings"], e, "number of servings for a recipe", true),{servingSize:e});return(0,d.jsx)(n.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(n.xv,{inline:!0,size:l.n,children:(0,s.nk)(t.bt("{{ servingText }}", "{{ servingText }}", "closeup.storyPin.basicsLayout.servings", undefined, true),{servingText:i})})})}function p({difficulty:e}){let t=(0,r.ZP)(),i={1:t.bt("Easy", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:t.bt("Intermediate", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:t.bt("Expert", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},a=e?i[e]:null;if(!a)return null;let o=t.bt("Difficulty:", "Difficulty:", "closeup.storyPin.basicsLayout.difficultyLevelLabel", undefined, true);return(0,d.jsx)(n.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(n.xv,{inline:!0,size:l.n,children:(0,s.nk)(t.bt("{{ label }} {{ difficultyLevel }}", "{{ label }} {{ difficultyLevel }}", "closeup.storyPin.basicsLayout.difficulty", undefined, true),{label:o,difficultyLevel:a})})})}function g({keyValueBlocks:e,hasMetadataTemplateType:t}){if(!t)return null;let i=e||[];return(0,d.jsx)(n.xu,{"data-test-id":"categories-metadata",children:(i||[]).map((e,t)=>{let r=`kv-${t}`,s=function(e){let t=e.category_type??e.categoryType,{value:i}=e;if(2===t)return(0,d.jsx)(p,{difficulty:i});let a=parseInt(i,10);return 1===t?(0,d.jsx)(u,{servingSize:a}):0===t&&a?(0,d.jsx)(c,{minutes:a}):null}(e);return s?t<i.length-1?(0,d.jsxs)(a.Fragment,{children:[s,(0,d.jsx)(n.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(n.xv,{inline:!0,size:l.n,children:"  "})})]},r):(0,d.jsx)(a.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},401039:(e,t,i)=>{i.d(t,{R:()=>eU,Z:()=>eN});var a,n,l,r=i(667294),s=i(545007),o=i(616550),d=i(883119);i(167912);var c=i(47848),u=i(788388),p=i(151958),g=i(785893);let m=void 0!==a?a:a=i(947272),h=({children:e,clientTrackingParams:t,pinKey:i,pinImageUrl:a,closeupNavigationType:n})=>{let l=(0,c.Z)(m,i),r=(0,p.Z)(l),{entityId:s}=l,o=l.isEligibleForPdp?r():{};return(0,g.jsx)(u.F,{clientTrackingParams:t,closeupImpressionType:13,closeupNavigationType:n,componentType:85,contextLogData:o,impressionAuxFields:{imageURL:a,clientTrackingParams:t},impressionType:"Pin",loggingId:s,slotIndex:-1,viewData:{pin_id:s},viewType:3,children:({impressionTrackerRef:t})=>(0,g.jsx)(d.xu,{ref:t,"data-test-id":"closeup-visual-container",children:e})})};var _=i(512660),y=i(50127),x=i(652444),f=i(144326),v=i(240760);function k({mediaAttribution:{author:e,authorUrl:t,ccUrl:i,link:a,mediaType:n,providerName:l}}){let r=(0,f.ZP)(),s=!!(l&&a);if(!e&&!s)return null;let o=s?r.bt("from {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):null;return e&&(o="VIDEO"===n?s?r.bt("Video by {{ author }} on {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):r.bt("Video by {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):s?r.bt("Photo by {{ author }} on {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):r.bt("Photo by {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,g.jsx)(d.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,g.jsxs)(d.xv,{color:"default",size:"200",children:[!!o&&(0,g.jsx)(v.r7,{text:(0,v.nk)(o,{author:(0,g.jsx)(d.rU,{display:"inlineBlock",href:t??"",rel:"nofollow",underline:"hover",children:(0,g.jsx)(d.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,g.jsx)(d.xu,{display:"inlineBlock",marginEnd:1,children:(0,g.jsx)(d.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"always",children:l},"provider")}):null})}),i&&(0,g.jsx)(d.rU,{href:i,rel:"nofollow",children:r.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}function b({attribution:{authorName:e,authorUrl:t,ccUrl:i,providerName:a,url:n},embed:l}){let r=(0,f.ZP)(),s=!!(a&&n);if(!e&&!s)return null;let o=null;return s?o=e?l?.src&&"gif"!==l.type&&"pinstory"!==l.subtype?r.bt("Video by {{ author }} on {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):r.bt("Photo by {{ author }} on {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):r.bt("from {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):e&&(o=l?.src&&"gif"!==l.type&&"pinstory"!==l.subtype?r.bt("Video by {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):r.bt("Photo by {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,g.jsx)(d.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,g.jsxs)(d.xv,{color:"default",size:"200",children:[!!o&&(0,g.jsx)(v.r7,{text:(0,v.nk)(o,{author:(0,g.jsx)(d.rU,{display:"inlineBlock",href:t??"",rel:"nofollow",underline:"hover",children:(0,g.jsx)(d.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,g.jsx)(d.xu,{display:"inlineBlock",marginEnd:1,children:(0,g.jsx)(d.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:a},"provider")}):null})}),i&&(0,g.jsx)(d.rU,{href:i,rel:"nofollow",children:r.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}let P=void 0!==n?n:n=i(952676),S=e=>{let{isStoryPin:t,pinKey:i,onUpdate:a}=e,n=(0,c.Z)(P,i),l=n.entityId&&(!!n.attribution?.providerUrl&&!!n.attribution.providerName||!!n.attribution?.authorName),r=n.entityId&&(!!n.mediaAttribution?.link&&!!n.mediaAttribution.providerName||!!n.mediaAttribution?.author),s=null;if(l||r){let{closeupUnifiedDescription:e}=n,t=(e||"").trim()?"{{ credit }}":"{{ credit }}";s=n.mediaAttribution?(0,v.nk)(t,{credit:n.mediaAttribution&&(0,g.jsx)(k,{mediaAttribution:{author:n.mediaAttribution.author,authorUrl:n.mediaAttribution.authorUrl,ccUrl:n.mediaAttribution.ccUrl,link:n.mediaAttribution.link,mediaType:n.mediaAttribution.mediaType,providerName:n.mediaAttribution.providerName}},"article-pin")}):(0,v.nk)(t,{credit:n.attribution&&(0,g.jsx)(b,{attribution:{authorName:n.attribution.authorName,authorUrl:n.attribution.authorUrl,ccUrl:n.attribution.ccUrl,providerName:n.attribution.providerName,url:n.attribution.url},embed:n.embed&&{type:n.embed.type,src:n.embed.src,subtype:n.embed.subtype}},"article-pin")})}return(0,g.jsxs)(d.xv,{inline:!0,children:[s,!t&&(0,g.jsx)(x.Z,{onUpdate:a,pinKey:n})]})};var w=i(777466),j=i(961754);function I({creatorId:e,children:t}){let{data:i}=(0,j.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return t(i)}var C=i(796768),F=i(656412),T=i(505612),A=i(293704),L=i(543693),K=i(480832),R=i(452639),Z=i(556541),E=i(690996),D=i(498106),z=i(889870),M=i(602185),B=i(282999),O=i(297728),V=i(730212),H=i(750077),U=i(453854),N=i(801621),W=i(590045),$=i(115642),G=i(242134);function q({children:e}){let{isCloseupRelatedPinsAboveTheFoldEnabled:t,closeupWithinMasonryEnabled:i,peekCloseupEnabled:a}=(0,$.x4)(),n=8,l=4;return a?(n=0,l=W.O5):i&&(n=void 0,l=void 0),(0,g.jsx)(d.xu,{marginBottom:n,marginTop:l,minHeight:t?void 0:48,children:e})}var X=i(811093),Q=i(672342);i(817673),i(608575);var Y=i(16244),J=i(753652);i(868808);let ee=e=>{try{return decodeURIComponent(e)}catch{return null}};(0,J.ZP)(e=>{let t=e.toLowerCase().replace(/\.*$/,"");return Y.get(t.toLowerCase())});var et=i(179735);let ei=(0,et.Z)(()=>i.e(14360).then(i.bind(i,314538)),void 0,"app-www-closeup-duplo-PinRecipeRating"),ea=(0,et.Z)(()=>i.e(96664).then(i.bind(i,592243)),void 0,"app-common-react-components-GroupBoardCloseup-SavedInfo"),en=(0,r.lazy)(()=>i.e(95246).then(i.bind(i,844446))),el=void 0!==l?l:l=i(369499);function er({pinKey:e,clientTrackingParams:t,inCommentFeedRedesignExp:i,isStoryPin:a,isCutout:n,isDeletedStoryPin:l,viewParameter:s,trafficSource:u,details:p,viewer:m,onClickThrough:h,onCloseupBodyUpdate:x,orbacActingAs:v,outerPaddingSize:k,viewportSize:b,shouldShowPartnerModule:P,trendsData:j,showTrendsOnPinCloseup:Y,showPinStats:J}){let et=(0,f.ZP)(),{carouselInfo:er}=(0,R.r)(),es=(0,c.Z)(el,e),{makeDetailsArgs:eo}=(0,C.ZP)(es),{creatorId:ed,showCreatorCard:ec}=eo(!!l),eu=(0,Z.Z)({clientTrackingParams:t,pinKey:es,pinId:es.entityId,viewParameter:s,trafficSource:u}),{checkExperiment:ep}=(0,O.F)(),eg=(0,T.Z)(es,m),{closeupUnifiedDescription:em,closeupUserNote:eh,userMentionTags:e_}=es,ey=(0,F.Z)({pinKey:es,orbacActingAs:v,viewer:m}),ex=es.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:t})=>({categoryType:e,value:t}))??[],ef=ex.length>0,ev=(0,L.Z)(eh)||!!es.richMetadata,ek=es.richMetadata?.recipe?.name&&es.richMetadata.recipe.categorizedIngredients&&es.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:eb,isCloseupRelatedPinsAboveTheFoldEnabled:eP,peekCloseupEnabled:eS}=(0,$.x4)(),ew=(0,N.q6)(m,es.pinner?.entityId,v),ej=ep("closeup_ctx_is_go_linkless_web").anyEnabled,[eI,eC]=(0,r.useState)(!1),eF=(0,o.TH)(),{isAuthenticated:eT,userAgent:{isMobile:eA}}=(0,V.B)(),eL=!eT&&(0,B.am)(eF),eK=!!(es.promoter&&!es.isDownstreamPromotion)&&es.promoter?.entityId===es.nativeCreator?.entityId,{sponsorship:eR,storyPinData:eZ,affiliateLink:eE}=es,eD=!!eE,ez=!!eZ?.hasProductPins||!!eZ?.hasAffiliateProducts,eM=(!!eR?.sponsor||ez)&&!eK&&!eL||eD,eB=n?null:(0,g.jsx)(U.q,{children:({hovered:e,onMouseEnter:n,onMouseLeave:l})=>(0,g.jsx)(z.Z,{clientTrackingParams:t,hovered:e,pinKey:es,trafficSource:u,viewType:3,children:(0,g.jsx)(d.xu,{onMouseEnter:n,onMouseLeave:l,children:(0,g.jsx)(G.Z,{carouselInfo:er,inCommentFeedRedesignExp:i,isLink:!a,onClick:eu,onTitleCheck:eC,pinKey:es})})})}),eO=()=>ec&&(0,g.jsx)(_.Z,{"data-testid":"closeup-metadata-creator",marginTop:eb?(k??W.ER)/2:0,paddingBottom:eb?(k??W.ER)/2:0,paddingLeft:eb?(k??W.ER)/2:0,paddingRight:8,children:(0,g.jsx)(I,{creatorId:ed,children:e=>!!e&&(0,g.jsx)(q,{children:(0,g.jsx)(E.default,{clientTrackingParams:t,componentType:126,impressionType:"User",input:es,isORBACProfileManager:ew,loggingId:ed,officialUser:e,slotIndex:0,viewParameter:s,viewType:3})})})}),{link:eV,trackedLink:eH}=es||{},eU=eH||eV||"",eN=ee(eU)??eU,eW=m.isAuth&&es.originPin?.originPinner?.entityId===m.id,e$=eS?k??W.ER:0;e$=eb?(k??W.ER)/2:e$;let eG=()=>eN&&(!ej||eW||!(es.isGoLinkless&&ej))&&(0,g.jsx)(_.Z,{marginTop:eS?k??W.ER:void 0,paddingBottom:eS?(k??W.ER)/2:void 0,paddingRight:e$,children:(0,g.jsx)(d.xu,{"data-test-id":"visit-site-button",marginTop:eP?void 0:5,children:(0,g.jsx)(D.Z,{clientTrackingParams:t,color:"gray",link:eN,onClickThrough:h,pinKey:es,text:et.bt("Visit site", "Visit site", "closeup.defaultMetadata.visitButton", undefined, true)})})}),eq=()=>(0,g.jsxs)(r.Fragment,{children:[!!(a&&em&&ev)&&(0,g.jsx)(d.xu,{marginTop:eb?W.O5:8,width:eb?"100%":void 0,children:(0,g.jsx)(K.Z,{descriptionDir:(0,Q.j)(em),children:(0,g.jsx)(w.Z,{description:em||"",userMentionTags:e_?.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))})})}),!n&&!a&&eb&&(0,g.jsx)(d.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,g.jsx)(d.xu,{marginBottom:eb&&!ek?W.O5:void 0,marginTop:eb?W.O5:void 0,width:eP?"100%":void 0,children:(0,g.jsx)(S,{isStoryPin:a,onUpdate:x,pinKey:es})})}),eM&&(eA||eb)&&(0,g.jsx)(d.xu,{marginTop:2,children:(0,g.jsx)(X.Z,{hasAffiliateLink:eD,hasAffiliateProducts:ez})})]});return(0,g.jsxs)(d.xu,{marginTop:eb?2:void 0,children:[P&&(a||eb)&&(0,g.jsx)(_.Z,{paddingRight:(k??W.ER)/2,children:(0,g.jsx)(d.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,g.jsx)(M.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,g.jsx)(H.Z,{children:(0,g.jsx)(en,{borderStyle:A.te,isStoryPin:a,pinKey:es,showPinStats:J,trendsData:Y?j?.data?.results:null,viewportSize:b})})})})}),(0,g.jsxs)(d.xu,{alignItems:eb?"start":void 0,display:eb?"flex":void 0,justifyContent:eb?"between":void 0,children:[(0,g.jsxs)(d.kC.Item,{children:[eb&&eO(),(!eI||!eb)&&(0,g.jsx)(_.Z,{paddingLeft:eb?(k??W.ER)/2:0,paddingRight:k,children:(0,g.jsx)(d.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:eB})}),eS&&eO(),(0,g.jsx)(d.xu,{direction:eS?"column":void 0,display:eS?"flex":void 0,height:eS?"100%":void 0,children:(0,g.jsxs)(_.Z,{paddingLeft:eb?(k??W.ER)/2:0,paddingRight:k,children:[ef&&(0,g.jsx)(d.xu,{marginTop:eb?W.O5:4,children:(0,g.jsx)(y.Z,{hasMetadataTemplateType:!!es.storyPinData?.metadata?.templateType,keyValueBlocks:ex})}),!ef&&!!ek&&(0,g.jsx)(d.xu,{marginTop:eb?W.O5:void 0,children:(0,g.jsx)(ei,{boldText:!1,fallback:(0,g.jsx)(d.$j,{accessibilityLabel:et.bt("Loading Pin recipe rating", "Loading Pin recipe rating", "closeupDefaultMetadata.PinRecipeRating.loading.label", undefined, true),show:!0}),graphqlRef:null,isWideViewport:!0,pinId:es.entityId,textSize:"300"})}),!eb&&eq()]})})]}),(0,g.jsx)(d.kC.Item,{flex:"none",children:eb&&eG()})]}),eb&&(0,g.jsx)(_.Z,{paddingLeft:eb?(k??W.ER)/2:0,paddingRight:k,children:eq()}),eS&&eG(),(0,g.jsxs)(r.Fragment,{children:[p,!!eg&&!eP&&(0,g.jsx)(d.xu,{marginTop:W.O5,children:(0,g.jsx)(ea,{pinKey:es,showFavoritesInformation:!l&&ey})})]})]})}var es=i(895573),eo=i(629586),ed=i(738390),ec=i(515272),eu=i(948195),ep=i(42547),eg=i(411103),em=i(857550),eh=i(852045),e_=i(70494),ey=i(756222);let ex=(0,r.lazy)(()=>i.e(34209).then(i.bind(i,522769))),ef=(0,et.Z)(()=>Promise.resolve().then(i.bind(i,690996)),void 0,"app-common-react-components-CreatorCard"),ev=(0,et.Z)(()=>i.e(48745).then(i.bind(i,477418)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function ek({inCommentFeedRedesignExp:e,isCommentSectionOpen:t,isCutout:i,isStoryPin:a,isVideoPin:n,isDeletedStoryPin:l,orbacActingAs:s,orbacSubjectId:c,onCommentSectionClick:u,onCloseupBodyUpdate:p,outerPaddingSize:m=W.g9,pin:h,viewer:y,shouldShowStlCarouselForOwnPin:x,storyPinTaggedProducts:v=[],taggedProducts:k,trafficSource:b,viewType:P,closeupContext:w,isLoadingNewlyCreatedComment:j,viewParameter:A,detailsScrollContainerRef:L,clientTrackingParams:K}){let{makeDetailsArgs:R}=(0,C.ZP)({type:"deprecated",data:h}),{isShopTheLook:Z,showCreatorCard:E,creatorId:D,showCanonicalComments:z}=R(!!l),O=(0,f.ZP)(),U=(0,T.Z)({type:"deprecated",data:h},y),$=(0,o.TH)(),{isAuthenticated:G}=(0,V.B)(),Q=(0,eg.Z)((0,em.Z)((0,eh.Z)((0,e_.Z)({pin:h})))),Y=(k||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:t,y_percent:i}=e;if(t>0&&t<=100&&i>0&&i<=100)return!0}return!1})(e)),J=(0,N.q6)(y,h.pinner?.id,s),{descriptionPaneWidth:ee,closeupWithinMasonryEnabled:et,isCloseupRelatedPinsAboveTheFoldEnabled:ei,peekCloseupEnabled:ea}=w,en=!G&&(0,B.am)($),el=!!(h.promoter&&!h.is_downstream_promotion)&&h.promoter?.id===h.native_creator?.id,{sponsorship:er,story_pin_data:ek,affiliate_link:eb}=h,eP=!!eb,eS=!!ek?.has_product_pins||!!ek?.has_affiliate_products,ew=(!!er||eS)&&!el&&!en||eP,ej=ee-2*m,eI=!a&&(!((h.rich_summary?.products??[]).length||(h.rich_metadata?.products??[]).length)&&Z&&Y.length>0||x)&&!n,eC=a&&v&&v.length>0,eF=(0,F.Z)({pinKey:{type:"deprecated",data:h},orbacActingAs:s,viewer:y}),{isEligibleForStaticImageIdeaPin:eT}=(0,eu.Z)(h.should_open_in_stream,h.story_pin_data_id),eA=eT&&v&&v.length>0,eL=h.shuffle_asset?.pin,eK=ea?0:m/2,{paddingLeft:eR,paddingRight:eZ,marginTop:eE,marginBottom:eD}=(()=>{let t={paddingLeft:m/2,paddingRight:m,marginTop:10,marginBottom:6};return e||et?{paddingLeft:e?0:t.paddingLeft,paddingRight:et?8:t.paddingRight,marginTop:0,marginBottom:et?2:0}:ea?{paddingLeft:0,paddingRight:m/2,marginTop:2,marginBottom:2}:t})(),ez=h.favorited_by_me?O.bt("Remove from favourites", "Remove from favorites", "closeup.metadataDetails.removeFromFavorites", undefined, true):O.bt("Add to favourites", "Add to favorites", "closeup.metadataDetails.addToFavorites", undefined, true),eM=[...eI||eC||eA?[(0,g.jsx)(_.Z,{paddingLeft:m/2,paddingRight:m,children:(0,g.jsx)(M.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,g.jsx)(H.Z,{children:(0,g.jsx)(ex,{closeupImageSignature:h.image_signature??"",isOwnCreatedPin:x,pin:h,pinId:h.id,taggedObjects:eC||eA?v:Y,type:eI?"stl":"story",viewParameter:A})})})},"closeupStlModuleMetadataPadding")]:[],...ei?[]:[e?(0,g.jsx)(_.Z,{paddingRight:m,children:(0,g.jsx)(ep.Z,{inCommentFeedRedesignExp:e,moduleWidth:W.Gg-W.g9,pinKey:{type:"deprecated",data:h},trafficSource:b,viewParameter:A})}):(0,g.jsx)(ep.Z,{moduleWidth:W.Gg-W.g9,pinKey:{type:"deprecated",data:h},trafficSource:b,viewParameter:A})],...Q?[(0,g.jsx)(_.Z,{paddingLeft:ea?0:m/2,paddingRight:ei?m/2:m,children:(0,g.jsx)(ey.Z,{recipeProps:Q})},"closeupRecipeMetadataPadding")]:[],...ei&&!l&&eF?[(0,g.jsx)(_.Z,{paddingLeft:et?m/2:0,paddingRight:ei?m/2:16,children:(0,g.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:et?0:2,marginTop:et?0:2,children:[et?(0,g.jsx)(d.xv,{size:"300",weight:"bold",children:ez}):(0,g.jsx)(d.xv,{weight:"bold",children:ez}),(0,g.jsx)(eo.Z,{board:h.board,favorited:!!h.favorited_by_me,pinId:h.id,section:h.section})]})},"closeupFavoriteBarMetadataPadding")]:[],...eF?[(0,g.jsx)(_.Z,{paddingLeft:e||ea?0:m/2,paddingRight:ei?m/2:m,children:(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(ed.Z,{show:e}),(0,g.jsx)(ev,{boardId:h.board?.id,isGroupNote:U,pinId:h.id,pinNoteText:h.pin_note?.text})]})},"closeupPinNoteMetadataPadding")]:[]];return(0,g.jsx)(r.Fragment,{children:(0,g.jsxs)(d.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:ea?"100%":void 0,justifyContent:"start",children:[i||et?null:(0,g.jsxs)(_.Z,{"data-testid":"closeup-metadata-details",paddingLeft:ei?eK:void 0,paddingRight:ei?m/2:m,children:[(0,g.jsx)(d.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,g.jsx)(d.xu,{marginTop:ea?void 0:2,maxWidth:ei?void 0:ej,width:ei?"100%":void 0,children:(0,g.jsx)(S,{isStoryPin:a,onUpdate:p,pinKey:{type:"deprecated",data:h}})})}),ew&&!et&&(0,g.jsx)(X.Z,{hasAffiliateLink:eP,hasAffiliateProducts:eS})]}),i&&eL?(0,g.jsx)(d.xu,{"data-testid":"closeup-metadata-parent-pin",marginBottom:et?0:2,marginTop:et?0:2,children:(0,g.jsx)(ec.Z,{pinKey:{type:"deprecated",data:eL}})}):null,E&&!i&&!ei&&(0,g.jsx)(_.Z,{"data-testid":"closeup-metadata-creator",paddingRight:e?m:m/2,children:(0,g.jsx)(I,{creatorId:D,children:e=>!!e&&(0,g.jsx)(q,{children:(0,g.jsx)(ef,{clientTrackingParams:K,componentType:126,impressionType:"User",input:{type:"deprecated",data:h},isORBACProfileManager:J,loggingId:D,officialUser:e,slotIndex:0,viewParameter:A,viewType:P})})})}),(0,g.jsx)(r.Fragment,{children:eM.map(e=>(0,g.jsxs)(r.Fragment,{children:[e,et&&(0,g.jsx)(_.Z,{paddingLeft:m/2,paddingRight:m/2,children:(0,g.jsx)(d.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,g.jsx)(ed.Z,{show:!0,surface:"closeup-metadata-details"})})})]},`detailFragment-${e.key}`))}),!eM.length&&(0,g.jsx)(_.Z,{paddingLeft:m/2,paddingRight:m/2,children:(0,g.jsx)(d.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,g.jsx)(ed.Z,{show:et,surface:"closeup-metadata-details"})})}),!l&&z&&(0,g.jsx)(M.Z,{name:"CanonicalCard",children:(0,g.jsxs)(_.Z,{paddingLeft:eR,paddingRight:eZ,children:[(0,g.jsx)(ed.Z,{show:e}),(0,g.jsx)(d.iP,{disabled:t||h.comments_disabled,onTap:()=>{u&&u(!t)},children:(0,g.jsx)(d.xu,{marginBottom:eD,marginTop:eE,paddingY:e&&!et?4:0,children:(0,g.jsx)(es.Z,{aggregatedPinId:h.aggregated_pin_data?.id,closeupAttributionId:h.closeup_attribution?.id,closeupAttributionUsername:h.closeup_attribution?.username,commentCount:h.aggregated_pin_data?.comment_count??0,commentsDisabled:h.comments_disabled,inCommentFeedRedesignExp:e,isCommentSectionOpen:t,isLoadingNewCreatedComment:j,isORBACProfileManager:J,isShopTheLook:Z,isVideo:!!h.videos?.video_list,onCommentSectionClick:u,orbacSubjectId:c,photoCount:h.aggregated_pin_data?.did_it_data?.images_count??0,pinId:h.id,pinnerId:h.pinner?.id,scrollContainerRef:L,shouldShowHeading:!ea||(h.aggregated_pin_data?.comment_count??0)>0,storyPinDataId:h.story_pin_data?.id,viewParameter:A})})}),(0,g.jsx)(ed.Z,{show:e})]})})]})})}function eb({maxHeight:e,inCommentFeedRedesignExp:t,pin:i,trafficSource:a,viewParameter:n}){let l=(0,ep.F)(i.id);return l&&0!==l.length?(0,g.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:A.tc}},maxHeight:e,overflow:"scroll",children:(0,g.jsx)(ep.Z,{inCommentFeedRedesignExp:t,moduleWidth:A.LV,pinKey:{type:"deprecated",data:i},trafficSource:a,viewParameter:n})}):null}var eP=i(477055),eS=i(451121),ew=i(194959),ej=i(128976),eI=i(649692),eC=i(616898),eF=i(160221),eT=i(383399),eA=i(501912),eL=i(753183);let eK={__style:{marginBottom:"0",marginTop:"0",maxWidth:W.KP,minWidth:W.Gg}};function eR({children:e,isWideVideo:t}){let{showCloseupContentRight:i,maxWidth:a,paneWidth:n,peekCloseupEnabled:l,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,$.x4)(),{maxHeight:o}=(0,A.Re)(),c=i||t?a:n;return c=r&&"sm"!==s||l?void 0:c,r?(0,g.jsx)(d.xu,{height:"100%",children:e}):(0,g.jsx)(d.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:o,maxWidth:c,position:"relative",rounding:8,width:"100%",children:(0,g.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,g.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,g.jsx)(d.xu,{dangerouslySetInlineStyle:t?eK:{},display:"flex",children:e})})})})}var eZ=i(505809),eE=i(562612),eD=i(449808);let ez=(0,et.Z)(()=>Promise.all([i.e(69965),i.e(92982)]).then(i.bind(i,783279)),{ssr:!1}),eM=(0,et.Z)(()=>Promise.all([i.e(33959),i.e(21177)]).then(i.bind(i,71272)),void 0,"CloseupActionBarCommon"),eB=(0,et.Z)(()=>i.e(46185).then(i.bind(i,546311)),void 0,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),eO=(0,et.Z)(()=>i.e(68357).then(i.bind(i,991354)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),eV=(0,r.lazy)(()=>i.e(26691).then(i.bind(i,726691))),eH=({children:e,metadataContainerRef:t,closeupWithinMasonryEnabled:i})=>i?(0,g.jsx)(d.xu,{ref:t,width:"100%",children:e}):(0,g.jsx)(r.Fragment,{children:e});function eU({isWideVideo:e,didShortClickThrough:t,webLinkSurveyState:{webLinkSurveyRef:i,imageContainerRef:a,legoLinkClickthroughAnchorRef:n,maybeLinkRef:l},pin:c,outerBodyStyle:u,inCommentFeedRedesignExp:p,isEligibleForPinReactions:m,isStoryPin:y,trafficSource:x,visualContentContainer:v,isCloseupMaximized:k,data:b,outerPaddingSize:P,isInStream:S,metadataContainerRef:w,onClickThrough:j,viewParameter:I,metadata:F,viewer:T,orbacSubjectId:L,setIsLoadingNewlyCreatedComment:K=()=>{},relatedModulesResource:R,descriptionContentMaxHeight:Z,marginBottom:E=0,isDeletedStoryPin:D,onSaveButtonClick:B,showRepinOnInitialRender:V,goBack:G,onUpdate:q,routePush:X,closeupActionBarMaxWidth:Q,visualContentContainerRef:Y,showPDPComments:J,actionBarContainerRef:ee,closeupActionBar:et}){let{isCloseupRelatedPinsAboveTheFoldEnabled:ei,descriptionPaneWidth:ea,viewportSize:en,clientTrackingParams:el,closeupWithinMasonryEnabled:er,peekCloseupEnabled:es}=(0,$.x4)(),eo=(0,s.v9)(({changeBoardFromToast:e})=>e)||{},ed=(0,f.ZP)(),ec=(0,o.k6)(),{checkExperiment:eu}=(0,O.F)(),ep=(0,r.useRef)(null),eg=(0,r.useRef)(),[em,eh]=(0,r.useState)(0),e_=(0,r.useCallback)(()=>{let e=w.current;e&&eh(t=>{let i=e.offsetWidth;return t!==i?i:t})},[w]);(0,eD.Z)(e_,w);let ey=(0,eA.Z)(),{pinner:ex}=c,ef=(0,N.q6)(T,ex?.id,ey),{getShowClickthroughLink:ev}=(0,C.ZP)({type:"deprecated",data:c}),ek=!er&&ev(y),eS=!(ef&&!L)&&(!c.is_eligible_for_pdp||!!J)&&!c.comments_disabled&&!!c.is_eligible_for_aggregated_comments,ew=!!c.promoted_is_lead_ad&&eu("web_lead_ads_std_beta").anyEnabled,ej=0!==Object.keys(c).length,eF=e||"lg"!==en,eT=Y?.current?.clientHeight||0,eK=eT?Math.max(eT,850-eP.ap):"100%",eU=c.comments_disabled?0:(c.aggregated_pin_data?.comment_count??0)+(c.aggregated_pin_data?.did_it_data?.images_count??0),eN=(0,g.jsx)(eO,{aggregatedPinDataId:c.aggregated_pin_data?.id,closeupAttributionId:c.closeup_attribution?.id,commentCount:eU,disablePhotoCommentSelection:!!c.done_by_me,isEligibleForPinReactions:m,isPDP:c.is_eligible_for_pdp,orbacSubjectId:L,pinId:c.id,privatePin:"secret"===c.privacy,reactionByMe:c.reaction_by_me||0,reactionCounts:c.reaction_counts,setIsLoadingNewlyCreatedComment:K,showCommentComposer:eS,showReactBackground:!er,storyPinDataId:c.story_pin_data_id,viewParameter:I}),{fiftyPercentWidth:eW,fiftyPercentHeight:e$}=(0,A.Re)(),eG=e&&!er?W.KP:void 0;eG=es?eW:eG;let eq=(y||er)&&!es?void 0:Z;es&&(eq="sm"===en?e$:Y?.current?.clientHeight);let eX=u;ei&&(eX={...u,boxShadow:"unset",border:A.tc,overflow:"hidden"});let eQ=er&&P?P:0,[eY,eJ]=(0,r.useState)(!1);return(0,g.jsx)(eL.ZP.Provider,{value:(0,eL.yq)({closeupBodyWidth:em,isCollageOverlayOpen:eY,setIsCollageOverlayOpen:eJ}),children:(0,g.jsxs)(d.xu,{ref:eg,height:"100%",marginBottom:E,position:"relative",width:"100%",children:[(0,g.jsx)(eR,{isWideVideo:e,children:(0,g.jsxs)(d.xu,{display:er?void 0:"flex",position:"relative",children:[!t&&(0,g.jsx)(H.Z,{children:(0,g.jsx)(eV,{ref:i,imageContainerRef:a,legoLinkClickthroughAnchorRef:n,maybeLinkRef:l,pin:{aggregatedPinData:c.aggregated_pin_data&&{isShopTheLook:c.aggregated_pin_data.is_shop_the_look},board:c.board&&{entityId:c.board.id,owner:c.board.owner&&{entityId:c.board.owner.id??""}},entityId:c.id,imageSignature:c.image_signature,isDownstreamPromotion:c.is_downstream_promotion,isPromoted:c.is_promoted,link:c.link,recommendationReason:c.recommendation_reason&&{reason:c.recommendation_reason.reason}}})}),(0,g.jsx)(d.xu,{color:ej?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eX}},"data-test-id":"closeup-body-style",display:"flex",position:"relative",children:(0,g.jsx)(eH,{closeupWithinMasonryEnabled:er,metadataContainerRef:w,children:(0,g.jsxs)(d.kC,{alignItems:"stretch",direction:"column",height:er?"100%":void 0,justifyContent:"start",children:[(0,g.jsxs)(eZ.Z,{isStoryPin:y,isWideVideo:e,children:[er&&!eY&&(0,g.jsx)(d.xu,{alignItems:"center","data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",overflow:"visible",top:!0,width:"100%",zIndex:new d.Ry(1),children:et}),ej?(0,g.jsx)(r.Fragment,{children:c.promoted_is_lead_ad?(0,g.jsx)(eB,{clientTrackingParams:el,pin:c,data:!!b,goBack:G,onUpdate:q,viewParameter:I,onSaveButtonClick:B,showRepinOnInitialRender:V,actionBarContainerRef:ee,trafficSource:x,onClickThrough:j,isStoryPin:y,descriptionPaneWidth:ea,metadataContainerRef:w,visualContentContainer:v,visualContentContainerHeight:eT,showLeadPinStdBeta:ew}):(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(h,{clientTrackingParams:el,closeupNavigationType:(0,eE.Z)(ec,x),pinImageUrl:(c.images&&c.images["236x"]?.url)??"",pinKey:{type:"deprecated",data:c},children:v}),(0,g.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{overflow:es&&"sm"===en?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",height:k?0:"100%",maxHeight:eq,maxWidth:eG,minHeight:p&&!eF?"100%":void 0,width:e||er?void 0:ea,children:(er||b)&&(!er||c)?(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:er?eQ/2:es?A.Gd:W.g9,paddingBottom:er?eQ:void 0,paddingRight:er?eQ/2:void 0}},direction:"column",display:"flex",flex:"grow",maxHeight:p?eK:void 0,children:[!S&&!er&&(0,g.jsx)(M.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,g.jsx)(eM,{actionBarContainerRef:ep,goBack:G,gridDescription:c.description??"",isDeletedStoryPin:!!D,isEligibleForPinReactions:m,isOnSecretBoard:!1,isStoryPin:y,maxWidth:Q,onEditSubmit:q,onSaveButtonClick:B,outerPaddingSize:P,pin:c,routePush:X,showRepinOnInitialRender:V,viewParameter:I})}),(0,g.jsxs)(d.xu,{ref:er?void 0:w,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:er?void 0:"auto",children:[(0,g.jsxs)(d.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingLeft:er?W.ER/2:0,rowGap:er?4*W.O5:void 0}},direction:"column",display:"flex",height:es?"100%":void 0,justifyContent:"start",width:es?"100%":void 0,children:[ek&&(0,g.jsx)(_.Z,{paddingBottom:es?W.ER:void 0,paddingLeft:er?W.ER/2:0,children:(0,g.jsx)(d.xu,{"data-test-id":"maybe-clickthrough-link",direction:"row",display:"flex",children:(0,g.jsx)(U.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,g.jsx)(z.Z,{clientTrackingParams:el,hovered:e,pinKey:{type:"deprecated",data:c},trafficSource:x,viewType:3,children:(0,g.jsx)(d.xu,{onMouseEnter:t,onMouseLeave:i,children:(0,g.jsx)(eI.Z,{actionBarHeight:ep.current?.offsetHeight||W.Ie,isStoryPin:y,legoLinkClickthroughAnchorRef:n,onClickThrough:j,pinKey:{type:"deprecated",data:c}})})})})})}),F]}),er&&eS&&eN]})]}),!er&&eS&&(0,g.jsx)(d.Le,{bottom:0,children:eN})]}):(0,g.jsx)(d.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,g.jsx)(d.$j,{accessibilityLabel:ed.bt("Pin details loading", "Pin details loading", " - ", undefined, true),show:!0})})}),es&&"lg"===en&&(0,g.jsx)(eb,{inCommentFeedRedesignExp:p,maxHeight:Y?.current?.clientHeight,pin:c,trafficSource:x,viewParameter:I})]})}):(0,g.jsx)(d.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,g.jsx)(d.$j,{accessibilityLabel:ed.bt("Pin loading", "Pin loading", " - ", undefined, true),show:!0})})]}),t&&!c.is_promoted&&R.data&&R.data.length>0&&(0,g.jsx)(eC.C,{})]})})})]})}),eo.shouldOpenModal&&eo.newPin&&eo.originalPinId===c.id&&(0,g.jsx)(M.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,g.jsx)(ez,{experience:eo.experience,pinKey:{type:"deprecated",data:eo.newPin}})})]})})}function eN({disableRelatedResource:e=!1,relatedResourceOptions:t,inCommentFeedRedesignExp:i,isStoryPin:a,isVideoPin:n,isWideVideo:l,pin:s,searchQuery:o,taggedProducts:d,trafficSource:c,viewParameterType:u,onClickThrough:p,data:m,didShortClickThrough:h,goBack:_,isCloseupMaximized:y=!1,isInStream:x=!1,isDeletedStoryPin:f,onSaveButtonClick:v,onUpdate:k,outerBodyStyle:b,outerPaddingSize:P,routePush:S,showRepinOnInitialRender:w,viewType:I,isCommentSectionOpen:F,onCommentSectionClick:T,onCloseupBodyUpdate:A,shouldShowStlCarouselForOwnPin:L,storyPinTaggedProducts:K,clientTrackingParams:R,viewportSize:Z,shouldShowPartnerModule:E,trendsData:D,showTrendsOnPinCloseup:z,showPinStats:M}){let[B,O]=(0,r.useState)(!1),V=(0,r.useRef)(null),H=(0,j.Z)(e?null:t),U=(0,r.useRef)(null),W=(0,$.x4)(),G=(0,eT.Z)(),q=(0,eF.Z)(),X=!s.is_promoted&&!s.is_downstream_promotion&&!f,Q=!!s.shuffle_asset&&q(),Y=(0,eA.Z)(),J=(0,N.lJ)(G,Y),ee=(0,ew.Z)(),et=(0,eS.Z)({metadataContainerRef:U}),ei=(0,eP.ZP)(i),{getViewParameter:ea}=(0,C.ZP)({type:"deprecated",data:s}),en=ea(u),{setClickthroughComponentForSurvey:el,imageContainerRef:es}=ee,eo=(0,r.useMemo)(()=>(0,g.jsx)(eM,{actionBarContainerRef:V,goBack:_,gridDescription:s.description??"",isDeletedStoryPin:!!f,isEligibleForPinReactions:X,isOnSecretBoard:!1,isStoryPin:a,onEditSubmit:k,onSaveButtonClick:v,outerPaddingSize:P,pin:s,routePush:S,showRepinOnInitialRender:w,viewParameter:en}),[_,f,X,a,v,k,P,s,S,w,en]),ed=(0,g.jsx)(ej.Z,{isStoryPin:a,isWideVideo:l,pin:s,searchQuery:o,taggedProducts:d,trafficSource:c,viewParameterType:u,visualContentContainerRef:ei.visualContentContainerRef,imageContainerRef:es,handleImageClickThrough:()=>p({wasImageClicked:!0}),setClickthroughComponentForSurvey:el,isShortImage:et,onSaveButtonClick:v,showRepinOnInitialRender:w,viewParameter:en}),ec=(0,g.jsx)(ek,{inCommentFeedRedesignExp:i,isCommentSectionOpen:F,isCutout:Q,isStoryPin:a,isVideoPin:n,isDeletedStoryPin:f,orbacActingAs:Y,orbacSubjectId:J,onCommentSectionClick:T,onCloseupBodyUpdate:A,outerPaddingSize:P,pin:s,viewer:G,shouldShowStlCarouselForOwnPin:L,storyPinTaggedProducts:K,taggedProducts:d,trafficSource:c,viewType:I,closeupContext:W,isLoadingNewlyCreatedComment:B,viewParameter:en,detailsScrollContainerRef:U.current,clientTrackingParams:R,reactionCounts:s.reaction_counts}),eu=(0,g.jsx)(er,{pinKey:{type:"deprecated",data:s},clientTrackingParams:R,inCommentFeedRedesignExp:i,isStoryPin:a,isCutout:Q,isDeletedStoryPin:f,trafficSource:c,details:ec,onClickThrough:p,onCloseupBodyUpdate:A,outerPaddingSize:P,orbacActingAs:Y,viewer:G,viewParameter:en,viewportSize:Z,shouldShowPartnerModule:E,trendsData:D,showTrendsOnPinCloseup:z,showPinStats:M});return(0,g.jsx)(eU,{isWideVideo:l,didShortClickThrough:h,webLinkSurveyState:ee,pin:s,outerBodyStyle:b,inCommentFeedRedesignExp:i,isEligibleForPinReactions:X,isStoryPin:a,trafficSource:c,visualContentContainer:ed,isCloseupMaximized:y,data:m,isInStream:x,metadataContainerRef:U,onClickThrough:()=>{p&&p({componentType:129}),ee.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:en,viewType:I,viewer:G,orbacSubjectId:J,isLoadingNewlyCreatedComment:B,onCommentSectionClick:T,setIsLoadingNewlyCreatedComment:O,relatedModulesResource:H,descriptionContentMaxHeight:ei.descriptionContentMaxHeight,metadata:eu,onSaveButtonClick:v,showRepinOnInitialRender:w,goBack:_,onUpdate:k,routePush:S,visualContentContainerRef:ei.visualContentContainerRef,actionBarContainerRef:V,outerPaddingSize:P,closeupActionBar:eo})}},629586:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(545007),n=i(744652),l=i(573706),r=i(338623),s=i(115642),o=i(843888),d=i(785893);function c({board:e,favorited:t,pinId:i,section:c}){let u,p;let{logContextEvent:g}=(0,l.v)(),m=(0,a.I0)(),{closeupWithinMasonryEnabled:h}=(0,s.x4)();e&&([u,p]=(0,o.J)(e.url??""));let _=e=>{g({event_type:101,component:13791,element:e?12225:12226,object_id_str:i,view_type:3})};return(0,d.jsx)(n.Z,{favorited:t,isCloseupButton:!0,onFavorite:()=>{_(!0),m((0,r.jB)("BoardResource",{username:p,slug:u,field_set_key:"detailed"})),m((0,r.jB)("BoardSectionResource",{board_slug:u,section_slug:c?.slug,username:p}))},onUnfavorite:()=>{_(!1)},pinId:i,size:h?"sm":24})}},794672:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),n=i(144326),l=i(107950),r=i(785893);function s({digitalMediaType:e,isMobile:t=!1}){let i=(0,n.ZP)(),s={[l.s.TRAINED_ALGORITHMIC_MEDIA]:i.bt("AI generated", "AI generated", "closeup.aIGeneratedLabel.label", undefined, true),[l.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA]:i.bt("AI modified", "AI modified", "closeup.aIModifiedLabel.label", undefined, true)};return(0,r.jsxs)(a.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"ai-generated-label",display:"flex",height:t?48:44,justifyContent:"center",rounding:"pill",width:t?"147px":"143px",children:[(0,r.jsx)(a.JO,{accessibilityLabel:i.bt("AI generated label icon", "AI Generated Label icon", "closeup.image.aIGeneratedLabelIcon", undefined, true),color:"light",icon:"sparkle"}),(0,r.jsx)(a.xu,{paddingX:1}),(0,r.jsx)(a.xv,{color:"light",size:"300",children:s[e]})]})}},805676:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294),n=i(883119),l=i(794672),r=i(643075),s=i(700337),o=i(750077),d=i(785893);function c({digitalMediaType:e,shouldMoveAILabel:t,closeupWithinMasonryEnabled:i}){return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(n.xu,{height:`calc(100% - ${t?108:60}px)`}),(0,d.jsx)(n.xu,{display:"flex",justifyContent:"start",maxWidth:"147px",paddingX:i?2:r.Q,children:(0,d.jsx)(o.Z,{children:(0,d.jsx)(s.Z,{children:(0,d.jsx)(l.Z,{digitalMediaType:e})})})})]})}},793260:(e,t,i)=>{i.d(t,{Z:()=>h});var a,n=i(667294);i(167912);var l=i(883119),r=i(293704),s=i(955521),o=i(889870),d=i(47848),c=i(144326),u=i(297728),p=i(115642),g=i(785893);let m=void 0!==a?a:a=i(537379);function h({clientTrackingParams:e,domain:t,link:i,pinKey:a,trafficSource:h,viewType:_=3}){let y;let x=(0,c.ZP)(),[f,v]=(0,n.useState)(!1),k=(0,d.Z)(m,a),{checkExperiment:b}=(0,u.F)(),P=b("closeup_media_viewer").anyEnabled,S=b("closeup_dweb_media_viewer_cta_copy").anyEnabled,{getClickthroughColor:w}=(0,s.Z)(),{buttonColor:j,hoverColor:I,textColor:C}=w(k.dominantColor),{isCloseupMediaViewerOpen:F}=(0,p.x4)(),T=(0,n.useMemo)(()=>P&&F&&S,[S,P,F]),A=(0,n.useMemo)(()=>j&&I?{backgroundColor:f?I:j}:{},[j,I,f]),L=(0,n.useMemo)(()=>{if(!j||!I)return f?"lightWash":"default"},[j,I,f]);if(i.startsWith("https://i.pinimg.com")){if(P)return(0,g.jsx)(n.Fragment,{});y=x.bt("View image", "View image", "closeup.image.domainLinkButton", undefined, true)}else y=t?T?x.bt("Visit site", "Visit site", "closeup.pinActionDropDown.visitSite", undefined, true):(0,r.ff)(t):x.bt("Learn more", "Learn more", "closeup.image.domainLinkButton", undefined, true);return(0,g.jsx)(l.iP,{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTap:()=>{},children:(0,g.jsx)(o.Z,{clientTrackingParams:e,hovered:f,pinKey:k,trafficSource:h,viewType:_,children:(0,g.jsxs)(l.xu,{alignItems:"center",color:L,dangerouslySetInlineStyle:{__style:A},"data-test-id":"visit-button",display:"flex",height:44,justifyContent:"center",opacity:.9,paddingX:4,rounding:"pill",children:[(0,g.jsx)(l.JO,{accessibilityLabel:x.bt("Open link icon", "Open link icon", "closeup.image.domainLinkButtonIcon", undefined, true),color:C??"default",icon:"arrow-up-right"}),(0,g.jsx)(l.xu,{paddingX:1}),(0,g.jsx)(l.xv,{color:C??"default",size:"300",weight:"bold",children:y})]})})})}},509006:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),n=i(785893);let l=({onClick:e,href:t,children:i,onNavigation:l})=>(0,n.jsx)(a.xu,{"data-test-id":"image-link",children:(0,n.jsx)(a.Tg,{href:t,onTap:({event:t,dangerouslyDisableOnNavigation:i})=>{i(),e(),l({event:t})},rel:"nofollow",children:i})})},755703:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(713812),n=i(590045);function l({carouselData:e,mainImage:t,maxCloseupImageWidth:i,imageToDisplayWidthRatio:l=1,shouldPadImage:r=!1}){let s=i-n.d2,o=r?s:i,d=Math.floor(o*(e?l:1)/function(e={},t){return Math.min(...[e,...t?.carousel_slots?.map(e=>{var t;return a.Z(e.images)||((t=e.videos?.video_list)?t.V_720P?.url?t.V_720P:t.V_HLSV4?.url?t.V_HLSV4:t.V_HLSV3_MOBILE?.url?t.V_HLSV3_MOBILE:t.V_HLSV3_WEB?.url?t.V_HLSV3_WEB:null:null)}).filter(e=>!!e)||[]].map(({width:e=1,height:t=1})=>e/t))}(t,e));return{width:o,height:d}}},643075:(e,t,i)=>{i.d(t,{Q:()=>a,X:()=>n});let a=5,n=4},950916:(e,t,i)=>{i.d(t,{Z:()=>o}),i(167912);var a,n=i(47848),l=i(519549),r=i(297728);let s=void 0!==a?a:a=i(13674);function o({carouselInfo:e,disablePinTagButton:t,domain:i,hasMetTrustAndSafetyCheck:a,isEmployee:o,isHovered:d,isORBACProfileManager:c,isScenePin:u,isCollageEnabled:p,navLink:g,pinKey:m,showProductDetailPage:h,showStelaDotsOnScenePin:_}){let y=(0,n.Z)(s,m),x=(0,r.F)(),{access:f,aggregatedPinData:v,storyPinDataId:k}=y,b=!!v?.isShopTheLook,P=u&&d,S=a&&!p&&(b&&!P||u),w=!1,j=!1;d&&!P&&(w=!(j=!!g&&!_&&!p)&&!!i&&!!y.link&&!y.link.startsWith("https://i.pinimg.com")&&!(h&&e)&&!p);let I=!!y?.isGoLinkless&&x.checkExperiment("closeup_ctx_is_go_linkless_web").anyEnabled;j=j&&!I;let C=function({carouselInfo:e,hasMetTrustAndSafetyCheck:t,isORBACProfileManager:i,isScenePin:a,isCollageEnabled:n,isShopTheLook:r,pin:s,showProductDetailPage:o}){let{embed:d,isPromoted:c}=s,u=d&&"gif"===d.type;return!!t&&!a&&!r&&!c&&!u&&!i&&!n&&(o?!e||function({pin:e,carouselData:t}){let{index:i=0,carousel_slots:a=[]}=t,{image_signature:n="",images:r}=a[i];if(n.length>0)return!0;let s=e.imageSpec_564x||e.imageSpec_736x||e.imageSpec_orig||e.imageSpec_474x||e.imageSpec_236x;return s?.url===l.Z({images:r})?.url}({pin:s,carouselData:e.carouselData}):!e)}({carouselInfo:e,hasMetTrustAndSafetyCheck:a,isORBACProfileManager:c,isScenePin:u,isCollageEnabled:p,isShopTheLook:b,pin:y,showProductDetailPage:h}),F=!k&&!!f&&f.includes("tag")&&!t&&!p||c||!1,T=!!e,A=function({isShopTheLook:e,showFlashlightButton:t,showShopButton:i,showStelaDotsOnScenePin:a}){return t&&!a?"flashlight":i?e?"stl":"stela":"flashlight"}({showFlashlightButton:C,showShopButton:S,showStelaDotsOnScenePin:_,isShopTheLook:b});return{showCarouselControls:T,showCloseupShopDomainLinkButton:P,showDebugSignalsFeedbackButton:!!o,showDomainLink:w,showDomainLinkButton:j,showFlashlightButton:C,showPinTagButton:F,showShopButton:S,surfaceType:A}}},512660:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(883119),n=i(590045),l=i(785893);function r({children:e,paddingRight:t,paddingLeft:i,paddingBottom:r,marginTop:s,nodeRef:o}){return(0,l.jsx)(a.xu,{ref:o??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${t??n.g9}px`,paddingLeft:i?`${i}px`:void 0,paddingBottom:r?`${r}px`:void 0,marginTop:s?`${s}px`:void 0}},children:e})}},738390:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(883119),n=i(115642),l=i(785893);let r=function(e){let{show:t,surface:i}=e,{closeupWithinMasonryEnabled:r}=(0,n.x4)();return r?(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:t?"1px solid #E9E9E9":void 0,opacity:t?1:0}},"data-test-id":`${i}-divider`,width:"100%"}):t&&(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},777466:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(883119),n=i(133765),l=i(923952),r=i(182315),s=i(785893);let o=({description:e,userMentionTags:t})=>(0,s.jsx)(r.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:l.n,userMentionTags:t});var d=i(115642);function c({description:e}){let{closeupWithinMasonryEnabled:t,peekCloseupEnabled:i}=(0,d.x4)();return(0,s.jsx)(a.xu,{children:(0,n.Z)({closeupWithinMasonryEnabled:t,peekCloseupEnabled:i,text:e})})}function u({description:e,userMentionTags:t}){let i=e=>e.replace(/\s+/g," "),n=e.split(/\n/)||[],l=({descriptionLine:t,userMentionTags:i})=>{let a=e.indexOf(t);return i.map(e=>e&&"number"==typeof e.offset&&e.offset>=a?{...e,offset:e.offset-a}:null).filter(e=>null!==e)||[]};return n.map((e,n)=>{let r=`description-broken-by-line-breaks-${n}`;if(!t||0===t.length)return(0,s.jsx)(c,{description:e},r);let d=l({descriptionLine:e,userMentionTags:t});return d.length>0?(0,s.jsx)(a.xu,{children:(0,s.jsx)(o,{description:i(e),userMentionTags:d})},r):(0,s.jsx)(c,{description:e},r)})}},877687:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294),n=i(883119),l=i(573706),r=i(758339),s=i(144326),o=i(512541),d=i(785893);function c({handlePause:e,handlePlay:t,musicAttributions:i,shouldMute:c,showEndCard:u}){let p=(0,s.ZP)(),{logContextEvent:g}=(0,l.v)(),[m,h]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{!u&&(i?.length||c)&&g({event_type:c?14600:14601,view_type:3,view_parameter:140})},[g,i,c,u]),u||!i?.length&&!c)return null;let _=()=>{t&&t(),h(!1)},y="";if(i?.length===1){let{artist:e="",title:t=""}=i[0];y=e&&t?`${e} - ${t}`:""}let x=(i?.length||0)>=2?(0,d.jsx)(n.xu,{children:(0,d.jsx)(n.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{e&&e(),h(!0)},children:(0,d.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(n.xu,{marginEnd:2,children:(0,d.jsx)(n.JO,{accessibilityLabel:p.bt("Music icon", "Music icon", "web.closeup.musicicon", undefined, true),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12})}),(0,d.jsx)(n.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:p.bt("View the playlist", "View the playlist", "web.closeup.musicAttibutionModal.entryPoint", undefined, true)})]})})}):(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(n.JO,{accessibilityLabel:p.bt("Music icon", "Music icon", "web.pin.closeup.musicicon", undefined, true),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12}),(0,d.jsx)(n.xu,{marginStart:2,overflow:"hidden",children:(0,d.jsxs)("span",{className:y.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:y.length>=50?"260px":void 0},children:[(0,d.jsx)(n.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:y}),(0,d.jsx)(o.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }


                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,d.jsxs)(a.Fragment,{children:[c?(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(n.xu,{marginEnd:2,children:(0,d.jsx)(n.JO,{accessibilityLabel:p.bt("Music icon", "Music icon", "web.closeup.musicMutedIcon", undefined, true),color:"inverse",icon:"music-off",inline:!0,size:12})}),(0,d.jsx)(n.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:p.bt("Audio not available in your location", "Audio not available in your location", "web.closeup.musicAttribution", undefined, true)})]})}):x,m&&(0,d.jsx)(r.ZP,{accessibilityModalLabel:p.bt("Artist and song title for this Pin", "Artist and song title for this Pin", "web.closeup.musicAttibutionModal", undefined, true),heading:(0,d.jsxs)(n.kC,{justifyContent:"between",children:[(0,d.jsx)(n.X6,{size:"500",children:p.bt("Playlist for this video", "Playlist for this video", "web.closeup.musicAttibutionModal.heading", undefined, true)}),(0,d.jsx)(n.hU,{accessibilityLabel:p.bt("Close modal button", "Close modal button", "web.closeup.musicAttibutionModal.closeButton", undefined, true),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,d.jsx)(n.xu,{marginBottom:5,paddingX:5,paddingY:1,children:i?.map(({isrc:e,thumbnail_image_url:t,title:i,artist:a},l)=>d.jsxs(n.xu,{display:"flex",padding:1,children:[d.jsx(n.xu,{color:"darkWash",height:60,rounding:7,width:60,children:d.jsx(n.Ee,{alt:p.bt("Image of album art", "Image of album art", "web.closeup.musicAttibutionModal.albumArt", undefined, true),color:"darkWash",naturalHeight:1,naturalWidth:1,src:t||""})}),d.jsxs(n.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[d.jsx(n.xv,{weight:"bold",children:i??""}),d.jsx(n.xv,{size:"100",children:a??""})]})]},e||`${l}`))})})]})}},806025:(e,t,i)=>{i.d(t,{Z:()=>th});var a,n,l,r,s,o,d=i(883119),c=i(785893);let u=({children:e})=>(0,c.jsx)(d.xu,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:e});var p=i(640498),g=i(144326),m=i(297728),h=i(730212),_=i(773279),y=i(590045),x=i(115642);let f=({embedUrl:e,isWideVideo:t,paddingBottom:i="50%",shouldPadImage:a})=>{let n=(0,g.ZP)(),l=(0,h.B)(),r=t?y.KP:y.Gg,{checkExperiment:s}=(0,m.F)(),o=e?.replace("http://","https://");(l.isAuthenticated?s("embed_rewrite_youtube").anyEnabled:s("embed_rewrite_youtube_unauth").anyEnabled)&&o&&o.startsWith("https://www.youtube.com/embed/")&&(o=o.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/"));let f=(0,c.jsx)(x.ZP.Consumer,{children:({showCloseupContentRight:e,closeupWithinMasonryEnabled:s,peekCloseupEnabled:u,viewportSize:g})=>{let m=(0,c.jsx)("div",{style:{height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:i,..._.Z({isSideBySide:!t,isPadded:a,isRTL:l.isRTL,closeupWithinMasonryEnabled:s,peekCloseupEnabled:u})?.borderStyle},children:(0,c.jsx)("iframe",{allowFullScreen:!0,id:p.ZP.VIDEO_IFRAME_ID,src:o,style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:n.bt("Embedded content", "Embedded content", "Accessible content for the embedded content iframe", undefined, true)})});return e&&"lg"===g?(0,c.jsx)(d.xu,{marginBottom:6,marginEnd:t||a?0:6,width:r,children:m}):m}});return a?(0,c.jsx)(u,{children:f}):f};var v=i(667294);i(167912),i(422578);var k=i(194996),b=i(488792),P=i(47848);let S=void 0!==a?a:a=i(997602),w=({contextLogData:e,height:t,isFocused:i,videoList:a,onFocus:n,onUnfocus:l,pinId:r,pinKey:s,width:o})=>{let u=(0,b.Z)(),p=(0,P.Z)(S,s),{V_720P:g,V_HLSV4:m,V_HLSV3_MOBILE:h}=a,{height:_=1,width:y=1,thumbnail:x}=g||m||h||{},f=_/y,w=f;"number"==typeof t&&"number"==typeof o&&(w=t/o),(0,v.useEffect)(()=>{i?n&&n():l&&l()},[i,n,l]),(0,v.useEffect)(()=>{i&&u({component:e.component,event_type:13,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[i,e,u]);let j=(0,v.useCallback)(()=>{u({component:e.component,event_type:3621,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[e,u]);return(0,c.jsx)(d.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsx)(d.xu,{width:`${100*Math.min(w/f,1)}%`,children:(0,c.jsx)(k.Z,{contextLogData:e,customThumbnail:x,disabled:!i,loop:!0,muted:!1,onPlay:j,pinId:r,pinKey:p,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:g,hls:m,hlsv3:h}})})})};var j=i(573706),I=i(770975),C=i(151958),F=i(830017),T=i(773456),A=i(713812),L=i(107698);let K=({fit:e,highResOnly:t,lowResOnly:i,onError:a,onLoad:n,slot:l,slotIndex:r})=>{let s=(0,g.ZP)(),{details:o=""}=l,{url:u="",width:p=1,height:m=1}=(0,A.Z)(l.images)||{};return(0,c.jsx)(d.Ee,{alt:(0,L.GH)(o,s,r),fit:e,naturalHeight:m??1,naturalWidth:p??1,onError:a,onLoad:n,src:u??"",srcSet:(0,L.gA)({slot:l,lowResOnly:i,highResOnly:t})})},R=void 0!==n?n:n=i(596077);function Z({carouselData:e,displayHeight:t,displayWidth:i,pinKey:a}){let{logContextEvent:n}=(0,j.v)(),{closeupWithinMasonryEnabled:l,isCloseupMediaViewerOpen:r,pdpCarouselSlotToPaneRatio:s,showProductDetailPage:o,peekCloseupEnabled:u}=(0,x.x4)(),{index:p=0}=e,{pauseAutoplay:g,setCurrentVideo:m}=(0,F.I)(),h=(0,P.Z)(R,a),{entityId:_}=h,y=(0,v.useRef)(null),f=(0,C.Z)(h),k=h.isEligibleForPdp?f():void 0,b=h.isEligibleForPdp?144:void 0,S=h.isEligibleForPdp?3:void 0,A=(0,I.E)(),L=(0,v.useCallback)(e=>{A&&e>=1&&A.markConstraintComplete("image")},[A]),Z=(0,v.useMemo)(()=>({viewParameter:o?144:156,view:3,component:o?14012:179,objectId:_}),[_,o]),E=(0,v.useCallback)(()=>{m({pinId:_,isPromoted:!1})},[m,_]),D=(0,v.useCallback)(()=>{g({pinId:_,isPromoted:!1})},[g,_]);(0,v.useEffect)(()=>{e.carousel_slots?.find(e=>e.videos?.video_list)&&n({event_type:120,view_type:Z.view,view_parameter:Z.viewParameter,component:Z.component,object_id_str:Z.objectId})},[n,e.carousel_slots,Z]);let z=y.current&&u;return(0,c.jsx)(d.xu,{ref:y,height:l?"100%":void 0,children:!u||z?(0,c.jsx)(T.Z,{containerRef:y.current,contextLogData:k,gap:1===s?0:4,height:t,id:_,index:p,responsiveSizing:l,slideWidth:i,view:S,viewParameter:b,widthRatio:s,children:e.carousel_slots?.map((a,n)=>{let o,u;return a.videos?.video_list?(o=c.jsx(w,{contextLogData:Z,height:t,isFocused:p===n,onFocus:E,onUnfocus:D,pinId:_,pinKey:h,videoList:a.videos.video_list,width:i*s}),u=a.videos.id):(o=c.jsx(d.xu,{dangerouslySetInlineStyle:{__style:{viewTransitionName:r||n!==e?.index?void 0:`pin-closeup-${_}`}},height:"inherit",width:"inherit",children:c.jsx(K,{fit:"contain",onLoad:()=>L(n),slot:a,slotIndex:n})}),u=a.image_signature),c.jsx(d.zd,{height:"100%",wash:1!==s,width:l?"inherit":void 0,children:o},`${_}-${u||n}`)})||[]}):null})}var E=i(755703),D=i(293704),z=i(794072),M=i(178638);let B=({children:e,containerWidth:t,isCloseupMediaViewerEnabled:i})=>{let{isCloseupRelatedPinsAboveTheFoldEnabled:a}=(0,x.x4)(),{fiftyPercentWidth:n}=(0,D.Re)();return i||a?(0,c.jsx)(d.xu,{height:"100%",maxWidth:n,rounding:a?void 0:4,width:t,children:e}):(0,c.jsx)(d.zd,{wash:!0,children:e})};function O({borderStyle:e,containerWidth:t,dominantColor:i,imageWithPreview:a,pinId:n,fit:l}){let r=(0,I.E)(),s=(0,v.useCallback)(()=>{r&&r.markConstraintComplete("image")},[r]),{isCloseupMediaViewerEnabled:o}=(0,z.Z)({isShufflePin:!1}),{isCloseupMediaViewerOpen:u,closeupWithinMasonryEnabled:p,isCloseupRelatedPinsAboveTheFoldEnabled:g}=(0,x.x4)();return(0,c.jsx)(B,{containerWidth:p?"100%":t,isCloseupMediaViewerEnabled:!!o,children:(0,c.jsx)(d.Ee,{alt:a.previewImage?.alt??"",color:i,fetchPriority:"high",fit:g?l:void 0,naturalHeight:a.naturalHeight,naturalWidth:a.naturalWidth,role:"img",src:a.previewImage?.src??"",children:""!==a.mainImage.src&&(0,c.jsx)(d.xu,{"data-test-id":"closeup-image-main",height:"100%",width:"100%",children:(0,c.jsx)(M.Z,{_enableViewTransitions:o||g,_fixCompletedOnLoad:p,alt:a.mainImage.alt,borderStyle:e,color:i,fetchPriority:"high",fit:l,id:n,naturalHeight:a.naturalHeight,naturalWidth:a.naturalWidth,onLoad:s,src:a.mainImage.src,suppressViewTransitionTags:u})})})})}var V=i(616550),H=i(805676),U=i(643075),N=i(793260);let W=({children:e,imageWidth:t,name:i})=>(0,c.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...t?{display:"flex",justifyContent:"center",justifySelf:"center",width:t}:{},pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${i}`,left:!0,position:"absolute",right:!0,top:!0,children:e});var $=i(452639),G=i(925912),q=i(602185),X=i(700337),Q=i(750077),Y=i(383399),J=i(472921);let ee=({carouselData:e,containerWidth:t,slotWidth:i})=>{let{index:a,carousel_slots:n}=e||{},l=Math.floor(i);return void 0===a||!n||a>=n.length-1?0:t-l};function et({carouselData:e,carouselSlotToPaneRatio:t,children:i,disableAnimations:a=!1,displayWidth:n,hide:l}){let r=(0,v.useCallback)(()=>ee({carouselData:e,containerWidth:n,slotWidth:n*t}),[e,n,t]),[s,o]=(0,v.useState)(r()),[u,p]=(0,v.useState)(a),[g,m]=(0,v.useState)(),h=(0,v.useCallback)(()=>{o(r())},[r]),_=()=>{p(!0)},y=()=>{p(!1)};return(0,v.useEffect)(()=>{let e=!0;return a||(y(),m(t=>(clearTimeout(t),setTimeout(()=>{e&&(h(),l||_())},500)))),()=>{e=!1}},[e?.index,a,h,l]),(0,v.useEffect)(()=>()=>clearTimeout(g),[g]),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{marginRight:s,transition:a?void 0:"opacity 500ms, visibility 500ms ease-in-out",visibility:u?"visible":"hidden"}},"data-test-id":"animated-fab",opacity:u?1:0,children:i})}var ei=i(235753),ea=i(151385);let en=(0,v.lazy)(()=>i.e(90907).then(i.bind(i,166124))),el=(0,v.lazy)(()=>i.e(90907).then(i.bind(i,993422))),er=(0,v.lazy)(()=>i.e(47319).then(i.bind(i,671301))),es=(0,v.lazy)(()=>i.e(87122).then(i.bind(i,807067))),eo=(0,v.lazy)(()=>i.e(97372).then(i.bind(i,286381))),ed=(0,v.lazy)(()=>i.e(91449).then(i.bind(i,437806))),ec=(0,v.lazy)(()=>i.e(80891).then(i.bind(i,180891))),eu=(e,t,i,a)=>a?i*e/a:t,ep=({animateShopButton:e,carouselInfo:t,displayHeight:i,displayWidth:a,domain:n,handleMediaButtonClick:l,hasStelaResults:r,isCloseupRelatedPinsAboveTheFoldEnabled:s=!1,isHovered:o,link:u,mediaViewerExpandButtonRef:p,navigationWrapper:g,onShopButtonAnimationComplete:h,onStelaDotAnimationComplete:_,pin:y,searchQuery:f,showAnimatedExploreCta:k,showCarouselControls:P,showCarouselEllipsis:S,showCloseupShopDomainLinkButton:w,showDebugSignalsFeedbackButton:j,showDomainLink:I,showDomainLinkButton:C,showFlashlightButton:F,showProductDetailPage:T,showPinTagButton:A,showShopButton:L,showStelaDotsOnScenePin:K,stelaDotAnimationType:R,surfaceType:Z,trafficSource:E})=>{let{clientTrackingParams:D,pdpCarouselSlotToPaneRatio:M}=(0,x.x4)(),{mainImage:B,mediaViewerImage:O}=(0,$.r)(),{checkExperiment:ee}=(0,m.F)(),{closeupWithinMasonryEnabled:ep}=(0,x.x4)(),eg=(0,b.Z)(),em=(0,V.k6)(),eh=(0,Y.Z)(),{isCornerButtonEnabled:e_}=(0,z.Z)({isShufflePin:!!y?.shuffle}),ey=!y.is_eligible_for_pdp&&F,ex=y.visual_objects,ef=ee("web_pin_level_landing_feed").anyEnabled,ev=ey&&ee("web_stela_dots_on_flashlight").anyEnabled,ek=y&&y.origin_pinner&&eh.isAuth&&eh.id===y.origin_pinner.id||!(y?.is_go_linkless&&ee("closeup_ctx_is_go_linkless_web").anyEnabled),eb=(0,ea.zX)(y.digital_media_source_type)&&ee("closeup_ctx_ai_metadata_label_web").anyEnabled,eP=r&&ev,eS=void 0!==ex&&eP&&ee("web_remove_stela").anyEnabled,ew=(C||w)&&ek,ej=ew&&u.startsWith("https://i.pinimg.com")&&"control"===ee("closeup_media_viewer").group,eI=w||eP&&o,eC=(0,G.Z)({pinKey:{type:"deprecated",data:y},surfaceType:"stl"===Z?"stela":Z,topLevelTrafficSource:E}),eF=ef?(0,J.Z)({surfaceType:"stl"===Z?"stela":Z,pinId:y.id,isProductPage:!1,trafficSource:E}):eC,eT=({event:e})=>{["flashlight","stela"].includes(Z)&&eg({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:y.image_signature}}),e?.stopPropagation(),eF&&null!=Z?em.push(eF):em.push((0,J.Z)({pinId:y.id,isProductPage:!1,surfaceType:Z}))},eA=ep?U.X:U.Q,eL=eu(i,a,B.width,B.height),eK=!K&&k;return(0,c.jsxs)(v.Fragment,{children:[I&&(0,c.jsx)(W,{name:"domain-link",children:(0,c.jsxs)(d.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",children:n})})]})}),P&&t&&(0,c.jsxs)(W,{name:"carousel-controls",children:[(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(el,{backNode:T?(0,c.jsx)(ei.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"back",showFab:o}):void 0,carouselData:{carouselSlots:t.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:t.carouselData.id??"",index:t.carouselData.index},carouselIndex:t.carouselData&&t.carouselData.index,componentType:t.componentType,forwardNode:T?(0,c.jsx)(ei.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"forward",showFab:o}):void 0,handleCarouselSwipe:t.handleCarouselSwipe,pinKey:{type:"deprecated",data:y},viewParameter:t.viewParameter,viewType:t.viewType})})}),(0,c.jsx)(d.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,padding:eA,position:"absolute",right:!0,children:!C&&S&&(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:(0,c.jsx)(en,{carouselData:{carouselSlots:t.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:t.carouselData.id??"",index:t.carouselData.index},carouselIndex:t.carouselData&&t.carouselData.index,componentType:t.componentType,handleCarouselSwipe:t.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"deprecated",data:y},variant:"default",viewParameter:t.viewParameter,viewType:t.viewType})})})})})]}),(K||eP&&!eS)&&(0,c.jsx)(W,{imageWidth:ep?eL:void 0,name:"stela-container",children:(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_StelaContainerWrapper",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(eo,{alwaysShow:eI,disableSelected:!0,enablePointerEvents:r&&"inOut"===R||eI,height:i,isFlashlightPin:eP,onStelaDotAnimationComplete:_,pinKey:{type:"deprecated",data:y},searchQuery:f,stelaDotAnimationType:R,trafficSource:E,width:ep?eL:a})})})}),(L&&Z||eK)&&(0,c.jsxs)(W,{name:"shop-button",children:[(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,c.jsx)(d.Le,{bottom:12,children:(0,c.jsx)(d.xu,{display:"flex",justifyContent:"end",paddingX:eA,children:(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:eK?(0,c.jsx)(et,{carouselData:t?.carouselData,carouselSlotToPaneRatio:1,disableAnimations:!0,displayWidth:a,hide:!s&&(!F||!!t&&0!==t.carouselData.index),children:(0,c.jsx)(ed,{actionUrl:eF,animateOnRender:!0,animateShopButton:e,dataTestId:"shop-button",id:y.id,imageSignature:y.image_signature,onAnimationComplete:h,onButtonClick:eT,showAnimatedExploreCta:k,surfaceType:Z})}):(0,c.jsx)(ed,{actionUrl:eF,animateOnRender:!0,animateShopButton:e,dataTestId:"shop-button",id:y.id,imageSignature:y.image_signature,onAnimationComplete:h,onButtonClick:eT,showAnimatedExploreCta:k,surfaceType:Z})})})})})})]}),e_&&(0,c.jsxs)(W,{name:"media-viewer-button",children:[(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 116px)"}}}),(0,c.jsx)(d.Le,{bottom:72,children:(0,c.jsx)(d.xu,{display:"flex",justifyContent:"end",paddingX:eA,children:(0,c.jsx)(et,{carouselData:t?.carouselData,carouselSlotToPaneRatio:1,disableAnimations:!0,displayWidth:a,children:(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:(0,c.jsx)(d.xu,{ref:p,onMouseDown:()=>{new Image().src=O.url},children:(0,c.jsx)(ed,{animateOnRender:!1,animateShopButton:e,dataTestId:"media-viewer-button",id:y.id,imageSignature:y.image_signature,onAnimationComplete:h,onButtonClick:l,surfaceType:"media-viewer"})})})})})})})})]}),j&&(0,c.jsxs)(W,{name:"debug-signals-feedback",children:[(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,c.jsx)(d.Le,{bottom:12,children:(0,c.jsx)(d.xu,{display:"flex",justifyContent:"end",paddingX:eA,children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(ec,{pinKey:{type:"deprecated",data:y}})})})})]}),!K&&!k&&(0,c.jsxs)(W,{name:"flashlight-button",children:[(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,c.jsx)(d.Le,{bottom:16,children:(0,c.jsx)(d.xu,{display:"flex",justifyContent:"end",paddingX:eA,children:ey&&Z?(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:(0,c.jsx)(ed,{actionUrl:F?eF:void 0,animateOnRender:!0,animateShopButton:e,dataTestId:"shop-button",id:y.id,imageSignature:y.image_signature,onAnimationComplete:h,onButtonClick:eT,surfaceType:Z})})})}):(0,c.jsx)(et,{carouselData:t?.carouselData,carouselSlotToPaneRatio:M,disableAnimations:!!s,displayWidth:a,hide:!s&&(!F||!!t&&0!==t.carouselData.index),children:(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:(0,c.jsx)(er,{actionUrl:F?eF:void 0,closeupImageHovered:!C&&o,pinId:y.id,variant:"default"})})})})})})})]}),y.digital_media_source_type&&eb&&(0,c.jsx)(W,{name:"ai-generated-label",children:(0,c.jsx)(H.Z,{closeupWithinMasonryEnabled:ep,digitalMediaType:y.digital_media_source_type,shouldMoveAILabel:ej&&o})}),ew&&(0,c.jsxs)(W,{name:"domain-link-button",children:[(0,c.jsx)(d.xu,{height:"calc(100% - 60px)"}),(0,c.jsx)(d.Le,{bottom:12,children:(0,c.jsx)(d.xu,{display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:eA,children:(0,c.jsx)(q.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:g((0,c.jsx)(N.Z,{clientTrackingParams:D,domain:n,link:u,pinKey:{type:"deprecated",data:y},trafficSource:E}))})})})})})]}),A&&(0,c.jsx)(W,{name:"tag-button",children:(0,c.jsx)(q.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:(0,c.jsx)(es,{pin:y})})})})})]})};var eg=i(509006),em=i(950916),eh=i(888017);let e_=void 0!==l?l:l=i(422624),ey=(e,t)=>{let i=400*t,a=Math.max(e.width/i,e.height/i);if(a>1)return createImageBitmap(e,{resizeQuality:"high",resizeHeight:e.height/a,resizeWidth:e.width/a});{let t=1/a;return createImageBitmap(e,{resizeQuality:"high",resizeHeight:e.height*t,resizeWidth:e.width*t})}},ex=(e,t,i,a)=>{let n=1.5*a,l=20*a;e.fillStyle="#D9D9D9";for(let a=l/2;a<t;a+=l)for(let t=l/2;t<i;t+=l)e.beginPath(),e.arc(t,a,n,0,2*Math.PI,!0),e.fill()},ef=(e,t,i)=>{e.sort((e,t)=>t.kind-e.kind).forEach(e=>{t.beginPath(),e.points.forEach((a,n)=>{let l=e.points[(n+1)%e.points.length],r=a.x+i,s=a.y+i;if(0===n)t.moveTo(r,s);else{let e=(r+(l.x+i))/2,a=(s+(l.y+i))/2;t.quadraticCurveTo(r,s,e,a)}}),t.closePath(),t.stroke()})},ev=async(e,t,a)=>{let n=(0,eh.Z)(e_,e);if(!n.url)return;let l=t.getContext("2d");ex(l,t.height,t.width,a);let[r,s,o]=await Promise.all([i.e(18893).then(i.bind(i,618893)),i.e(69670).then(i.bind(i,469670)),fetch(n.url)]),[d]=await Promise.all([o.blob(),s.default()]),c=await createImageBitmap(d),{ContourTracer:u}=r,p=new u().trace(c),g=.07*Math.max(c.width,c.height),m=g/2,h=document.createElement("canvas");h.width=c.width+2*m+11,h.height=c.height+2*m+11;let _=h.getContext("2d");_.clearRect(0,0,h.width,h.height),_.strokeStyle="white",_.lineWidth=g,_.shadowColor="rgba(0, 0, 0, 0.7)",_.shadowBlur=5,_.shadowOffsetX=0,_.shadowOffsetY=.5,_.clearRect(0,0,t.width,t.height),ef(p,_,m+5.5),_.shadowColor="transparent",ef(p,_,m+5.5);let y=await createImageBitmap(h),x=document.createElement("canvas");x.width=y.width,x.height=y.height;let f=x.getContext("2d");f.drawImage(y,0,0),f.drawImage(c,m+5.5,m+5.5);let v=await createImageBitmap(x),k=await ey(v,a),b=(t.width-k.width)/2,P=(t.height-k.height)/2;l.drawImage(k,b,P)},ek=void 0!==r?r:r=i(432149),eb=({pinKey:e,maxWidth:t})=>{let i=(0,P.Z)(ek,e),a=(0,v.useRef)(null),n=(0,v.useRef)(!1),l="undefined"!=typeof window?window.devicePixelRatio:2,r=506*l;if(!n.current&&a.current){n.current=!0;let{shuffleAsset:e}=i,t=a.current,r=e?.cutoutImages;if(!r)return null;ev(r,t,l)}return(0,c.jsx)("canvas",{ref:a,height:r,style:{height:506,width:506,maxWidth:t},width:r})};var eP=i(140066),eS=i(928954),ew=i(823484),ej=i(160221),eI=i(868318),eC=i(470493),eF=i(989820),eT=i(343583),eA=i(167210),eL=i(449808),eK=i(425423);let eR=(0,i(179735).Z)(()=>Promise.all([i.e(29060),i.e(38956),i.e(55448),i.e(97110),i.e(52041)]).then(i.bind(i,937815)),void 0,"app-common-react-components-closeup-CloseupShuffle-CloseupShuffle");function eZ({onClick:e,isHovered:t,pin:i,searchQuery:a,shouldPadImage:n,trafficSource:l,viewParameter:r,isORBACProfileManager:s,handleCollageOverlayToggle:o,handleMediaButtonClick:u}){let p,g;let{stelaDotAnimationType:m,onStelaDotAnimationComplete:y,animateShopButton:f,onShopButtonAnimationComplete:k,originalImageUrl:b,imageSignature:P,link:S,hasStelaResults:w,isScenePin:j,showStelaDotsOnScenePin:I,disablePinTagButton:F,pdpCarouselSlotToPaneRatio:T,showProductDetailPage:A,maxCloseupImageWidth:L,imageWithPreview:K,showAnimatedExploreCta:R}=(0,eS.Z)({isHovered:t,pinKey:{type:"deprecated",data:i}}),z=(0,Y.Z)(),{mainImage:M,carouselInfo:B}=(0,$.r)(),V=(0,eI.Z)(),H=(0,ej.Z)(),U=(0,v.useRef)(null),N=(0,v.useRef)(null),{domain:W,shuffle:G,shuffle_asset:q}=i,X=!!B?.carouselData,{closeupWithinMasonryEnabled:Q,isCloseupRelatedPinsAboveTheFoldEnabled:J,peekCloseupEnabled:ee,clientTrackingParams:et,showCloseupContentRight:ei,viewportSize:ea}=(0,x.x4)(),{isRTL:en}=(0,h.B)(),{borderStyle:el}=(0,_.Z)({isSideBySide:ei,isPadded:n,isRTL:en,closeupWithinMasonryEnabled:Q,peekCloseupEnabled:ee}),{height:er,width:es}=(0,E.Z)({carouselData:B?.carouselData,mainImage:M,maxCloseupImageWidth:L,shouldPadImage:n,imageToDisplayWidthRatio:T}),[eo,ed]=(0,v.useState)({width:es,height:er}),ec=(0,v.useCallback)(()=>{let e=es>er?er/es:1,t=U.current;if(!t)return;let i=t.offsetWidth*e;ed(e=>{let a={height:t.offsetHeight||i,width:t.offsetWidth};return e.height!==a.height||e.width!==a.width?a:e})},[er,es]);(0,eL.Z)(ec,U);let eu=!!G&&(V().isShuffleRendererEnabled||V().isCollageEnabled),eh=!!q&&H(),e_=(0,eC.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{currentDomain:ey}=(0,eP.Wp)({carouselData:i.carousel_data&&{carouselSlots:i.carousel_data.carousel_slots&&i.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:i.carousel_data?.index},domain:i.domain}),ex=ey||W,ef={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(B&&B.carouselData&&B.carouselData.id){let{carousel_slots:e=[],id:t,index:i=0}=B.carouselData;p=e[i]&&e[i].link,ef.carousel_slot_id=e[i]&&e[i].id,ef.carousel_data_id=t,ef.carousel_slot_index=i,ex=e[i]&&e[i].domain||ex}let ev=(0,C.Z)({type:"deprecated",data:i})();ev&&(ef.commerce_data=ev);let ek=p||S||b||"",{dominant_color:eZ}=i,eE=(0,eT.Z)({href:{pathname:ek,state:{trackingParams:et}},target:"blank",clientTrackingParams:et,externalData:{auxData:ef,pin:i&&{attributionSourceId:i.attribution_source_id,board:i.board&&{url:i.board.url},campaignId:i.campaign_id,entityId:i.id,isDownstreamPromotion:i.is_downstream_promotion,isPromoted:i.is_promoted,pinner:i.pinner&&{username:i.pinner.username},pinPromotionId:i.pin_promotion_id,promoter:i.promoter&&{entityId:i.promoter.id},storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,advertiserId:i.advertiser_id}}}),eD=(0,c.jsx)(O,{borderStyle:el,containerWidth:es,dominantColor:J?D.yc:eZ||"",fit:"contain",imageWithPreview:K,pinId:i.id}),ez=eD;X&&(ez=(0,c.jsx)(Z,{carouselData:B.carouselData,displayHeight:J?eo?.height:er,displayWidth:J?eo?.width:es,pinKey:{type:"deprecated",data:i}})),eu&&(ez=(0,c.jsx)(eR,{clientTrackingParams:et,fallback:eD,handleCollageOverlayToggle:o,naturalHeight:K.naturalHeight,naturalWidth:K.naturalWidth,pinId:i.id,shuffleId:G?.id,children:eD}));let{maxHeight:eM,fiftyPercentWidth:eB,fiftyPercentHeight:eO}=(0,D.Re)(),{maxHeight:eV}=(0,ew.Z)({pinKey:{type:"deprecated",data:i}});eh&&(ez=(0,c.jsx)(eb,{maxWidth:eB,pinKey:{type:"deprecated",data:i}},i.id));let{showCarouselControls:eH,showCloseupShopDomainLinkButton:eU,showDebugSignalsFeedbackButton:eN,showDomainLink:eW,showDomainLinkButton:e$,showFlashlightButton:eG,showPinTagButton:eq,showShopButton:eX,surfaceType:eQ}=(0,em.Z)({carouselInfo:B,disablePinTagButton:F,domain:ex||"",isEmployee:z.isAuth&&!!z.isEmployee,isHovered:t,isScenePin:j,isCollageEnabled:eu||eh,hasMetTrustAndSafetyCheck:e_,navLink:ek,pinKey:{type:"deprecated",data:i},showProductDetailPage:A,showStelaDotsOnScenePin:I,isORBACProfileManager:s}),eY=es,eJ=er;return eh?(eJ=506,eY=506):Q&&(eJ=eo.height,eY=eo.width),J&&(Q?g=eV:ee&&(g="sm"===ea?eO:eM)),(0,c.jsx)(eK.V,{children:(0,c.jsxs)(d.xu,{ref:U,alignSelf:Q?"center":void 0,dangerouslySetInlineStyle:{__style:{aspectRatio:J?`${es}/${er}`:void 0,backgroundColor:J?D.yc:void 0}},"data-test-id":"closeup-body-image-container",height:Q?void 0:eJ,maxHeight:J?g:void 0,maxWidth:eB,position:"relative",width:J?"100%":eY,children:[(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...Q?{}:el}},"data-test-id":"closeup-image",height:"100%",maxHeight:J?g:void 0,overflow:"hidden",width:"100%",children:ez}),(0,c.jsx)(ep,{animateShopButton:f,carouselInfo:B,displayHeight:eJ,displayWidth:eY,domain:ex??W??"",handleMediaButtonClick:u,hasStelaResults:w,imageSignature:P,isCloseupRelatedPinsAboveTheFoldEnabled:J,isHovered:t,link:ek,mediaViewerExpandButtonRef:N,navigationWrapper:t=>(0,c.jsx)(eg.Z,{href:ek,onClick:e,onNavigation:eE,children:t}),onShopButtonAnimationComplete:k,onStelaDotAnimationComplete:y,pin:i,searchQuery:a,showAnimatedExploreCta:R,showCarouselControls:eH,showCarouselEllipsis:!A,showCloseupShopDomainLinkButton:eU,showDebugSignalsFeedbackButton:eN,showDomainLink:eW,showDomainLinkButton:e$,showFlashlightButton:eG,showPinTagButton:eq,showProductDetailPage:A,showShopButton:eX,showStelaDotsOnScenePin:I,stelaDotAnimationType:m,surfaceType:eQ,trafficSource:l,viewParameter:r}),N&&(0,c.jsx)(d.mh,{zIndex:eA.lI,children:(0,c.jsx)(eF.Qp,{anchor:N.current,experienceIds:[506692],flyoutSize:"md",idealDirection:"up",placementId:12,showCaret:!0,textWeight:"normal"})})]})})}var eE=i(877687),eD=i(990129),ez=i(891985),eM=i(397230),eB=i(66810),eO=i(267676),eV=i(257548),eH=i(969119),eU=i(673687),eN=i(359107);let eW=(e,t)=>e?13799:0===t?227:228,e$=({pages:e,viewType:t,viewParameter:i,pinId:a})=>{let{clearSeekTime:n}=(0,eO.RC)(),{setIdeaPinActivePage:l}=(0,eN.Ut)(),[r,s]=(0,v.useState)(0),[o,d]=(0,v.useState)(!0),[c,u]=(0,v.useState)(!0),[p,g]=(0,v.useState)(!1),[m,_]=(0,v.useState)(null),{isCloseupRelatedPinsAboveTheFoldEnabled:y}=(0,x.x4)(),f=(0,b.Z)(),k=e[r],P=(0,eM.g)(),S=(0,I.E)(),w=(0,v.useRef)(null),{blocks:[j]=[null]}=(0,eD.Z)({storyPinBlocks:k?.blocks||[],blocksToRender:[eB.h8.VIDEO]}),{seekTimes:C}=(0,eO.Hx)(),F=C&&C[a],T=j?.type===eB.h8.VIDEO&&j?.video,A=(0,h.B)().locale.toLowerCase(),L=T&&(T?.video_list?.V_720P?.captions_urls||T?.video_list?.V_HLSV3_MOBILE?.captions_urls)||{},K=A&&L[A]||Object.values(L)[0]||"",R=()=>{S&&(S.addBinaryAnnotation("page.current.index",r,"I16"),S.addBinaryAnnotation("page.count",e.length,"I16"),S.addBinaryAnnotation("view.type",t,"I32"),S.addBinaryAnnotation("view.parameter",i,"I32"))},Z=(0,v.useCallback)(a=>{S&&S.abort("startNewPwt"),P&&(P.abort("startNewPwt"),P.start(),P.addBinaryAnnotation("page.current.index",a,"I16"),P.addBinaryAnnotation("page.count",e.length,"I16"),P.addBinaryAnnotation("view.type",t,"I32"),P.addBinaryAnnotation("view.parameter",i,"I32"))},[e.length,S,P,i,t]),E=(0,v.useCallback)(e=>{e&&e instanceof eV.B7&&(e.clear(),e=null)},[]),D=(0,v.useCallback)(t=>{E(w.current),!T&&e.length>1&&(w.current=new eV.B7(e=>{_({currentTime:e<1?e:1,duration:1})},()=>{t<e.length-1?(E(w.current),M(t+1)):(g(!0),d(!1))},ez.oN))},[e]),z=(0,v.useCallback)(e=>{_({currentTime:0,duration:1}),D(e)},[D]);(0,eH.Z)(()=>(y&&R(),z(r),()=>{w.current&&w.current instanceof eV.B7&&w.current.clear()}));let M=(0,v.useCallback)(e=>{o||d(!0),p&&g(!1),z(e),e!==r&&n(),s(e),l(e),Z(e)},[r,n,z,o,l,p,Z]);(0,v.useEffect)(()=>{if(p&&g(!1),w.current&&F){let e=w.current;e.pause(),e.remaining=ez.oN-F*eU.gJ,_({currentTime:F/ez.P6,duration:1})}},[F]);let B=()=>{d(!1),w.current&&w.current.pause(),f({event_type:9324,view_type:t,view_parameter:i,component:eW(p,r),object_id_str:a,aux_data:{story_pin_page_id:r}})},O=()=>{if(d(!0),w.current){let e=w.current;F&&F>0&&n(),e.resume()}else m||z(r);g(!1),f({event_type:9323,view_type:t,view_parameter:i,component:eW(p,r),object_id_str:a,aux_data:{story_pin_page_id:r}})},V=()=>{r<e.length-1&&(M(r+1),f({event_type:101,view_type:t,view_parameter:i,component:eW(p,r),element:12261,object_id_str:a}))};return{activePageIndex:r,captions:K,currentPage:k,handleMute:()=>{u(e=>!e)},handlePageChange:M,handlePause:B,handlePausePlay:()=>{p||(o?B():O())},handlePlay:O,handleUpdateVideoInfo:e=>{_({currentTime:e?.currentTime??0,duration:e?.duration??1})},handleVideoEnd:t=>{t===e.length-1&&(g(!0),d(!1),l(0)),t===r&&V()},handleVideoScrubbingNewPage:e=>{p&&g(!1),z(e),s(e),l(e),Z(e)},handleWatchAgain:()=>{M(0)},isActive:o,isSeeking:!!F,mute:c,progressInfo:m,setMute:u,showEndCard:p}};var eG=i(146494),eq=i(993639),eX=i(494409),eQ=i(961754),eY=i(905184),eJ=i(599930),e0=i(897461),e1=i(17963),e2=i(299897);let e4={width:508,height:640},e3={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",paddingTop:"30px",top:0};function e6({onClick:e,isHovered:t,pin:i,searchQuery:a,shouldPadImage:n,trafficSource:l,viewParameter:r,isORBACProfileManager:s,handleMediaButtonClick:o}){let u;let{stelaDotAnimationType:p,onStelaDotAnimationComplete:g,animateShopButton:m,onShopButtonAnimationComplete:y,originalImageUrl:f,imageSignature:k,link:b,hasStelaResults:P,isScenePin:S,showStelaDotsOnScenePin:w,disablePinTagButton:j,maxCloseupImageWidth:I,imageWithPreview:F,showAnimatedExploreCta:T}=(0,eS.Z)({pinKey:{type:"deprecated",data:i},isHovered:t}),A=(0,Y.Z)(),{closeupWithinMasonryEnabled:L,isCloseupRelatedPinsAboveTheFoldEnabled:K,peekCloseupEnabled:R,viewportSize:Z,clientTrackingParams:z,showCloseupContentRight:M}=(0,x.x4)(),{isRTL:B}=(0,h.B)(),V=(0,v.useRef)(null),{maxHeight:H,fiftyPercentHeight:U,fiftyPercentWidth:N}=(0,D.Re)(),{maxHeight:W}=(0,ew.Z)({pinKey:{type:"deprecated",data:i}}),{borderStyle:G}=(0,_.Z)({isSideBySide:M,isPadded:n,isRTL:B,closeupWithinMasonryEnabled:L,peekCloseupEnabled:R}),X=(0,eC.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{mainImage:J}=(0,$.r)(),{domain:ee="",id:et,dominant_color:ei,story_pin_data:ea,native_creator:en}=i,el={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},er=(0,C.Z)({type:"deprecated",data:i})();er&&(el.commerce_data=er);let es=b||f||"",{data:eo=[],isLoaded:ed}=(0,eQ.Z)({name:"StoryPinTaggedProductsResource",options:{id:i.id},noCache:!0}),{pages:ec=[]}=ea||{},eu=[5,6,2],eh=ec.filter(e=>{let t=e?.layout;return void 0!==t&&!eu.includes(t)}),{activePageIndex:e_,captions:ey,currentPage:ex,handleMute:ef,handlePageChange:ev,handlePause:ek,handlePausePlay:eb,handlePlay:eP,handleUpdateVideoInfo:ej,handleVideoEnd:eI,handleVideoScrubbingNewPage:eF,handleWatchAgain:eA,isActive:eL,isSeeking:eK,mute:eR,progressInfo:eZ,showEndCard:ez}=e$({pages:eh,viewType:3,viewParameter:r,pinId:et}),{blocks:eM}=(0,eD.Z)({storyPinBlocks:ex?.blocks||[],blocksToRender:[eB.h8.COMMENT_REPLY_STICKER,eB.h8.GENERIC_STICKER,eB.h8.HEADING,eB.h8.MENTION_STICKER,eB.h8.PARAGRAPH,eB.h8.PRODUCT_STICKER,eB.h8.VTO_MAKEUP_STICKER]}),{background_color:eO}=ex?.style||{},{blocks:[eV]=[null]}=(0,eD.Z)({storyPinBlocks:ex?.blocks||[],blocksToRender:[eB.h8.IMAGE,eB.h8.VIDEO]}),eH=eV?.type===eB.h8.VIDEO||eh.length>1,eU=(0,eT.Z)({href:{pathname:es,state:{trackingParams:z}},target:"blank",clientTrackingParams:z,externalData:{auxData:el,pin:i&&{attributionSourceId:i.attribution_source_id,board:i.board&&{url:i.board.url},campaignId:i.campaign_id,entityId:i.id,isDownstreamPromotion:i.is_downstream_promotion,isPromoted:i.is_promoted,pinner:i.pinner&&{username:i.pinner.username},pinPromotionId:i.pin_promotion_id,promoter:i.promoter&&{entityId:i.promoter.id},storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,advertiserId:i.advertiser_id}}}),{fontsLoaded:eN,mediaDataReceived:eW}=(0,e1.tq)({hasPin:!!i,pages:ec}),{showCloseupShopDomainLinkButton:e6,showDebugSignalsFeedbackButton:e7,showDomainLink:e8,showDomainLinkButton:e5,showFlashlightButton:e9,showPinTagButton:te,showShopButton:tt,surfaceType:ti}=(0,em.Z)({disablePinTagButton:j,domain:ee,hasMetTrustAndSafetyCheck:X,isEmployee:A.isAuth&&!!A.isEmployee,isHovered:t,isScenePin:S,navLink:es,pinKey:{type:"deprecated",data:i},showStelaDotsOnScenePin:w,isORBACProfileManager:s}),{height:ta,width:tn}=(0,E.Z)({mainImage:J,maxCloseupImageWidth:I,shouldPadImage:n}),tl=L?Math.min(ta,"number"==typeof W?W:ta):ta,tr=tn*(L?tl/ta:1),ts=tr/tl;return i.story_pin_data?.is_deleted?(0,c.jsx)(eJ.Z,{color:"secondary",height:e4.height,rounding:4,width:e4.width}):(R&&(u="sm"===Z?U:H),(0,c.jsx)(d.xu,{alignSelf:L?"center":void 0,dangerouslySetInlineStyle:{__style:{...G,aspectRatio:L?`${tr} / ${tl}`:void 0,background:L?D.yc:eO||"#fff"}},"data-test-id":"closeup-body-image-container",height:L?void 0:tl,maxHeight:L?W:u,maxWidth:N,position:"relative",width:L?"100%":tr,children:ex?(0,c.jsxs)(v.Fragment,{children:[!K&&(0,c.jsxs)(d.xu,{bottom:!0,"data-test-id":"closeup-image",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[!eW&&(0,c.jsx)(O,{dominantColor:ei||"",imageWithPreview:F,pinId:et}),eV&&(0,c.jsx)(eq.Z,{activePageIndex:e_,block:eV,borderStyle:G,fontsLoaded:eN,isActive:!0,muteVideos:!0,onEnded:eI,onUpdateVideoInfo:ej,ownerId:en?.id??"",pageAspectRatio:ts,pageHeight:tl,pageIndex:0,pageWidth:tr,pin:i,pinId:et,pinKey:{type:"deprecated",data:i},stillLoading:!eW})]}),!eH&&(0,c.jsx)(ep,{animateShopButton:m,displayHeight:tl,displayWidth:tr,domain:ee,handleMediaButtonClick:o,hasStelaResults:P,imageSignature:k,isHovered:t,link:es,mediaViewerExpandButtonRef:V,navigationWrapper:t=>(0,c.jsx)(eg.Z,{href:es,onClick:e,onNavigation:eU,children:t}),onShopButtonAnimationComplete:y,onStelaDotAnimationComplete:g,pin:i,searchQuery:a,showAnimatedExploreCta:T,showCloseupShopDomainLinkButton:e6,showDebugSignalsFeedbackButton:e7,showDomainLink:e8,showDomainLinkButton:e5,showFlashlightButton:e9,showPinTagButton:te,showShopButton:tt,showStelaDotsOnScenePin:w,stelaDotAnimationType:p,surfaceType:ti,trafficSource:l,viewParameter:r}),K&&eH&&(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...e2.Ul,flexDirection:"column-reverse"}},display:"flex",height:e2.hy,paddingX:6,position:"absolute",width:"100%",zIndex:eB.Gf,children:(0,c.jsx)(e0.Z,{activePageIndex:e_,captionsUrl:ey,handleMute:ef,handlePause:ek,handlePausePlay:eb,handlePlay:eP,handleVideoScrubbingNewPage:eF,handleWatchAgain:eA,inMilliseconds:!0,isMuted:eR,isPanelOpen:!0,isPlaying:eL,isStoryPin:!0,onPageSelect:e=>ev(e),pageCount:eh.length,pages:eh,pinId:et,progressInfo:eZ,showEndCard:ez,showVideoControls:!0,viewParameter:156})}),(0,c.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...e3}},"data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",paddingY:5,position:"absolute",width:"100%",zIndex:eB.Gf,children:(0,c.jsx)(eE.Z,{handlePause:ek,handlePlay:eP,musicAttributions:ex?.music_attributions,shouldMute:ex?.should_mute,showEndCard:ez})})]}),!K&&ed&&eM.map((e,t)=>{let a=(eo||[]).find(t=>[t.id,t.cacheable_id].includes(e.pin_id));return(0,c.jsx)(eq.Z,{block:e,borderStyle:G,disableProductStickers:!0,fontsLoaded:eN,isActive:!1,muteVideos:!0,ownerId:en?.id??"",pageAspectRatio:ts,pageHeight:tl,pageIndex:0,pageWidth:tr,pin:i,pinId:et,pinKey:null!=a?{type:"deprecated",data:a}:null,stillLoading:!eW},`${ex.id??""}-${e.type??""}-${t}`)}),K&&(0,c.jsxs)(d.iP,{disabled:!eH||ez,fullHeight:!0,onTap:eb,children:[(0,c.jsx)(eX.Z,{activePageIndex:e_,clientTrackingParams:z,customEndCard:!0,fontsLoaded:eN,isActive:eL,muteVideos:eR,onEnded:eI,onUpdateVideoInfo:ej,ownerId:i.native_creator?.id??"",page:ex,pageAspectRatio:ts,pageHeight:tl,pageIndex:e_,pageWidth:tr,pin:i,pinId:et,productPins:eo,shouldLogTimeSpent:!0,stillLoading:!eW,videoPinProgress:eZ,viewParameter:r,viewType:3}),!ez&&!eK&&(0,c.jsx)(eY.Z,{playing:eL})]}),K&&ez&&i.native_creator&&(0,c.jsx)(q.Z,{name:"SIIPMediaContainer_VideoEndCard",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(d.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:eB.s5,children:(0,c.jsx)(eG.default,{clientTrackingParams:i.trackingParams||i.tracking_params,imageSrc:i.image_url??"",pinDescription:i.description??"",pinId:i.id,rounded:!1,watchAgain:eA})})})})]}):ex?null:(0,c.jsx)(O,{dominantColor:L?D.yc:ei||"",fit:"contain",imageWithPreview:F,pinId:et})}))}var e7=i(948195),e8=i(509781);let e5=e=>{let{isHovered:t,onImageClick:i,pin:a,searchQuery:n,shouldPadImage:l,trafficSource:r,viewParameter:s,isORBACProfileManager:o,handleCollageOverlayToggle:d,handleMediaButtonClick:p}=e,g=(0,C.Z)({type:"deprecated",data:a}),m=a.is_eligible_for_pdp?g():void 0,h=(0,ej.Z)(),_=a?.shuffle_asset&&h(),{isEligibleForStaticImageIdeaPin:y}=(0,e7.Z)(a.should_open_in_stream,a.story_pin_data_id),{clientTrackingParams:f}=(0,x.x4)(),v=(0,c.jsx)(e8.Z,{auxData:m,clientTrackingParams:f,component:85,viewParameter:s,children:y&&!_?(0,c.jsx)(e6,{handleMediaButtonClick:p,isHovered:t,isORBACProfileManager:o,onClick:i,pin:a,searchQuery:n,shouldPadImage:l,trafficSource:r,viewParameter:s}):(0,c.jsx)(eZ,{handleCollageOverlayToggle:d,handleMediaButtonClick:p,isHovered:t,isORBACProfileManager:o,onClick:i,pin:a,searchQuery:n,shouldPadImage:l,trafficSource:r,viewParameter:s})});return l?(0,c.jsx)(u,{children:v}):v};var e9=i(827106),te=i(439839),tt=i(819239);function ti(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ta=void 0!==s?s:s=i(195446);class tn extends v.Component{constructor(...e){super(...e),ti(this,"handleVisibilityChanged",e=>{let{pinId:t,isPromoted:i,setCurrentVideo:a,pauseAutoplay:n,videosAutoplaying:l,videoStartTime:r}=this.props,s=(0,tt.Z)(t,l);e&&!s?a({pinId:t,isPromoted:!!i,currentTime:r}):!e&&s&&n({pinId:t,isPromoted:!!i,currentTime:this.currentVideoCurrentTime})}),ti(this,"handleVideoTimeChange",e=>{let{pinId:t,videosAutoplaying:i}=this.props;(0,tt.Z)(t,i)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,pauseAutoplay:a,pinId:n,isPromoted:l,setCurrentVideo:r,videosAutoplaying:s}=this.props,o=(0,tt.Z)(n,s),d=(0,te.Z)(n,s);this.currentVideoCurrentTime=d??this.currentVideoCurrentTime,i!==t&&!i&&o?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:n,isPromoted:!!l,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:n,isPromoted:!!l,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){let{pinId:e,isPromoted:t,pauseAutoplay:i}=this.props;i({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){let{pauseAutoplay:e,pin:t,setCurrentVideo:i,videoStartTime:a,videosAutoplaying:n,...l}=this.props;return(0,c.jsx)(e9.i,{onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1,...l,children:(0,c.jsx)(k.Z,{...l,onTimeChange:this.handleVideoTimeChange,pinKey:t})})}}function tl(e){let{pinId:t,pinKey:i,isPromoted:a}=e,n=(0,P.Z)(ta,i),{appUI:{appInFocus:l,videosAutoplaying:r},pauseAutoplay:s,setCurrentVideo:o}=(0,F.I)(),{organicVideosAutoplaying:d,promotedVideosAutoplaying:u}=r,p=a?u[t]:d[t];return(0,c.jsx)(tn,{...e,appInFocus:l,pauseAutoplay:s,pin:n,setCurrentVideo:o,videosAutoplaying:r,videoStartTime:p?p.currentTime:null})}var tr=i(609326),ts=i(864723),to=i(753183),td=i(673527);let tc=(0,v.lazy)(()=>i.e(87122).then(i.bind(i,807067))),tu=({children:e,name:t})=>(0,c.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),tp=void 0!==o?o:o=i(649974),tg=({closeupIsFirstPageInHistoryStack:e,customThumbnail:t,imageContainerRef:i,isWideVideo:a,pin:n,pinKey:l,shouldPadImage:r,flyoutShareProps:s,video:o,isORBACProfileManager:p})=>{let g=(0,P.Z)(tp,l),m=!!n.promoter&&!n.is_downstream_promotion,h=m&&!n.is_eligible_for_web_closeup,{access:_,should_mute:f}=n||{},v=!!_&&_.includes("tag")||p,{closeupWithinMasonryEnabled:k}=(0,x.x4)(),{closeupBodyWidth:b}=(0,to.K4)(),{fiftyPercentWidth:S}=(0,D.Re)(),{maxHeight:w}=(0,ew.Z)({pinKey:g}),j=Math.max((b??1)/("number"==typeof w?w:1),(o.hls?.width??o?.mp4?.width??0)/(o.hls?.height??o?.mp4?.height??0)),I=k?b:y.Gg-y.d2,C="undefined"!=typeof window&&0===ts.ZP.getItem(tr._e),F=(0,c.jsxs)(td.Z,{isVideo:!0,isWideVideo:a,shouldPadImage:r,styleOverrides:r&&!k?{maxWidth:{maxWidth:I},minWidth:{minWidth:I},height:{},borderRadius:16}:{},variant:"default",children:[(0,c.jsx)(d.xu,{ref:i,"data-test-id":"closeup-video-with-visibility",maxHeight:w,maxWidth:S,width:"100%",children:(0,c.jsx)(tl,{aspectRatio:k?j:void 0,autoplay:!C,customThumbnail:t,flyoutShareProps:s,isPromoted:m,loop:h,muted:f||e,objectFit:k?"contain":void 0,pinId:n.id,pinKey:g,shouldMute:f,variant:"default",video:o})}),v&&(0,c.jsx)(tu,{name:"tag-button",children:(0,c.jsx)(q.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,c.jsx)(Q.Z,{children:(0,c.jsx)(X.Z,{children:(0,c.jsx)(tc,{pin:n})})})})})]});return r?(0,c.jsx)(u,{children:F}):F};var tm=i(889870);let th=e=>{let{clientTrackingParams:t,closeupIsFirstPageInHistoryStack:i,imageContainerRef:a,flyoutShareProps:n,isWideVideo:l,pin:r,shouldPadImage:s,searchQuery:o,trafficSource:d,isORBACProfileManager:u,isHovered:p,handleCollageOverlayToggle:g,onImageClick:m,viewParameter:h,handleMediaButtonClick:_}=e,{video:y,imgSrc:x,isEmbeddedVideo:v}=(0,$.r)();if(y)return(0,c.jsx)(tg,{closeupIsFirstPageInHistoryStack:i,customThumbnail:x,flyoutShareProps:n,imageContainerRef:a,isORBACProfileManager:u,isWideVideo:l,pin:r,pinKey:{type:"deprecated",data:r},shouldPadImage:s,video:y});if(v){let e="50%",t=r.attribution&&(r.attribution.author_name||r.attribution.url)?r.attribution.provider_name:null;return"soundcloud"===t?e="30%":"vin"===t&&(e="100%"),(0,c.jsx)(f,{embedUrl:r.embed?.src,isWideVideo:l,paddingBottom:e,shouldPadImage:s})}return(0,c.jsx)(tm.Z,{clientTrackingParams:t,hovered:p,pinKey:{type:"deprecated",data:r},viewType:3,children:(0,c.jsx)(e5,{handleCollageOverlayToggle:g,handleMediaButtonClick:_,isHovered:p,isORBACProfileManager:u,onImageClick:m,pin:r,searchQuery:o,shouldPadImage:s,trafficSource:d,viewParameter:h})})}},128976:(e,t,i)=>{i.d(t,{Z:()=>A});var a=i(667294),n=i(883119),l=i(796768),r=i(877687),s=i(806025),o=i(293704),d=i(823484),c=i(794072),u=i(848823),p=i(452639),g=i(488792),m=i(602185),h=i(989820),_=i(136061),y=i(730212),x=i(750077),f=i(66810),v=i(453854),k=i(383399),b=i(501912),P=i(801621),S=i(753183),w=i(773279),j=i(115642),I=i(167210),C=i(785893);let F=(0,a.lazy)(()=>i.e(74804).then(i.bind(i,474804))),T=(0,a.lazy)(()=>Promise.all([i.e(29060),i.e(55448),i.e(97110),i.e(39409)]).then(i.bind(i,807549)));function A({handleImageClickThrough:e,imageContainerRef:t,isShortImage:i,isStoryPin:A,isWideVideo:L,onSaveButtonClick:K,pin:R,searchQuery:Z,setClickthroughComponentForSurvey:E,showRepinOnInitialRender:D,trafficSource:z,viewParameter:M,viewParameterType:B,visualContentContainerRef:O={current:null}}){let[V,H]=(0,a.useState)(!1),{setIsCollageOverlayOpen:U}=(0,S.K4)(),{previous:N}=(0,_.Hv)(),W=(0,j.x4)(),$=(0,b.Z)(),G=(0,y.B)(),q=(0,p.r)(),X=(0,k.Z)(),{getViewParameter:Q}=(0,l.ZP)({type:"deprecated",data:R}),Y=(0,g.Z)(),J=0===N.length,{carouselInfo:ee,imgSrc:et,mainImage:ei,video:ea}=q,{isCornerButtonEnabled:en,isCloseupMediaViewerEnabled:el}=(0,c.Z)({isShufflePin:!!R?.shuffle}),{executeWithViewTransition:er}=(0,u.Z)({_enableViewTransitions:el}),es=()=>{H(e=>!e)},eo=()=>{H(!1)},ed=()=>{U(e=>!e)},ec=e=>({gridDescription:R.description,imageSrc:e,isFlyoutOpen:V,onFlyoutDismiss:eo,onToggleFlyout:es,pinId:R.id}),{clientTrackingParams:eu,showCloseupContentRight:ep,paneWidth:eg,isCloseupRelatedPinsAboveTheFoldEnabled:em,closeupWithinMasonryEnabled:eh,peekCloseupEnabled:e_,setIsCloseupMediaViewerOpen:ey}=W,{fiftyPercentWidth:ex}=(0,o.Re)(),{maxHeight:ef}=(0,d.Z)({pinKey:{type:"deprecated",data:R}});if(A)return null;let{domain:ev,music_attributions:ek,pinner:eb,should_mute:eP}=R,eS=!!ev&&!!R.link&&!R.link.startsWith("https://i.pinimg.com"),{width:ew}=ei,ej=(0,l.NE)({closePanelWidth:eg,isShortImage:i,carouselInfo:ee,isWideVideo:L,naturalWidth:ew,showCloseupContentRight:ep}),{borderRadiusNumeric:eI}=(0,w.Z)({isSideBySide:ep,isPadded:ej,isRTL:G.isRTL,closeupWithinMasonryEnabled:eh,peekCloseupEnabled:e_}),eC=()=>{Y({aux_data:{image_signature:R.image_signature},component:128,event_type:101,element:en?15864:15865,view_type:3}),er(()=>{ey(!0)})},eF=(0,P.q6)(X,eb?.id,$);return(0,C.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{height:e_?"100%":void 0,display:e_?"flex":"block"}},"data-test-id":"visual-content-container",children:[(0,C.jsx)(v.q,{children:({hovered:i,onMouseEnter:a,onMouseLeave:l})=>(0,C.jsxs)(n.xu,{ref:O,alignSelf:e_?"center":void 0,direction:eh?"column":void 0,display:"flex",justifyContent:"center",maxHeight:ef,maxWidth:ex,onMouseEnter:a,onMouseLeave:l,position:"relative",width:L||em?"100%":eg,children:[ea&&ek?.length!==0&&(0,C.jsx)(n.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:eg,zIndex:f.Ls,children:(0,C.jsx)(r.Z,{musicAttributions:ek,shouldMute:!!eP})}),(0,C.jsx)(s.Z,{clientTrackingParams:eu,closeupIsFirstPageInHistoryStack:J,flyoutShareProps:ec(et),handleCollageOverlayToggle:ed,handleMediaButtonClick:eC,imageContainerRef:t,isHovered:i,isORBACProfileManager:eF,isWideVideo:L,onImageClick:()=>{e&&e(),E("imageContainer")},pin:R,searchQuery:Z,shouldPadImage:!em&&ej,showDomainLink:eS,trafficSource:z,viewParameter:Q(B)}),R&&R.showFeedback&&(0,C.jsx)(x.Z,{children:(0,C.jsx)(F,{pin:R})})]})}),(0,C.jsx)(n.mh,{zIndex:I.lI,children:(0,C.jsx)(h.Qp,{anchor:O.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!eh,idealDirection:eh?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})}),el&&(0,C.jsx)(m.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(T,{onClose:({isExitButton:e,isClick:t})=>{Y({aux_data:{image_signature:R.image_signature},component:128,event_type:t?101:97,element:e?15867:15866,view_type:3}),er(()=>{ey(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:K,pin:R,rounding:eh?16:eI,showRepinOnInitialRender:D,trafficSource:z,viewParameter:M})})})]})}},796768:(e,t,i)=>{i.d(t,{NE:()=>m,ZP:()=>_,nU:()=>g});var a,n=i(667294);i(167912);var l=i(140066),r=i(160221),s=i(47848),o=i(891985),d=i(947956),c=i(297728),u=i(755349),p=i(151385);function g({domain:e,hasLinkDomainOfficialUser:t,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:a,hasThirdPartyPinOwner:n,isPromoted:l,pinnerDomainUrl:r,pinnerDomainVerified:s}){return(i||t||n||s&&r===e)&&!l||!!a}function m({carouselInfo:e,closePanelWidth:t,isWideVideo:i,isShortImage:a,naturalWidth:n,showCloseupContentRight:l}){return!i&&!!l&&(!!a||!e&&n<t)}let h=void 0!==a?a:a=i(82863);function _(e){let t=(0,s.Z)(h,e),i=(0,r.Z)(),a=(0,c.F)(),m=!!t.shuffleAsset&&i(),{currentDomain:_}=(0,l.Wp)({carouselData:t.carouselData&&{carouselSlots:t.carouselData.carouselSlots&&t.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:t.carouselData?.index},domain:t.domain}),y=!!t?.isGoLinkless&&a.checkExperiment("closeup_ctx_is_go_linkless_web").anyEnabled,x=!!t.link&&t.link.startsWith("https://i.pinimg.com"),f=(0,n.useCallback)(e=>!y&&(e&&!x?!!t.link:!t.isEligibleForPdp&&!!(0,o._S)(_)&&!m&&!x),[_,t.isEligibleForPdp,t.link,m,y,x]),v=(0,d.Z)({hasPin:!!t,hasPinRichMetadata:!!t.richMetadata,hasPinRichMetadataProducts:!!t.richMetadata?.products,hasPinRichMetadataArticle:!!t.richMetadata?.article,hasPinRichMetadataRecipe:!!t.richMetadata?.recipe,hasPinStoryPinData:!!t.storyPinData}),k=(0,n.useCallback)(e=>e||v,[v]),b=!!t.nativeCreator,P=!!t.originPinner,S=!!t.thirdPartyPinOwner,w=!!t.linkUserWebsite?.officialUser,j=!!t.linkDomain,I=!!t.linkDomain?.officialUser,C=!!t.creatorClass,F=t.pinner;F=b?t.nativeCreator:j?t.linkDomain.officialUser:t.originPinner||t.pinner;let{pinCreditLink:T,pinCredit:A}=(0,p.Xe)({hasLinkDomain:j,hasNativeCreator:b,hasOriginPinner:P,pinDomain:t.domain,sourceUserUsername:F?.username??null,sourceUserFullName:F?.fullName??null}),L=!!F,K=!!T&&!!A,R=!!t.closeupAttribution;return{getShowClickthroughLink:f,getViewParameter:k,makeDetailsArgs:(0,n.useCallback)(e=>({isShopTheLook:!!t.aggregatedPinData?.isShopTheLook,showCreatorCard:g({domain:t.domain??"",hasLinkDomainOfficialUser:I,hasLinkUserWebsiteOfficialUser:w,hasNativeCreator:b,hasThirdPartyPinOwner:S,isPromoted:!!t.isPromoted,pinnerDomainUrl:t.pinner?.domainUrl??"",pinnerDomainVerified:!!t.pinner?.domainVerified})||!R&&L&&K,creatorId:t.closeupAttribution?.entityId??F?.entityId??null,showCanonicalComments:!!t.isEligibleForAggregatedComments,showReactions:(0,u.J6)({board:t.board?.isCollaborative||t.board?.collaboratedByMe?{isCollaborative:t.board.isCollaborative??null,collaboratedByMe:t.board.collaboratedByMe??null}:null,videos:t.videos?.entityId?{entityId:t.videos.entityId}:null,isDownstreamPromotion:t.isDownstreamPromotion,isPromoted:t.isPromoted,storyPinDataId:t.storyPinDataId},e),isCreatorClassPin:C}),[C,I,w,b,S,R,K,L,t.aggregatedPinData?.isShopTheLook,t.board?.collaboratedByMe,t.board?.isCollaborative,t.closeupAttribution?.entityId,t.domain,t.isDownstreamPromotion,t.isEligibleForAggregatedComments,t.isPromoted,t.pinner?.domainUrl,t.pinner?.domainVerified,t.storyPinDataId,t.videos?.entityId,F?.entityId])}}},477055:(e,t,i)=>{i.d(t,{ZP:()=>s,ap:()=>l});var a=i(667294),n=i(115642);let l=i(241716).cI+16,r=`calc(100vh - ${l}px)`;function s(e,t=100){let{isCommentThreadExpanded:i,isPinNoteExpanded:o,isProductDetailsExpanded:d,isShoppingModuleExpanded:c}=(0,n.x4)(),[u,p]=(0,a.useState)(r),g=(0,a.useRef)(null),m=`calc(${t??"100"}vh - ${l}px)`,h=(0,a.useRef)(m),_=i||o||d||c,y=g.current?.clientHeight||0;return(0,a.useEffect)(()=>{if(!window)return;let i=window.innerHeight-l;y>i*t/100&&(h.current=y.toString());let a=i>y?h.current:y,n=y||a;_&&i>y+170&&(n=y>850?y:i<850+.3*window.innerHeight?`calc(70vh - ${l}px`:850),p(e?n:a)},[t,e,_,y]),{descriptionContentMaxHeight:u,visualContentContainerRef:g}}},656412:(e,t,i)=>{i.d(t,{Z:()=>o}),i(167912);var a,n=i(959064),l=i(47848),r=i(801621);let s=void 0!==a?a:a=i(582706);function o({pinKey:e,orbacActingAs:t,viewer:i}){let a=(0,l.Z)(s,e),o=!!a.pinner?.entityId&&(0,r.D3)(i,a.pinner.entityId,t),d=!!(a.board?.collaboratedByMe||a.board?.owner?.entityId)&&(0,n.Z)(a.board.collaboratedByMe,a.board.owner?.entityId,i);return o||d}},505612:(e,t,i)=>{i.d(t,{Z:()=>s}),i(167912);var a,n=i(959064),l=i(47848);let r=void 0!==a?a:a=i(81921);function s(e,t){let i=(0,l.Z)(r,e);return(0,n.Z)(i.board?.collaboratedByMe,i.board?.owner?.entityId,t)&&!!i.board?.isCollaborative}},451121:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294),n=i(755703),l=i(452639),r=i(164756),s=i(590045),o=i(115642);let d=100+s.Ie;function c({metadataContainerRef:e}){let[t,i]=(0,a.useState)(!1),s=(0,o.x4)(),c=(0,l.r)(),u=(0,r.Z)();return(0,a.useEffect)(()=>{let a=()=>{if(!u&&e.current){let a=function({metadataHeight:e,closeupContext:t,visualData:i}){let{pdpCarouselSlotToPaneRatio:a,paneWidth:l}=t,{mainImage:r,carouselInfo:s}=i;return e>(0,n.Z)({carouselData:s?.carouselData,mainImage:r,maxCloseupImageWidth:l,imageToDisplayWidthRatio:a}).height}({metadataHeight:(e.current?.getBoundingClientRect()?.height??0)+d,closeupContext:s,visualData:c});a!==t&&i(a)}};a();let l=null;return!u&&e.current&&(l=new ResizeObserver(a)).observe(e.current),()=>{l&&l.disconnect()}},[s,c,e,t,u]),t}},194959:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(667294);function n(){let[e,t]=(0,a.useState)(""),i=(0,a.useRef)(null),n=(0,a.useRef)(null),l=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let t=()=>{e&&i.current&&i.current.handleEgSurveyClick(e)};return window.addEventListener("focus",t),()=>window.removeEventListener("focus",t)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:t,webLinkSurveyRef:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:l,maybeLinkRef:r}}},543166:(e,t,i)=>{i.d(t,{l6:()=>V,ZP:()=>U});var a=i(667294),n=i(545007),l=i(616550),r=i(739059),s=i(801925),o=i(136061),d=i(730212),c=i(868808),u=i(383399),p=i(922664),g=i(66560);function m(e){let{previous:t}=(0,o.Hv)(),i=0===t.length,{children:a}=e,r=(0,l.TH)(),m=(0,u.Z)(),h=(0,n.I0)(),{isBot:_}=(0,d.B)(),{dropdownOpen:y}=(0,p.Z)(),x=(0,g.AF)(),f=!!x[e.pinId]&&(x[e.pinId].saved||!!x[e.pinId].savedInfo),v=x[e.pinId]||e.pinResource.data||{},k=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,b=v?.story_pin_data?.pages?.[0]?.blocks?.[0];k&&b&&!b?.video&&((v?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=k);let P="inbox"===(0,c.mB)(r.search).tab;return a({isLandingPage:i,isLimitedLogin:!!m.isAuth&&m.isLimitedLogin,didRepin:f,openInbox:y,pin:v,shouldShowInbox:P,updateExperienceForPlacement:e=>{h((0,s.pz)([e],_))}})}var h=i(24574),_=i(222637),y=i(909483),x=i(587062),f=i(470493),v=i(989820),k=i(891985),b=i(947956),P=i(297728),S=i(501912),w=i(801621),j=i(827423);let I=({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e),C=e=>!!e&&((0,j.C)(e)||I(e)),F=e=>e.map(e=>C(e.location)).find(e=>!0===e)??!1;var T=i(449112),A=i(720398);function L(e,t=!1){let i=e||window.location.href;(0,T.Z)(`/login?next=${t?(0,A.Z)(i,{type:"signup"}):encodeURIComponent(i)}`)}var K=i(367267),R=i(847881),Z=i(808074),E=i(415787),D=i(179735),z=i(785893);let M=(0,D.Z)(()=>i.e(24870).then(i.bind(i,888634)),void 0,"app-common-react-components-StatusPin-StatusPinCloseup"),B=({id:e,story_pin_data:t,videos:i})=>(e&&i?.id&&i.video_list?[i.video_list.V_720P,i.video_list.V_HLSV4,i.video_list.V_HLSV3_MOBILE]:[]).some(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)||((t?.pages?.[0]||{}).blocks??[]).some(e=>!!e.video),O=e=>({isVideoPin:!!e&&B(e)});function V({checkExperiment:e,clientTrackingParams:t,currentHistoryStack:i,history:n,location:l,params:r,pinResource:s,requestContext:o,searchPinCloseupViewed:d,showQuickPromote:u,showRepin:p,viewer:g,CloseupComponent:_,...f}){let k=s.data,P=s.isLoaded,S=(0,a.useRef)(null),w=P&&k&&k.pinner&&g.isAuth&&g.username===k.pinner.username&&P&&k&&"extension"===k.method,{trafficSource:I,topLevelTrafficSource:C,topLevelTrafficSourceDepth:T,contextPinIds:A}=(0,h.Z)(i,g.isAuth);T>1&&"pin"!==I&&(0,E.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:I,topLevelTrafficSource:C,topLevelTrafficSourceDepth:T}});let Z=(0,j._)(i),D=(0,c.mB)(l.search);(0,a.useEffect)(()=>{S!==k&&function({history:e,isBot:t,location:i,viewerId:a,viewerIsAuth:n}){!t&&a&&"undefined"!=typeof window&&(0,K.U)(window.location,a,!1,n,t=>e.replace(t,i.state))}({history:n,isBot:o.isBot,location:l,viewerId:g.id||"",viewerIsAuth:g.isAuth}),S.current=k},[n,l,S,k,o.isBot,g.id,g.isAuth]),(0,a.useEffect)(()=>()=>{Z&&k?.id&&d(k.id,Z)},[k?.id,Z,d]);let M=(0,a.useMemo)(()=>({viewType:3,viewParameter:(0,b.Z)({hasPin:!!k,hasPinRichMetadata:!!k?.rich_metadata,hasPinRichMetadataProducts:!!k?.rich_metadata?.products,hasPinRichMetadataArticle:!!k?.rich_metadata?.article,hasPinRichMetadataRecipe:!!k?.rich_metadata?.recipe,hasPinStoryPinData:!!k?.story_pin_data})}),[k]);return(0,z.jsx)(y.Q,{value:{featuredCommentId:r.comment_id||""},children:(0,z.jsx)(x.f,{children:(0,z.jsx)(R.v,{value:M,children:(0,z.jsx)(v.Ig,{children:(0,z.jsx)(m,{pinId:r.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:l,didRepin:o,openInbox:d,pin:c,shouldShowInbox:m,updateExperienceForPlacement:h})=>(0,z.jsx)(a.Fragment,{children:(0,z.jsx)(_,{clientTrackingParams:t,contextPinIds:A,conversation_id:D.conversation_id,deepLinkBackGoesToBoard:w,didRepin:o,emailId:D.e_t,forceSendFeedback:D.fsf,goBack:function({boardUrl:e,currentHistoryStack:t,history:i,isFromExtension:a=!1,hasViewerPartner:n}){return()=>{if(!F(t)&&!a){n?i.push("/homefeed/"):i.push("/");return}if(a&&1===t.length){i.push(e??"");return}i.goBack()}}({boardUrl:k?.board?.url,currentHistoryStack:i,history:n,isFromExtension:!!w,hasViewerPartner:!!g.partner}),isLandingPage:e,isLimitedLogin:l,messageId:D.message,onLoginClick:L,openInbox:d,pin:c,pinDerivedData:O(c),pinId:r.id??"",pinResource:s,routePush:n.push,searchQuery:Z,senderId:D.sender,shouldShowInbox:m,showQuickPromote:u,showRepinOnInitialRender:p,topLevelTrafficSource:C,topLevelTrafficSourceDepth:T,trafficSource:I,updateExperienceForPlacement:h,viewer:g,...f})})})})})})})}function H(e){let{pinResource:t}=e,i=t.data,{is_hidden:a,is_unsafe:n}=i||{},l=i?.story_pin_data?.has_product_pins,s=(0,f.Z)({isHiddenPin:a,isUnsafePin:n}),o=r.$y;return s&&l&&(o=r.z8),(0,z.jsx)(V,{...e,CloseupComponent:o})}function U(e){let t=(0,n.I0)(),i=(0,u.Z)(),r=(0,l.UO)(),s=(0,o.aX)(),c={...e,history:(0,l.k6)(),location:(0,l.TH)(),params:r,requestContext:(0,d.B)(),searchPinCloseupViewed:(e,i)=>t((0,Z.Y4)(e,i)),viewer:i},{checkExperiment:p}=(0,P.F)();return(0,z.jsx)(_.Z,{orbacSubjectId:(0,w.lJ)(i,(0,S.Z)()),pinId:r.id||"",children:({pinResource:e})=>{let t=e&&e.data;return t&&(0,k._J)(t.video_status)?(0,z.jsx)(M,{pinKey:{type:"deprecated",data:t},...c}):(0,a.createElement)(H,{...c,key:r.id,checkExperiment:p,currentHistoryStack:s,pinResource:e})}})}},703594:(e,t,i)=>{i.d(t,{Z:()=>k});var a=i(667294),n=i(883119),l=i(293704),r=i(616898),s=i(809394),o=i(912764),d=i(948195),c=i(42547),u=i(679482),p=i(947956),g=i(770975),m=i(969119),h=i(383399),_=i(115642),y=i(646885),x=i(449808),f=i(415787),v=i(785893);function k({pin:e,pinResource:t,topLevelTrafficSource:i,didShortClickThrough:k,firstLoadComplete:b,relatedModulesContent:P,onWrapperClick:S,beforeBodyContent:w,afterBodyContent:j,isVideoPin:I,bodyContent:C,backButton:F}){let T=(0,g.E)(),{isCloseupRelatedPinsAboveTheFoldEnabled:A,isInRemoveMagnifyingGlassVariant:L,closeupWithinMasonryEnabled:K,peekCloseupEnabled:R,viewportSize:Z}=(0,_.x4)(),E=(0,h.Z)(),{closeupRelatedPinsAboveTheFoldExperimentGroup:D}=(0,s.Z)(E.isAuth),{error:z}=t,{story_pin_data_id:M}=e||{},[B,O]=(0,a.useState)(K||!I);(0,a.useEffect)(()=>{let e=B?void 0:setTimeout(()=>O(!0),K?0:1e3);return()=>clearTimeout(e)},[K,B]);let{isEligibleForStaticImageIdeaPin:V}=(0,d.Z)(e.should_open_in_stream,e.story_pin_data_id),{isEnabled:H}=(0,o.Z)(),U=(0,a.useRef)(null),N=(0,a.useRef)(null),[W,$]=(0,a.useState)(void 0),G=u.yF+u.oX,q=Math.floor((W??1)/G),X=G*q-u.oX,Q=(0,a.useCallback)(()=>{U.current&&N.current&&$(window.innerWidth)},[]);(0,x.Z)(()=>{D&&window&&(0,f.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{closeupRelatedPinsAboveTheFoldExperimentGroup:D,isStoryPin:!!M,isVideoPin:I,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),R&&Q()},U),(0,m.Z)(()=>{D&&window&&(0,f.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{closeupRelatedPinsAboveTheFoldExperimentGroup:D,isStoryPin:!!M,isVideoPin:I,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,a.useEffect)(()=>{R&&Q()},[Q,R]);let{maxWidth:Y}=(0,l.Re)();if(Object.keys(e).length,z)return(0,v.jsx)(y.Z,{});let J=!!M&&!V,ee=!e.is_promoted,et=B&&P,ei=(0,p.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),ea=(0,v.jsx)("div",{ref:N,className:"Closeup Module","data-test-id":b?"closeup-data-loaded":"",onClick:e=>{!L&&(J||S(e),T&&T?.abort("closefakemodal"))},role:"presentation",style:{cursor:L?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:Y,margin:R?"0 auto":void 0,marginTop:A?void 0:"16px"},children:(0,v.jsxs)(n.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[R?(0,v.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[F,w]}):(0,v.jsx)(a.Fragment,{children:w}),C,j,k&&!ee&&(0,v.jsx)(r.C,{})]})},"closeup-content");return(0,v.jsx)(n.xu,{ref:U,width:"100%",children:(0,v.jsxs)(n.kC,{direction:K?"row":"column",justifyContent:"center",children:[!K&&ea,K&&(F||w)&&(0,v.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginStart:4,children:[F,w]}),(0,v.jsx)(n.kC.Item,{flex:"grow",children:(0,v.jsxs)(n.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:K&&!H?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:K&&!H?0:4,width:"100%",children:[R&&X&&"lg"!==Z&&(0,v.jsx)(n.kC.Item,{alignSelf:"center",children:(0,v.jsx)(c.Z,{moduleWidth:X,pinKey:{type:"deprecated",data:e},trafficSource:i,viewParameter:ei})}),et]})})]})})}},971598:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),n=i(501313),l=i(144326),r=i(785893);function s(){let e=(0,l.ZP)();return(0,r.jsxs)(a.xu,{paddingY:16,children:[(0,r.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(a.xv,{align:"center",size:"500",weight:"bold",children:e.bt("You've reached the end", "You've reached the end", "closeup.filteredFeed.enfOfFeed.title", undefined, true)}),(0,r.jsx)(a.xv,{align:"center",children:e.bt("Try removing a few filters to help us show more results.", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.enfOfFeed.actionOne", undefined, true)})]}),(0,r.jsx)(n.Z,{})]})}},676374:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),n=i(501313),l=i(144326),r=i(785893);function s(){let e=(0,l.ZP)();return(0,r.jsx)(a.xu,{paddingY:16,children:(0,r.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(a.xv,{align:"center",size:"500",weight:"bold",children:e.bt("No results found", "No results found", "closeup.filteredFeed.noResultsFound.title", undefined, true)}),(0,r.jsx)(a.xv,{align:"center",children:e.bt("Try removing a few filters to help us show more results.", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.noResultsFound.actionOne", undefined, true)}),(0,r.jsx)(n.Z,{})]})})}},95733:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var a=i(667294),n=i(616550),l=i(883119),r=i(293704),s=i(573706),o=i(144326),d=i(732054),c=i(530618),u=i(750077),p=i(24534),g=i(545230),m=i(969119),h=i(115642),_=i(274722),y=i(48901),x=i(785893);let f=(0,a.lazy)(()=>Promise.all([i.e(93041),i.e(88782),i.e(75394)]).then(i.bind(i,475394)));function v({children:e}){return(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:e})}function k({filter:e,story:t,viewParameter:i}){let k=(0,o.ZP)(),[b,P]=(0,a.useState)(!1),{logContextEvent:S}=(0,s.v)(),w=(0,n.k6)(),{closeupWithinMasonryEnabled:j,peekCloseupEnabled:I}=(0,h.x4)(),C="skin_tone"===e?13863:13864,F="skin_tone"===e?13803:14935,T="skin_tone"===e?10418:13358,{custom_properties:A,objects:L,title:K}=t;(0,m.Z)(()=>{S({element:T,event_type:13,component:C,view_type:3,view_parameter:i,aux_data:{story_type:C}})});let R=(0,c.ZP)(e,A)||[],{format:Z=""}=K,[E]=L||[],{title:D=""}=E||{},{format:z=""}=D||{},M=e=>{if(z){S({element:T,view_type:3,view_parameter:i,event_type:101,component:F,aux_data:{entered_query:z,filter_value:e,story_type:C}});let t=(0,p.Z)({query:z,rs:g.i.TYPED||"",scope:"pins",filters:e});w.push(t)}};return(0,x.jsxs)(a.Fragment,{children:[j?(0,x.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:r.tc,gap:"12px"}},direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:[Z&&(0,x.jsx)(l.kC,{gap:{row:2,column:2},maxWidth:"100%",wrap:!0,children:(0,x.jsx)(l.X6,{accessibilityLevel:2,align:"start",id:"inclusive-filters-heading",size:"400",children:Z})}),(0,x.jsx)(l.kC,{gap:{row:2,column:2},justifyContent:"center",wrap:!0,children:R&&"skin_tone"===e?R.map(({term:t,display:i},a)=>(0,x.jsx)(l.Fm,{color:y.W[a],onClick:()=>M((0,d.Z)(t,e)),selected:!1,size:"lg",text:i},t)):z&&R.map(({term:e})=>(0,x.jsx)(v,{children:(0,x.jsx)(_.Z,{filterId:Number((0,d.Z)(e)),filterOption:null,onClickApplyFilters:()=>M(e),query:z,viewParameter:i,viewType:3})},e))})]}):(0,x.jsx)(l.xu,{margin:I?void 0:7,marginBottom:I?7:void 0,marginTop:I?2:void 0,children:(0,x.jsxs)(l.kC,{alignItems:"center",direction:"column",gap:{row:0,column:3},children:[(0,x.jsxs)(l.xu,{alignItems:"center",display:"flex",marginStart:8,children:[Z&&(0,x.jsx)(l.xv,{overflow:"normal",weight:"bold",children:Z}),"hair_pattern"===e&&(0,x.jsx)(l.xu,{marginStart:1,children:(0,x.jsx)(l.hU,{accessibilityLabel:k.bt("Learn more", "Learn more", "HairPatternFilters.infoIconButton", undefined, true),"data-test-id":e,icon:"info-circle",iconColor:"darkGray",onClick:()=>P(!0),padding:1})})]}),(0,x.jsx)(l.kC,{flex:"none",gap:{row:1,column:0},children:R&&"skin_tone"===e?R.map(({term:t,display:i},a)=>(0,x.jsx)(v,{children:(0,x.jsx)(l.Fm,{color:y.W[a],onClick:()=>M((0,d.Z)(t,e)),selected:!1,size:"lg",text:i})},t)):z&&R.map(({term:e})=>(0,x.jsx)(v,{children:(0,x.jsx)(_.Z,{filterId:Number((0,d.Z)(e)),filterOption:null,onClickApplyFilters:()=>M(e),query:z,viewParameter:i,viewType:3})},e))})]})}),b&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(f,{onDismiss:()=>P(!1)})})]})}},515272:(e,t,i)=>{i.d(t,{Z:()=>_});var a,n=i(667294);i(422578);var l=i(883119),r=i(313255),s=i(47848),o=i(357013),d=i(144326),c=i(240760),u=i(986732),p=i(778825),g=i(785893);let m=void 0!==a?a:a=i(833251),h=({children:e,disabled:t,href:i})=>t?e:(0,g.jsx)(l.Tg,{href:i,children:e}),_=({disabled:e=!1,pinKey:t,varient:i="default"})=>{let a;let[_,y]=(0,n.useState)(0),x=(0,s.Z)(m,t),f=(0,d.ZP)(),v=x?.images,k=x?.isEligibleForPdp,b=x?.richSummary?.products?.[0],P=b?.offerSummary,S=b?.shippingInfo,w=x?.title||x?.richSummary&&x?.richSummary.displayName||x?.gridTitle||x?.pinner?.fullName;return(0,g.jsx)(h,{disabled:e,href:`/pin/${x?.entityId}`,children:(0,g.jsxs)(l.kC,{alignItems:"center",gap:{row:4,column:0},children:[(0,g.jsx)(l.zd,{height:"slim"===i?100:120,rounding:2,width:"slim"===i?72:86.4,children:(0,g.jsx)(l.Ee,{alt:f.bt("cutout Pin image", "cutout Pin image", "shuffleCutoutOverlay.cutoutPinImage", undefined, true),fit:"cover",naturalHeight:v?.height??0,naturalWidth:v?.width??0,src:v?.url??""})}),(0,g.jsx)(l.kC.Item,{flex:"grow",children:(0,g.jsxs)(l.kC,{direction:"column",gap:2,children:[k?(0,g.jsxs)(l.kC,{alignItems:"center",children:[(0,g.jsx)(r.Z,{productDetails:{maxPrice:P?.maxPrice,minPrice:P?.minPrice,price:P?.price,standardPrice:P?.standardPrice},type:"slim"===i?"mobileHeading":"cutout"}),P?.price===P?.standardPrice?(0,g.jsx)(u.Z,{customStyles:{color:"dark",size:"slim"===i?"300":"200"},freeShippingPrice:S?.freeShippingPrice,freeShippingValue:S?.freeShippingValue,showPrevDot:!0}):null]}):null,w?(0,g.jsx)(l.xv,{ref:e=>{e&&!_&&y((0,p.xW)(e))},lineClamp:2,size:"400",children:w}):null,!k&&x.description?(0,g.jsx)(l.xv,{lineClamp:_>1?1:2,children:x.description}):null,(0,g.jsxs)(l.kC,{alignItems:"center",gap:1,children:[(0,g.jsx)(l.xv,{size:"slim"===i?"300":"200",children:x.pinner?.fullName??x.richSummary?.siteName}),x.pinner?.isVerifiedMerchant?(0,g.jsx)(l.JO,{accessibilityLabel:f.bt("tick circle icon", "check-circle icon", "shuffleCutoutOverlay.checkCircleIcon", undefined, true),color:"info",icon:"check-circle",size:14}):null]}),w||x.description?null:(0,g.jsx)(l.xv,{lineClamp:2,size:"200",children:(a=x?.pinner?.followerCount??0,(0,c.nk)(f.nbt(["{{ followerCount }} follower", "{{ followerCount }} followers"], a, "cutoutParentPin.follwers", true),{followerCount:(0,g.jsx)(o.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:a},x.entityId)}))})]})})]})})}},652444:(e,t,i)=>{i.d(t,{Z:()=>Z});var a,n,l=i(667294);i(167912);var r=i(883119),s=i(777466),o=i(480832),d=i(923952),c=i(182315),u=i(47848),p=i(144326),g=i(240760),m=i(411103),h=i(857550),_=i(852045),y=i(70494),x=i(302749),f=i(617280),v=i(959557),k=i(715824),b=i(115642),P=i(811093),S=i(663258),w=i(609709),j=i(672342),I=i(785893);let C=e=>e.replace(/\s+/g," "),F=void 0!==a?a:a=i(552265);class T extends l.Component{componentDidMount(){let{onUpdate:e}=this.props;e?.()}componentDidUpdate(e){if(e.showMore!==this.props.showMore){let{onUpdate:e}=this.props;e?.()}}render(){let{isArticle:e,pin:t,tutorialDescription:i,showMore:a,onToggle:n,i18n:l,closeupWithinMasonryEnabled:u,peekCloseupEnabled:p,showSponsorshipAttribution:b,hasAffiliateLink:F,hasProductPins:T}=this.props,{carouselData:A,closeupUnifiedDescription:L,userMentionTags:K,storyPinData:R}=t,Z=(L||"").trim();if(A){let e=A.carouselSlots??[],t=A.index??0;e[t]&&e[t].details&&(Z=e[t].details)}let E=Z&&i&&i.trim()===Z,D=Z?C(Z):"";(D=!a&&D&&D.length?(0,k.ZP)(D,e?195:200):D)&&K&&(D=(0,I.jsx)(c.Z,{description:D,mentionLinkColor:"shopping",shouldAdjustOffset:!0,userMentionTags:K.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))}));let z=Z&&Z.length>(e?195:200),M=null,B=(0,m.Z)((0,h.Z)((0,_.Z)((0,y.Z)(this.props)))),O=R?.metadata?.basics;if(O){let e;let{keyValueBlocks:i,listBlocks:a}=O;t&&t.domain&&t.link&&(e={domain:t.domain,url:t.link});let n=[];e?.domain&&(n=[...n,e.domain]);let r=(i||[]).map(e=>(0,S.Z)(e.categoryType,e.value,l)).filter(e=>""!==e);r.length>0&&(n=[...n,...r]),(a??[]).forEach(({heading:e,blocks:t})=>{e&&(n=[...n,e]),(t??[]).forEach(({blocks:e})=>{(e??[]).forEach(({text:e})=>{e&&(n=[...n,e])})})}),M=(0,w.Z)(n)}else if(B){let{pin:e}=this.props,{prepTime:t,cookTime:i,totalTime:a,servingSummary:n,serves:l}=B.recipe,s=a||i||t;if(i&&t){let e=i.h||0,a=i.m||0;s={h:e+(t.h||0),m:a+(t.m||0)}}let o=s?(0,v.Z)((0,f.X)(s),this.props.i18n):null,c=e.richMetadata?.recipe?.aggregateRating?.reviewCount;n&&(M=l?(0,I.jsxs)(r.xv,{inline:!0,size:d.n,children:[l," ",this.props.i18n.bt("servings", "servings", "closeup.CardSourceDescriptionText.servesLabel", undefined, true)]},"recipe"):(0,I.jsx)(r.xv,{inline:!0,size:"200",children:n},"recipe")),o&&(M=M?(0,g.nk)("{{ timeLabel }}  {{ description }}",{timeLabel:o,description:M}):o),"number"==typeof c&&c>0&&(M=M?(0,g.nk)(this.props.i18n.bt("{{ reviewCount }} reviews  {{ description }}", "{{ reviewCount }} reviews  {{ description }}", "number of reviews on a recipe and the description", undefined, true),{reviewCount:c,description:M}):c);let u=e.richMetadata?.recipe?.aggregateRating?.ratingValue,p=Number(u);Number.isNaN(p)&&(p=0),p>=.25&&(M=M?(0,g.nk)("{{ ratings }} {{ description }}",{ratings:(0,I.jsx)(x.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:u},u),description:M}):(0,I.jsx)(x.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:u},u))}if(!D||E)return null;let V=4;return u?V=0:p&&(V=2),Z?(0,I.jsxs)(r.xu,{marginBottom:u?0:b&&(F||T)?2:4,marginTop:V,children:[(0,I.jsx)(o.Z,{descriptionDir:(0,j.j)(Z),children:(0,I.jsx)(s.Z,{description:Z||"",userMentionTags:K||[]})}),b&&(0,I.jsx)(r.xu,{marginTop:1,children:(0,I.jsx)(P.Z,{hasAffiliateLink:F,hasAffiliateProducts:T})})]}):(0,I.jsxs)("span",{children:[(0,I.jsx)(r.xv,{color:u?"subtle":void 0,inline:!0,size:"200",children:(0,I.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",position:"relative",children:M?(0,g.nk)("{{ recipeInfo }}  {{ description }}",{recipeInfo:M,description:D}):D})}),z&&!a&&(0,I.jsx)(r.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,I.jsx)(r.iP,{fullWidth:!1,onTap:n,children:(0,I.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:this.props.i18n.bt("More", "More", " - ", undefined, true)})})})]})}}let A=function(e){let t=(0,p.ZP)(),{pinKey:i}=e,a=(0,u.Z)(F,i),{closeupWithinMasonryEnabled:n,peekCloseupEnabled:l}=(0,b.x4)();return(0,I.jsx)(T,{...e,closeupWithinMasonryEnabled:n,i18n:t,peekCloseupEnabled:l,pin:a})},L=(e,t)=>e.length>300?e:e.length+t.length+3>300?`${e} ${t}...`:`${e} ${t}`,K=e=>e.split(" ").map(e=>e.trim()).reduce(L,""),R=void 0!==n?n:n=i(906750);function Z(e){let[t,i]=(0,l.useState)(!1),{pinKey:a,onUpdate:n,showSponsorshipAttribution:r,hasAffiliateLink:s,hasProductPins:o}=e,d=(0,u.Z)(R,a);if(!d.entityId)return null;let c=!!d.aggregatedPinData,p=!!d.description,g=!!d.richMetadata?.recipe,m=!!d.richMetadata?.article,h=d.richMetadata?.article?.description,_=!!d.richMetadata?.tutorial,y=d.richMetadata?.tutorial?.description??"",x=m&&!g&&!_;return(0,I.jsx)(l.Fragment,{children:(0,I.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:p||c?(0,I.jsx)(A,{hasAffiliateLink:s,hasProductPins:o,isArticle:x,onToggle:()=>i(!0),onUpdate:n,pinKey:d,showMore:t,showSponsorshipAttribution:r,tutorialDescription:y}):x&&h&&(0,I.jsx)("span",{className:"richPinArticleSummary",style:{fontSize:"16px",marginBottom:12},children:K(h)})})})}},480832:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(667294),n=i(615071),l=i(883119),r=i(923952),s=i(144326),o=i(512541),d=i(115642),c=i(778825),u=i(672342),p=i(785893);let g=e=>e?"200":r.n;function m({isDarkMode:e,onPress:t,testID:i,label:a,peekCloseupEnabled:n,withShadow:s}){return(0,p.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":i,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(l.iP,{fullWidth:!1,onTap:t,children:(0,p.jsxs)(l.xv,{size:n?"200":r.n,weight:"bold",children:["...",a]})})]})}function h({children:e,isDarkMode:t,descriptionDir:i}){let r=(0,a.useRef)(null),[h,_]=(0,a.useState)(0),[y,x]=(0,a.useState)(0),[f,v]=(0,a.useState)(!0),[k,b]=(0,a.useState)(!1),[P,S]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),I=(0,s.ZP)(),{closeupWithinMasonryEnabled:C,isCloseupRelatedPinsAboveTheFoldEnabled:F,peekCloseupEnabled:T}=(0,d.x4)(),A=F?1:3,L=F?600:0;(0,a.useEffect)(()=>{if(r.current&&f){let e;let t=(0,c.xW)(r.current),i=(e=r.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;b(()=>!!i&&(r.current&&(r.current.style.webkitLineClamp="unset",x(r.current?.scrollHeight??0),r.current.style.webkitLineClamp=A.toString()),!0)),v(!1),j(t>=A&&i),_(r.current?.clientHeight)}},[f,v,A,h,y,k]);let K=`${h}px`,R=`${h+y}px`,Z=`
    .TruncatedDescription-enter{
      max-height: ${K};
    }
    .TruncatedDescription-enter-active {
      max-height: ${R};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${R};
    }
    .TruncatedDescription-exit {
      max-height: ${R};
    }
    .TruncatedDescription-exit-active {
      max-height: ${K};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${K};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,E=e=>S(e),D=e=>{let i=e?I.bt("more", "more", "storyPin.previewText.more", undefined, true):I.bt("less", "less", "storyPin.previewText.less", undefined, true);return(0,p.jsx)(m,{isDarkMode:t,label:i,onPress:()=>E(e),peekCloseupEnabled:T,testID:`${e?"more":"less"}-description-container`,withShadow:e&&F})},z=(0,a.useRef)(null);return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:Z}),(0,p.jsx)(n.Z,{classNames:"TruncatedDescription",in:P,nodeRef:z,onEnter:()=>b(!1),onExited:()=>b(!0),timeout:L,children:(0,p.jsx)(l.xu,{ref:z,"data-test-id":"truncated-description",flex:"grow",overflow:F?"hidden":"visible",position:"relative",width:C?"100%":void 0,children:(0,p.jsx)(u.Z,{dir:i,children:(0,p.jsxs)(l.xv,{ref:r,align:"ltr"===i?"forceLeft":void 0,lineClamp:f||k?A:0,size:g(T),children:[e,w?(0,p.jsxs)(a.Fragment,{children:[P&&D(!1),(0,p.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:F?"opacity 200ms ease-in-out":void 0,visibility:k?"visible":"hidden"}},opacity:k?1:0,position:"absolute",right:!0,children:D(!0)})]}):null]})})})})]})}},543693:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){return!!e&&e?.replaceAll(" ","").length>0}},865535:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(785893);let n={cursor:"auto"},l=e=>{e.stopPropagation()};function r({className:e,children:t}){return(0,a.jsx)("div",{className:e,onClick:l,role:"presentation",style:n,children:t})}},241528:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),n=i(611735),l=i(415787);class r extends a.PureComponent{constructor(...e){var t,i,a;super(...e),t="handleKeyDown",i=e=>{let{onClose:t,goToNext:i,goToPrevious:a}=this.props,r=e.keyCode||e.code;e.ctrlKey||e.metaKey||["input","select","button","textarea"].includes(((document.activeElement||{}).tagName||"").toLowerCase())||document.activeElement&&document.activeElement.isContentEditable||(r===n.Z.LEFT?(e.preventDefault(),e.stopPropagation(),a&&a(),(0,l.nP)("web_keydown_left")):r===n.Z.RIGHT?(e.preventDefault(),e.stopPropagation(),i&&i(),(0,l.nP)("web_keydown_right")):r===n.Z.ESCAPE&&(e.preventDefault(),e.stopPropagation(),t()))},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return null}}let s=r},140066:(e,t,i)=>{i.d(t,{kC:()=>S,ZP:()=>j,Wp:()=>b});var a,n=i(667294);i(422578);var l=i(883119),r=i(293704),s=i(144326),o=i(415384),d=i(785893);let c=(e,t)=>(0,o.Z)(t.bt("Visit {{domain}}", "Visit {{domain}}", "Accessible label for clickthrough link button", undefined, true),{domain:e}),u=({domain:e,fontSize:t="200",fullWidth:i=!0,textNode:a})=>{let n=c(e,(0,s.ZP)());return(0,d.jsx)(l.xu,{color:"secondary","data-test-id":"link-icon-with-domain-styles-wrapper",padding:2,rounding:2,width:i?"100%":void 0,children:(0,d.jsx)(l.st,{children:(0,d.jsxs)(l.xu,{alignItems:"center","data-test-id":"link-icon-with-domain-styles",display:"flex",justifyContent:"start",padding:1,children:[(0,d.jsx)(l.xu,{paddingX:1,children:(0,d.jsx)(l.JO,{accessibilityLabel:n,color:"default",icon:"arrow-up-right",inline:!0,size:15})}),(0,d.jsx)(l.xu,{paddingX:1,children:a||(0,d.jsx)(l.xv,{inline:!0,size:t,weight:"bold",children:(0,r.ff)(e)})})]})})})};var p=i(700198),g=i(989820),m=i(47848),h=i(766546),_=i(343583),y=i(297728),x=i(383399),f=i(167210),v=i(241716);let k=({children:e,clientTrackingParams:t,isPulsarDisplayed:i,onCompleteClick:a,zIndex:r,onClick:s,to:o,pin:c})=>{let u=(0,n.useRef)(null),p=(0,_.Z)({href:{pathname:o??"",state:{trackingParams:t}},clientTrackingParams:t,target:"blank",externalData:{pin:c&&{attributionSourceId:c.attributionSourceId,board:c.board&&{url:c.board.url},campaignId:c.campaignId,entityId:c.entityId,isDownstreamPromotion:c.isDownstreamPromotion,isPromoted:c.isPromoted,pinner:c.pinner&&{username:c.pinner.username},pinPromotionId:c.pinPromotionId,promoter:c.promoter&&{entityId:c.promoter.entityId},storyPinDataId:c.storyPinDataId,trackingParams:c.trackingParams,advertiserId:c.advertiserId}}});return(0,d.jsx)(g._7,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:u.current,isHidden:!i,onCompleteClick:a,zIndex:r,children:(0,d.jsx)(l.Tg,{ref:u,fullWidth:!1,href:o??"",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),s?.(e),p({event:e})},rel:"nofollow",children:(0,d.jsx)("div",{className:"linkModuleActionButton",children:e})})})},b=({carouselData:e,domain:t})=>{let i="",a=t||"";if(e){let{carouselSlots:t=[]}=e,n=e.index??0;t&&t[n]&&(i=t[n].link||"",a=t[n].domain||a)}return{carouselLink:i,currentDomain:a}},P=({actionBarHeight:e,children:t,setPulsarVisibility:i})=>{let{checkExperiment:a}=(0,y.F)(),{isAuth:n}=(0,x.Z)(),r=a(n?"web_intersection_observer_migration_auth":"web_intersection_observer_migration_unauth").anyEnabled,s=()=>({rootMargin:`-${e+v.hu}px 0px 0px 0px`,threshold:.75}),o=e=>{i(e.slice(-1)[0].isIntersecting)};return r?(0,d.jsx)(h.Z,{onVisibilityChange:o,options:s(),children:e=>(0,d.jsx)(l.xu,{ref:e,children:t})}):(0,d.jsx)(p.Z,{onVisibilityChange:o,options:s(),children:t})},S=e=>{let t=(0,s.ZP)(),{clientTrackingParams:n,children:r,isPulsarDisplayed:o,onClickThrough:c,pinKey:p,showDomainInLink:g,zIndex:h}=e,_=(0,m.Z)(void 0!==a?a:a=i(641065),p);if(!(_.link&&!_.link.startsWith("https://i.pinimg.com")))return null;let y=t.bt("Visit", "Visit", "Default pin link button text", undefined, true);!_.linkDomain||_.richMetadata?.recipe?.fromAggregatedData?y=_.link&&!_.link.startsWith("https://i.pinimg.com")?t.bt("Visit", "Visit", "Generalized pin link button text", undefined, true):t.bt("Open", "Open", "Button text for pin without link to view media", undefined, true):_.richMetadata?.products&&_.richMetadata.products.length>0?y=t.bt("Visit", "Visit", "Buyable pin link button text", undefined, true):_.richMetadata?.tutorial?.name?y=t.bt("Visit", "Visit", "Make pin link button text", undefined, true):_.richMetadata?.recipe?.name?y=t.bt("Make it", "Make it", "Recipe pin link button text", undefined, true):_.richMetadata?.article?.name?y=t.bt("Read it", "Read it", "Article pin link button text", undefined, true):_.link&&_.link.startsWith("https://i.pinimg.com")&&(y=t.bt("Open", "Open", "Button text for pin without link to view media", undefined, true));let{carouselLink:x,currentDomain:f}=b({carouselData:_.carouselData&&{carouselSlots:_.carouselData.carouselSlots&&_.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:_.carouselData?.index},domain:_.domain});return(0,d.jsx)(k,{clientTrackingParams:n,isPulsarDisplayed:o,onClick:c,onCompleteClick:c,pin:_,to:x||_.link||_.imageSpec_orig?.url||"",zIndex:h,children:r||(g?(0,d.jsx)(u,{domain:f}):(0,d.jsx)(l.zx,{fullWidth:!0,size:"md",text:y}))})},w=({actionBarHeight:e,...t})=>{let[i,a]=(0,n.useState)(!0);return(0,d.jsx)(l.xu,{width:"100%",children:(0,d.jsx)(P,{actionBarHeight:e||0,setPulsarVisibility:a,children:(0,d.jsx)(l.xu,{display:"inlineBlock",children:(0,d.jsx)(S,{isPulsarDisplayed:i,zIndex:f.qW,...t})})})})},j=e=>(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,d.jsx)(l.xu,{children:(0,d.jsx)(w,{...e})})})},649692:(e,t,i)=>{i.d(t,{Z:()=>h});var a,n=i(667294);i(167912);var l=i(883119),r=i(293704),s=i(140066),o=i(923952),d=i(989820),c=i(47848),u=i(891985),p=i(115642),g=i(785893);let m=void 0!==a?a:a=i(849220);function h({actionBarHeight:e,isStoryPin:t,legoLinkClickthroughAnchorRef:i,onClickThrough:a,pinKey:h}){let _=(0,n.useRef)(null),{closeupWithinMasonryEnabled:y,peekCloseupEnabled:x,clientTrackingParams:f}=(0,p.x4)(),v=(0,c.Z)(m,h),{currentDomain:k}=(0,s.Wp)({carouselData:v.carouselData&&{carouselSlots:v.carouselData.carouselSlots&&v.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:v.carouselData?.index},domain:v.domain});return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsxs)(l.xu,{display:"inlineBlock",marginTop:!y&&(0,u._S)(k)?x?2:6:0,position:"relative",width:"100%",children:[(0,g.jsx)(s.ZP,{actionBarHeight:e,clientTrackingParams:f,onClickThrough:a,pinKey:v,showDomainInLink:!0,children:(0,g.jsx)(l.xu,{ref:_,dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},children:(0,g.jsx)(l.xv,{size:x?"200":o.n,children:(0,r.ff)(k)})})}),t&&(0,g.jsx)(d.Qp,{anchor:_.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,showCaret:!0,textAlign:"center",textWeight:"normal"})]}),(0,g.jsx)(l.xu,{ref:i,marginEnd:y?0:-7,marginStart:y?0:6,width:4})]})}},928954:(e,t,i)=>{i.d(t,{Z:()=>w});var a,n=i(667294);i(167912);var l=i(315376),r=i(160221),s=i(868318),o=i(452639),d=i(470493),c=i(47848),u=i(144326),p=i(297728),g=i(346645),m=i(383399),h=i(501912),_=i(801621),y=i(753183),x=i(115642),f=i(415787);let v=void 0!==a?a:a=i(64988),k=e=>{let t=new Image;t.loading="lazy",t.src=e;let{complete:i}=t;return t.src="",i},b=["736x","564x","474x","236x"],P=new RegExp(/\/(\d+x|originals)\//),S=e=>{for(let t of b){let i=e.replace(P,`/${t}/`);if(k(i))return(0,f.nP)("web.closeup.cached_preview_image.found",{tags:{resolution:t}}),i}return(0,f.nP)("web.closeup.cached_preview_image.not_found"),null};function w({isHovered:e,pinKey:t}){let i=(0,u.ZP)(),a=(0,m.Z)(),{checkExperiment:f}=(0,p.F)(),k=(0,h.Z)(),{mainImage:b,carouselInfo:P,previewImage:w,isGif:j,imgSrc:I}=(0,o.r)(),C=(0,s.Z)(),F=(0,r.Z)(),T=(0,c.Z)(v,t),A=(0,g.Z)(),{aggregatedPinData:L,altText:K,autoAltText:R,isEligibleForPdp:Z,isEligibleForRelatedProducts:E,isHidden:D,isUnsafe:z,pinner:M,richMetadata:B,visualObjects:O,trackedLink:V,link:H,method:U,shuffle:N,shuffleAsset:W}=T,$=(O??[]).some(e=>e.isStela),G=!Z&&P?.carouselData,q=!!L?.isShopTheLook,X=!!N&&C().isCollageEnabled,Q=!!W&&F(),Y=!!E&&!q&&!Z&&!G&&!(X||Q),J=(0,d.Z)({isHiddenPin:D,isUnsafePin:z}),ee=Y&&f("web_remove_stela").anyEnabled,et=!ee&&J&&Y&&$,ei=void 0!==O&&!Y&&f("web_animate_cta").anyEnabled||ee,ea=(0,_.nl)(a,k)&&f("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,[en,el]=(0,n.useState)("inOut"),[er,es]=(0,n.useState)(!0),eo=(0,n.useCallback)(()=>{es(!1)},[es]);(0,n.useEffect)(()=>{er&&e&&el("none")},[er,e,eo,el,et]);let ed=T.imageSpec_orig?.url,ec=P?.carouselData?function(e){let{carousel_slots:t,index:i}=e;return t&&void 0!==i&&(t[i]||{}).image_signature?t[i].image_signature:null}(P.carouselData):T.imageSignature,eu=V||H,ep="catalog_bulk_create"===U||B?.products,eg=eu&&ep?decodeURIComponent(eu):eu,em=(0,_.Ms)(a,k)===M?.username&&ea,{closeupWithinMasonryEnabled:eh,paneWidth:e_,pdpCarouselSlotToPaneRatio:ey,showProductDetailPage:ex}=(0,x.x4)(),{closeupBodyWidth:ef}=(0,y.K4)(),{height:ev,width:ek}=b,eb={naturalWidth:ek,naturalHeight:ev,alt:(0,l.Z)({altText:K,autoAltText:R,i18n:i}),src:j?I:!A&&I?.startsWith("https://i.pinimg.com/")?S(I)||w?.url||"":w?.url||""},eP={naturalHeight:eb.naturalHeight,naturalWidth:eb.naturalWidth,mainImage:{alt:eb.alt,src:j?eb.src:I},...!j&&{previewImage:{alt:"",src:j?"":eb.src}}};return{animateShopButton:er,disablePinTagButton:em,hasStelaResults:$,imageProps:eb,imageSignature:ec,imageWithPreview:eP,isScenePin:Y,link:eg,maxCloseupImageWidth:eh&&ef||e_,onShopButtonAnimationComplete:eo,onStelaDotAnimationComplete:()=>el("none"),originalImageUrl:ed,pdpCarouselSlotToPaneRatio:ey,showAnimatedExploreCta:ei,showProductDetailPage:ex,showStelaDotsOnScenePin:et,stelaDotAnimationType:en}}},222637:(e,t,i)=>{i.d(t,{Z:()=>_});var a=i(667294),n=i(427871),l=i(573706),r=i(947956),s=i(770975),o=i(961754),d=i(151958),c=i(410150),u=i(383399),p=i(335725);let g=({segment:e})=>p.GL.get(e)??new Set,m=({segment:e})=>{let t=g({segment:e});return new Set([...p.hO].filter(e=>!t.has(e)))},h=()=>{let e=(0,c.HG)(),{isAuth:t}=(0,u.Z)(),i=t&&e,a=(0,s.E)();return a?e=>{"DEFAULT"!==e&&a.setSegment(e),i&&m({segment:e}).forEach(e=>{a.removeConstraint(e)})}:null};function _(e){let{logContextEvent:t}=(0,l.v)(),i=(0,s.E)(),c=h(),u=(0,o.Z)({name:"PinResource",options:(0,n.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),p=u.data,g=(0,d.Z)(null!=p?{type:"deprecated",data:p}:null);return(0,a.useEffect)(()=>{if(p){let e=(0,r.Z)({hasPin:!!p,hasPinRichMetadata:!!p.rich_metadata,hasPinRichMetadataProducts:!!p.rich_metadata?.products,hasPinRichMetadataArticle:!!p.rich_metadata?.article,hasPinRichMetadataRecipe:!!p.rich_metadata?.recipe,hasPinStoryPinData:!!p.story_pin_data});t({event_type:7408,view_parameter:e,object_id_str:p.id,view_type:3,view_data:{pin_id:p.id,closeup_rich_types:p.shopping_flags||[]},aux_data:{...g()}}),p.aggregated_pin_data&&(p.aggregated_pin_data.is_shop_the_look||p.aggregated_pin_data.is_stela)&&t({event_type:7579,view_parameter:e,object_id_str:p.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:p.aggregated_pin_data.is_shop_the_look,pin_is_stela:p.aggregated_pin_data.is_stela})}}),i&&i.markConstraintComplete("resource"),c&&c(p.is_eligible_for_pdp?p.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":p.story_pin_data_id?"story_pin":"DEFAULT")}},[p,g]),e.children({pinResource:u})}},921256:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){switch(t.type){case"gallerySelect":return{shopping:t.select};case"pinLoaded":{let i=e.myTry?{}:{myTry:{isDoneByMe:t.pin.done_by_me}};return{pin:t.pin,...i,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:t.isDoneByMe}};default:throw"impossible"}}},616898:(e,t,i)=>{i.d(t,{C:()=>g});var a=i(667294),n=i(883119),l=i(144326),r=i(590045),s=i(167210),o=i(241716),d=i(785893);function c(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=o.hu+r.Ie+76;class p extends a.Component{constructor(...e){super(...e),c(this,"state",{showRelatedPinsUpsellFlyout:!1}),c(this,"componentDidMount",()=>{this.handleDidShortClickThrough(),window.addEventListener("scroll",this.hideFlyout)}),c(this,"componentWillUnmount",()=>{window.removeEventListener("scroll",this.hideFlyout)}),c(this,"hideFlyout",()=>{this.setState({showRelatedPinsUpsellFlyout:!1})}),c(this,"handleDidShortClickThrough",()=>{this.scrollToAnchor(),window.setTimeout(()=>{this.setState({showRelatedPinsUpsellFlyout:!0})},100)}),c(this,"scrollToAnchor",()=>{this.anchorRef&&(this.anchorRef.scrollIntoView(!0),window.scrollBy(0,-u))}),c(this,"setAnchorRef",e=>{this.anchorRef=e}),c(this,"render",()=>(0,d.jsx)(n.xu,{ref:this.setAnchorRef,"data-test-id":"short-clickthrough-upsell",children:this.state.showRelatedPinsUpsellFlyout&&(0,d.jsx)(n.xu,{column:12,position:"absolute",top:!0,zIndex:new n.Ry(s.lJ),children:(0,d.jsx)(n.Li,{anchor:this.anchorRef,idealDirection:"up",message:this.props.i18n.bt("Not into this Pin? See more ideas below", "Not into this Pin? See more ideas below", "Shows in a flyout message to upsell related pins to users", undefined, true),onDismiss:this.hideFlyout})})}))}}let g=function(e){let t=(0,l.ZP)();return(0,d.jsx)(p,{...e,i18n:t})}},146494:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var a=i(883119),n=i(219098),l=i(24116),r=i(488792),s=i(144326),o=i(66810),d=i(969119),c=i(785893);let u=({clientTrackingParams:e,watchAgain:t,imageSrc:i,pinDescription:u,pinId:p,rounded:g=!0})=>{let m=(0,s.ZP)(),h=(0,r.Z)();(0,d.Z)(()=>{h({event_type:120,view_type:3,component:13799})});let _=()=>{t()};return(0,c.jsx)(a.xu,{alignItems:"center",bottom:!0,color:"dark","data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,opacity:.9,padding:4,position:"absolute",right:!0,rounding:g?o.yR:0,top:!0,width:"100%",children:(0,c.jsx)(a.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsxs)(a.kC,{alignContent:"start",direction:"column",gap:{row:0,column:8},justifyContent:"start",children:[(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(l.default,{buttonText:m.bt("Send", "Send", "end.video.send.icon.label", undefined, true),clientTrackingParams:e,imageSrc:i,pinDescription:u,pinId:p,shownWithinMasonry:!0})}),(0,c.jsxs)(a.kC,{alignItems:"center",children:[(0,c.jsx)(n.Z,{accessibilityLabel:m.bt("Replay button", "Replay button", "storyPin.closeup.endCard.replay", undefined, true),handleClick:_,icon:"refresh",iconColor:"white",testId:"closeup-replay-button"}),(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.iP,{onTap:_,rounding:2,children:(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:m.bt("Replay", "Replay", "storyPin.closeup.endCard.replay", undefined, true)})})})]})]})})})}},158092:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(667294),n=i(883119),l=i(293704),r=i(823484),s=i(194996),o=i(573706),d=i(144326),c=i(641871),u=i(753183),p=i(115642),g=i(785893);class m extends a.PureComponent{constructor(...e){var t,i,a;super(...e),t="startAudiblePlayTime",i=this.props.muted?null:new Date,(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){let{musicRecordingId:e,muted:t,pinId:i,video:a}=this.props;if(e&&!t&&this.startAudiblePlayTime&&Date.now()-this.startAudiblePlayTime.getTime()>=2e3){let{hlsv3:t,mp4:n}=(0,c.ZP)({vEXP3:a.video_list?.V_EXP3,vEXP4:a.video_list?.V_EXP4,vEXP5:a.video_list?.V_EXP5,vEXP6:a.video_list?.V_EXP6,vEXP7:a.video_list?.V_EXP7,v720P:a.video_list?.V_720P,vHLSV3MOBILE:a.video_list?.V_HLSV3_MOBILE})||{},l=(n||t)?.duration||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:i,story_pin_music_duration:l}})}}render(){let{activePageIndex:e,aspectRatio:t,blockHeight:i,blockWidth:a,closeupBodyWidth:l,closeupStoryPinViewability:r,closeupWithinMasonryEnabled:o,customEndCard:d,isCloseupRelatedPinsAboveTheFoldEnabled:u,isPlaying:p,muted:m,onEnded:h,onUpdateVideoInfo:_,pageIndex:y,pin:x,pinId:f,roundCorners:v=!0,maxHeight:k,video:b,videoThumbnailStartTime:P}=this.props,{hlsv3:S,mp4:w}=(0,c.ZP)({vEXP3:b.video_list?.V_EXP3,vEXP4:b.video_list?.V_EXP4,vEXP5:b.video_list?.V_EXP5,vEXP6:b.video_list?.V_EXP6,vEXP7:b.video_list?.V_EXP7,v720P:b.video_list?.V_720P,vHLSV3MOBILE:b.video_list?.V_HLSV3_MOBILE})??{},j=w||S;if(!j)return null;let{height:I,thumbnail:C,width:F}=j,T=t??(F??1)/(I??1),A={height:"100%",left:"0",top:"0",width:"100%"},L=o&&l?(l??a)/(Number(k)??i):a/i;if(!o&&Math.abs(L-T)>.01){if(L<T){let e=100*T/L;A.width=`${e}%`,A.left=`-${(e-100)/2}%`}else if(L>T){let e=100*L/T;A.height=`${e}%`,A.top=`-${(e-100)/2}%`}}let K="number"==typeof e&&y<=e+3;return(0,g.jsx)(n.xu,{height:u?"100%":i,overflow:"hidden",position:"relative",width:u?"100%":a,children:(0,g.jsx)(n.xu,{height:"100%",position:"absolute",width:"100%",children:K||p||P?(0,g.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:A},position:"absolute",children:(0,g.jsx)(s.Z,{aspectRatio:o?L:t,autoplay:p,closeupStoryPinViewability:r,contextLogData:{component:0===y?227:228,element:10957,objectId:f,story_pin_page_id:y,view:3,viewParameter:157},customEndCard:d,customThumbnail:C,isPromoted:!1,loop:!1,muted:m,objectFit:w?o?"contain":"cover":void 0,onEnded:()=>{h&&h(y)},onTimeChange:({time:e})=>{_&&"number"==typeof j.duration&&j.duration>0&&_({currentTime:e,duration:j.duration/1e3})},pinId:f,pinKey:null===x?null:{type:"deprecated",data:x},preferMp4:!!w,roundingOverride:v?null:0,showControls:u?"hover":"never",variant:"storyPin",video:{id:b.id,hlsv3:S,mp4:w},videoThumbnailStartTime:P})}):(0,g.jsx)(n.Ee,{alt:this.props.i18n.bt("Video cover image", "Video cover image", "closeup.storyPin.videoCover", undefined, true),fit:"cover",naturalHeight:I??1,naturalWidth:F??1,src:C??""})})})}}function h(e){let{logContextEvent:t}=(0,o.v)(),{pin:i}=e,a=(0,d.ZP)(),{closeupWithinMasonryEnabled:n,isCloseupRelatedPinsAboveTheFoldEnabled:s}=(0,p.x4)(),{closeupBodyWidth:c}=(0,u.K4)(),{maxHeight:h}=(0,l.Re)(),{maxHeight:_}=(0,r.Z)({pinKey:null===i?null:{type:"deprecated",data:i}});return(0,g.jsx)(m,{...e,closeupBodyWidth:c,closeupWithinMasonryEnabled:n,i18n:a,isCloseupRelatedPinsAboveTheFoldEnabled:s,logContextEvent:t,maxHeight:n?_:h})}},993639:(e,t,i)=>{i.d(t,{Z:()=>G}),i(167912);var a,n,l=i(883119),r=i(293704),s=i(616550),o=i(573706),d=i(961754),c=i(907409),u=i(785893);let p=({block:{block_style:{height:e=0,width:t=0,x_coord:i=0,y_coord:a=0,rotation:n=0}={},original_comment_id:p},pageAspectRatio:g,scaleFactor:m})=>{let{logContextEvent:h}=(0,o.v)(),_=r._B/g,y=t*r._B*m/100,x=i*r._B*m/100,f=(0,s.k6)(),{data:v}=(0,d.Z)({name:"AggregatedCommentResource",options:{commentId:p,field_set_key:"comment_reply_sticker"}});return(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:x,top:a*_*m/100,transform:`rotate(${n}deg)`}},display:"flex",height:e*_*m/100,margin:-1,padding:1,position:"absolute",rounding:2,width:y,zIndex:c.B5,children:(0,u.jsx)(l.iP,{onTap:()=>{h({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:p}}),v?.pin_id&&f.push(`/pin/${v.pin_id}/comments/${p||""}`)},rounding:"pill"})})};var g=i(178638),m=i(87898);function h({src:e,fallbackSrc:t,...i}){let a=(0,m.Z)(e);return(0,u.jsx)(g.Z,{...i,src:a?e:t})}var _=i(545007);function y({isUseCache:e,signature:t}){return(0,_.v9)(({pinbuilder:i})=>{let{storyPinItemBlocks:a}=i;if(!e)return null;for(let e of Object.keys(a))if(a[e].media?.signatureEdited===t||a[e].media?.signature===t)return a[e];return null})}var x=i(667294),f=i(622468),v=i(453424),k=i(758339),b=i(144326),P=i(733383);let S=({aggregatedCommentId:e,onDismiss:t})=>{let i=(0,b.ZP)(),a=(0,v.Z)(),n=(0,f.Z)(),[r,s]=(0,x.useState)(""),o=(0,u.jsx)(l.kC,{justifyContent:"end",children:(0,u.jsx)(l.zx,{color:"red",disabled:!r,onClick:()=>{(async()=>{await n({fromUnifiedComment:!0,objectType:P.o.aggregatedComment,objectId:e,tags:"[]",text:r})})(),t()},text:i.bt("Post", "Post", "ideapin.questionsticker.replymodal.postbutton", undefined, true)})});return(0,u.jsx)(k.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:o,heading:i.bt("Reply", "Reply", "ideapin.questionsticker.replymodal", undefined, true),onDismiss:t,children:(0,u.jsx)(l.xu,{paddingX:8,paddingY:1,children:(0,u.jsx)(l.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{s(e)},placeholder:a?i.bt("Your reply will appear as a public comment on this Pin.", "Your reply will show up as a public comment on this Pin.", "pin.questionsticker.replymodal.placeholder", undefined, true):i.bt("Your reply will appear as a public comment on this Idea Pin.", "Your reply will show up as a public comment on this Idea Pin.", "ideapin.questionsticker.replymodal.placeholder", undefined, true),value:r})})})};var w=i(559028),j=i(47848),I=i(240760),C=i(66810),F=i(649248);let T=void 0!==a?a:a=i(173215);function A({block:e,elementType:t,onFlyoutOpen:i,pageAspectRatio:a,pageIndex:n,pinKey:p,scaleFactor:g,tooltipElementType:m,videoPinProgress:h}){let{logContextEvent:_}=(0,o.v)(),[y,f]=(0,x.useState)(!1),[v,k]=(0,x.useState)(!1),P=(0,x.useRef)(null),A=(0,s.k6)(),L=(0,b.ZP)(),K=(0,j.Z)(T,p),{block_style:{height:R=0,width:Z=0,x_coord:E=0,y_coord:D=0,rotation:z=0}={},end_time:M,error_message:B,interactive_sticker_type:O=null,is_removed:V,is_valid:H,start_time:U,sticker_data:N,type:W}=e,$=K?.entityId,{board_id:G,question_comment_id:q}=N||{},{image_small_url:X,full_name:Q,username:Y=""}=e.user??{},J=null,ee=H&&5===O&&!!G,et=H&&7===O&&!!q,ei=(0,d.Z)(G&&ee?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:G}}:null),{is_collaborative:ea,pin_count:en,url:el}=ei.data||{};W===C.h8.PRODUCT_STICKER?J=$?`/pin/${$}/`:"/":W===C.h8.MENTION_STICKER?J=`/${Y}/`:ee&&(J=ei.isLoaded?`${el}`:null);let er=r._B/a,es=Z*r._B*g/100,eo=E*r._B*g/100,{currentTime:ed}=h||{},ec=!(0,F.Z)({currentTime:ed,endTime:M,startTime:U}),eu=()=>{_({event_type:123,component:228,element:m,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:n}}),f(!1)},ep=({event:e})=>{_({event_type:120,component:228,element:m,view_type:3,view_parameter:157,aux_data:{error_message:!H&&B?B:null,story_pin_page_id:n}}),f(!0),i&&(e.stopPropagation(),i())};(0,x.useEffect)(()=>(document.addEventListener("scroll",()=>{f(!1)}),()=>document.removeEventListener("scroll",()=>{f(!1)})),[]);let eg=()=>[5].includes(O)?H?ei.isLoaded?(0,u.jsxs)(x.Fragment,{children:[(0,u.jsxs)(l.xu,{flex:"grow",paddingX:2,children:[(0,u.jsx)(l.xv,{lineClamp:1,size:"100",weight:"bold",children:ea?L.bt("Explore this group board", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):L.bt("Explore this board", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,u.jsx)(l.xv,{size:"100",children:(!!en||0===en)&&(0,I.nk)(L.nbt(["{{ pinCount }} Pin", "{{ pinCount }} Pins"], en, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:en})})]}),(0,u.jsx)(l.xu,{flex:"none",children:(0,u.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]}):(0,u.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,u.jsx)(l.xu,{marginEnd:1,paddingX:2,children:(0,u.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"100",children:L.bt("Loading board...", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,u.jsx)(l.$j,{accessibilityLabel:L.bt("Board is loading", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),show:!0,size:"sm"})]}):(0,u.jsx)(l.xu,{paddingX:2,paddingY:2,children:(0,u.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:B})}):(0,u.jsx)(l.xu,{paddingX:2,paddingY:2,children:(0,u.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:L.bt("Sticker not supported yet", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})}),em=()=>{let e=null;switch(W){case C.h8.PRODUCT_STICKER:let{gridTitle:t,imageSpec_236x:i,richSummary:a,description:n}=K||{},{displayName:r,products:s}=a||{},o=((s||[])[0]||{}).offerSummary||{},{price:d,maxPrice:c}=o||{},p=!!o&&(!!d||!!c),g=r||t||n;e=(0,u.jsxs)(x.Fragment,{children:[(0,u.jsx)(l.xu,{flex:"none",children:(0,u.jsx)(l.zd,{height:40,rounding:3,wash:!0,width:40,children:(0,u.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:i?.url||""})})}),(0,u.jsx)(l.xu,{flex:"grow",paddingX:2,children:p?(0,u.jsxs)(l.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,u.jsx)(l.xv,{color:"shopping",lineClamp:1,size:"100",weight:"bold",children:d}),(0,u.jsx)(l.xv,{lineClamp:1,size:"100",children:g})]}):(0,u.jsx)(l.xv,{lineClamp:1,size:"100",children:g})}),(0,u.jsx)(l.xu,{flex:"none",children:(0,u.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case C.h8.MENTION_STICKER:e=(0,u.jsxs)(x.Fragment,{children:[(0,u.jsx)(l.xu,{flex:"none",children:(0,u.jsx)(w.qE,{name:Q??"",size:"sm",src:X??void 0})}),(0,u.jsx)(l.xu,{flex:"grow",paddingX:2,children:(0,u.jsx)(l.xv,{lineClamp:1,size:"200",weight:"bold",children:Q})}),(0,u.jsx)(l.xu,{flex:"none",children:(0,u.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case C.h8.GENERIC_STICKER:e=eg();break;case C.h8.VTO_MAKEUP_STICKER:e=(0,u.jsx)(l.xv,{size:"300",weight:"bold",children:L.bt("Try this sticker on your phone!", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}return(0,u.jsx)(l.xu,{alignItems:"center","data-test-id":W,display:"flex",justifyContent:"center",padding:W===C.h8.PRODUCT_STICKER?1:3,width:"100%",children:V?(0,u.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:L.bt("Tag removed.", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})};return(0,u.jsx)(x.Fragment,{children:ec?null:(0,u.jsxs)(l.xu,{ref:P,dangerouslySetInlineStyle:{__style:{left:eo,top:D*er*g/100,transform:`rotate(${z}deg)`}},"data-test-id":(W||"")+"_container",display:"flex",height:R*er*g/100+2*r.Xw,margin:-1,padding:1,position:"absolute",rounding:2,width:es+2*r.Xw,zIndex:c.B5,children:[(0,u.jsx)(l.iP,{disabled:ec,onTap:y?eu:({event:e})=>{ec||(_({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:n}}),et?k(!0):ep({event:e}))},rounding:"pill"}),y&&(0,u.jsx)(l.mh,{zIndex:r.tD,children:(0,u.jsx)(l.J2,{_deprecatedShowCaret:!0,anchor:P.current,idealDirection:"up",onDismiss:eu,positionRelativeToAnchor:!1,size:V?"flexible":"sm",children:V?em():(0,u.jsx)(l.iP,{fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),V||(_({event_type:101,component:228,element:m,object_id_str:$,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:n}}),J?A.push(J):eu())},children:em()})})}),!!q&&v&&(0,u.jsx)(S,{aggregatedCommentId:q,onDismiss:()=>{k(!1)}})]})})}var L=i(17963),K=i(897628),R=i(778825),Z=i(753796);function E({block:e,fontsLoaded:t,pageAspectRatio:i,scaleFactor:a,thumbnail:n}){let{block_style:r,style:s=C.Cc,text:o}=e,{alignment:d,font:c,font_size:p,highlight_color:g,vertical_alignment:m=C.Cc.vertical_alignment}=s,{hex_color:h=C.Cc.hex_color}=s??{},[_,y]=(0,x.useState)(0),[f,v]=(0,x.useState)([]),k=c||C.Cc.font,{name:b,default_size:P,letter_spacing:S,line_height:w}=k,j=(0,Z.Z)(k),I=Math.round(100*(r?.width||100))/1e4,F=Math.round(100*(r?.height||100))/1e4,T=Math.round(100*(r?.x_coord||0))/1e4,A=Math.round(100*(r?.y_coord||0))/1e4;(0,x.useEffect)(()=>{if(t){let e=(0,R.KV)({text:o,boxHeight:K.U*F,boxWidth:K.q8*I,font:j,startFontSize:Math.floor(p||P||24)});v(e.lines),y(e.fontSize)}},[t,o]);let E=_*a,D=g?(0,C.pE)(E,w):{x:0,y:0},z=I*K.q8*a+2*D.x,M=F*K.U*a+2*D.y,B=T*K.q8*a-D.x,O=n?`${100*A}%`:A*(K.q8/i)*a-D.y;return(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:B,top:O}},display:"flex",height:M,position:"absolute",width:z,children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:(0,L.RK)({alignment:d,verticalAlignment:m})},children:(0,u.jsx)(l.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,u.jsx)("p",{style:(0,L.BN)({fontSize:E,hexColor:h,letterSpacing:S,lineHeight:w,name:b}),children:f.map((e,t)=>(0,u.jsx)("span",{style:(0,L.xm)({fontSize:E,hasText:e.text.length>0,highlightColor:g||null,lineHeight:w}),children:t===f.length-1?e.text:(0,u.jsxs)(x.Fragment,{children:[e.text," ",(0,u.jsx)("br",{})]})},`paragraphLine-${t}-${(o??"").substr(0,9)}`))})})})})}var D=i(158092),z=i(383399);function M({ownerId:e}){let t=(0,b.ZP)(),i=(0,z.Z)(),a=i.isAuth&&i.id===e;return(0,u.jsxs)(l.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,u.jsx)(l.xv,{color:"inverse",children:a?t.bt("Your video is being processed.", "Your video is processing!", "closeup.storyPin.videoPlaceholder", undefined, true):t.bt("This video is still being processed.", "This video is still processing!", "closeup.storyPin.videoPlaceholder", undefined, true)}),(0,u.jsx)(l.xv,{color:"inverse",children:t.bt("Please check back in a few minutes.", "Check back in a few minutes.", "closeup.storyPin.videoPlaceholder", undefined, true)})]})}var B=i(512541),O=i(770975),V=i(397230),H=i(115642),U=i(335725);function N({block:e,borderStyle:t,isActive:i,pinId:a,pwtTrackImageLoad:n,thumbnail:s}){let o;let d=(0,b.ZP)(),{closeupWithinMasonryEnabled:c,isCloseupRelatedPinsAboveTheFoldEnabled:p,isCloseupMediaViewerOpen:m,peekCloseupEnabled:_,viewportSize:x}=(0,H.x4)(),{maxHeight:f,fiftyPercentHeight:v,fiftyPercentWidth:k}=(0,r.Re)(),P=f;_&&"sm"===x&&(P=v);let S=e.image?.images?.["750x"]||e.image?.images?.["474x"],w=y({isUseCache:!0,signature:e.image_signature});if(!S&&!w)return null;o=s?"cover":c?"contain":"none";let j=`
    img {
      max-height: ${P};
      max-width: ${k};
      ${p&&"object-fit: contain"}
    }
  `;return(0,u.jsxs)(l.xu,{alignItems:_?"center":void 0,dangerouslySetInlineStyle:{__style:{...t,display:_?"grid":"block"}},height:"inherit",overflow:"hidden",width:"inherit",children:[(0,u.jsx)(B.Z,{unsafeCSS:j}),w?(0,u.jsx)(h,{_enableViewTransitions:!0,alt:d.bt("Story Pin image", "Story pin image", "closeup.storypin.renderer", undefined, true),color:S?.dominant_color??"",fallbackSrc:w.media?.src??"",fit:o,id:a,isActive:i,naturalHeight:S?.height??1,naturalWidth:S?.width??1,onLoad:n,src:S?.url??"",suppressViewTransitionTags:m}):(0,u.jsx)(g.Z,{_enableViewTransitions:!0,alt:d.bt("Story Pin image", "Story pin image", "closeup.storypin.renderer", undefined, true),borderStyle:t,color:S?.dominant_color??"",fit:o,id:a,isActive:i,naturalHeight:S?.height??1,naturalWidth:S?.width??1,onLoad:n,src:S?.url??"",suppressViewTransitionTags:m})]})}function W({activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:a,isActive:n,isSplitLayout:s=!1,musicRecordingId:o,muted:d,onEnded:c,onUpdateVideoInfo:p,ownerId:g,pageAspectRatio:m,pageDimensions:h,pageIndex:_,pin:x,pinId:f,scaleFactor:v,stillLoading:k,videoThumbnailStartTime:b,thumbnail:P=!1}){let{block_style:{height:S=100,width:w=100,x_coord:j=0,y_coord:I=0}={},video:C}=t,{closeupWithinMasonryEnabled:F}=(0,H.x4)(),T=r._B/m,{height:A,width:L}=h,K=w*r._B*v/100,R=S*T*v/100,Z=w<100?Math.min(Math.max(100,w)-Math.abs(j),w):Math.min(Math.max(w-Math.abs(j),0),100),E=S<100?Math.min(Math.max(100,S)-Math.abs(I),S):Math.min(Math.max(S-Math.abs(I),0),100),z=F?"100%":E*T*v/100,B=F?"100%":Z*r._B*v/100,O=Math.max(I,0)*T*v/100,V=Math.max(j,0)*r._B*v/100,U=y({isUseCache:!C,signature:t.video_signature});if(k)return null;let{media:N}=U||{},{duration:W,src:$}=N||{},G=!!$&&!!W;return C||G?!!(C?.video_list?.V_HLSV3_MOBILE||C?.video_list?.V_720P||G)&&(0,u.jsx)(l.xu,{height:s?"50%":"100%",overflow:"hidden",position:"relative",children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:O}},height:P?A:z,overflow:"hidden",position:"absolute",width:P?L:B,children:(0,u.jsx)(D.Z,{activePageIndex:e,aspectRatio:m,blockHeight:P?A:R,blockWidth:P?L:K,closeupStoryPinViewability:i,customEndCard:a,isPlaying:n,musicRecordingId:o,muted:d,onEnded:c,onUpdateVideoInfo:p,pageIndex:_,pin:x,pinId:f,roundCorners:R>=A&&K>=L,video:C||{video_list:{V_EXP7:{duration:W?1e3*W:0,url:$}}},videoThumbnailStartTime:b})})}):(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:O}},height:z,position:"absolute",width:B,children:(0,u.jsx)(M,{ownerId:g})})}let $=void 0!==n?n:n=i(6851);function G({activePageIndex:e,block:t,borderStyle:i,closeupStoryPinViewability:a,customEndCard:n,disableProductStickers:s,fontsLoaded:o,isActive:d,isSplitLayout:c=!1,musicRecordingId:g,muteVideos:m,onEnded:h,onFlyoutOpen:_,onUpdateVideoInfo:y,ownerId:x,pageAspectRatio:f,pageHeight:v,pageIndex:k,pageWidth:b,pin:P,pinId:S,previewOnly:w,pinKey:I,stillLoading:F=!1,thumbnail:T=!1,transform:L,videoPinProgress:K,videoThumbnailStartTime:R}){let Z=(0,j.Z)($,I),{block_style:{height:D=100,width:z=100,x_coord:M=0,y_coord:B=0}={},interactive_sticker_type:H=null}=t,G=(0,V.g)(),q=(0,O.E)();if(0===D||0===z)return null;let X=b/r._B;switch(t.type){case C.h8.PARAGRAPH:case C.h8.HEADING:return(0,u.jsx)(E,{block:t,fontsLoaded:o,pageAspectRatio:f,scaleFactor:X,thumbnail:T});case C.h8.VIDEO:return(0,u.jsx)(W,{activePageIndex:e,block:t,closeupStoryPinViewability:a,customEndCard:n,isActive:d,isSplitLayout:c,musicRecordingId:g,muted:m,onEnded:h,onUpdateVideoInfo:y,ownerId:x,pageAspectRatio:f,pageDimensions:{height:v,width:b},pageIndex:k,pin:P,pinId:S,scaleFactor:X,stillLoading:F,thumbnail:T,videoThumbnailStartTime:R});case C.h8.IMAGE:let{scaleX:Q=1,scaleY:Y=1}=L||{};return(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:`${D}%`,left:`${M*Q}%`,top:`${B*Y}%`,width:`${z}%`}},overflow:"hidden",position:"absolute",children:(0,u.jsx)(N,{block:t,borderStyle:i,isActive:d,pinId:S,pwtTrackImageLoad:()=>{G&&d&&(G.addBinaryAnnotation("pin.id",S,"STRING"),G.addBinaryAnnotation("video",!1,"BOOL"),G.stop()),q&&d&&(q.addBinaryAnnotation("pin.id",S,"STRING"),q.addBinaryAnnotation("video",!1,"BOOL"),q.removeConstraint(U._z),q.markConstraintComplete(U.pM))},thumbnail:T})});case C.h8.MENTION_STICKER:return!w&&(0,u.jsx)(A,{block:{...t},elementType:12120,onFlyoutOpen:_,pageAspectRatio:f,pageIndex:k,pinKey:null,scaleFactor:X,tooltipElementType:12121,videoPinProgress:K});case C.h8.GENERIC_STICKER:return!w&&(e=>{let t=5===H;return(0,u.jsx)(A,{block:{...e},elementType:t?12827:12858,onFlyoutOpen:_,pageAspectRatio:f,pageIndex:k,pinKey:null,scaleFactor:X,tooltipElementType:t?12828:12859,videoPinProgress:K})})(t);case C.h8.PRODUCT_STICKER:return!w&&!s&&(0,u.jsx)(A,{block:{...t},elementType:12223,onFlyoutOpen:_,pageAspectRatio:f,pageIndex:k,pinKey:Z,scaleFactor:X,tooltipElementType:12224,videoPinProgress:K});case C.h8.VTO_MAKEUP_STICKER:return!w&&(0,u.jsx)(A,{block:{...t},elementType:12561,onFlyoutOpen:_,pageAspectRatio:f,pageIndex:k,pinKey:null,scaleFactor:X,tooltipElementType:12561,videoPinProgress:K});case C.h8.COMMENT_REPLY_STICKER:return t.type===C.h8.COMMENT_REPLY_STICKER&&!w&&(0,u.jsx)(p,{block:t,pageAspectRatio:f,scaleFactor:X});default:return null}}},494409:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(883119),n=i(293704),l=i(993639),r=i(990129),s=i(66810),o=i(509781),d=i(115642),c=i(785893);function u({activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:u,fontsLoaded:p,isActive:g,isPreview:m,muteVideos:h,onEnded:_,onFlyoutOpen:y,onUpdateVideoInfo:x,ownerId:f,page:v,pageAspectRatio:k,pageHeight:b,pageIndex:P,pageWidth:S,pin:w,pinId:j,productPins:I,shouldLogTimeSpent:C=!0,stillLoading:F=!1,videoPinProgress:T,viewParameter:A,viewType:L}){let{closeupWithinMasonryEnabled:K}=(0,d.x4)(),{background_color:R}=v.style||{},{nonRenderableBlocks:Z,blocks:E}=(0,r.Z)({storyPinBlocks:v.blocks??[]}),D=!!E.find(e=>e.type===s.h8.VIDEO),z=!!E.find(e=>!!e.video&&e.type===s.h8.VIDEO&&e.video_signature),M=Z.find(e=>e.type===s.h8.MUSIC),B=M?.type==="story_pin_music_block"?M.provider_recording_id:void 0,O=()=>(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:K?n.yc:R||"#fff"}},height:"100%",children:!m&&E.filter(e=>!D||z||e.type===s.h8.VIDEO).map((t,a)=>{let n=(I||[]).find(e=>[e.id,e.cacheable_id].includes(t.pin_id));return(0,c.jsx)(l.Z,{activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:u,disableProductStickers:!0,fontsLoaded:p,isActive:g,isSplitLayout:3===v.layout,musicRecordingId:B,muteVideos:h,onEnded:_,onFlyoutOpen:y,onUpdateVideoInfo:x,ownerId:f,pageAspectRatio:k,pageHeight:b,pageIndex:P,pageWidth:S,pin:w,pinId:j,pinKey:null!=n?{type:"deprecated",data:n}:null,stillLoading:F,videoPinProgress:T},`${v.id??""}-${t.type??""}-${a}`)})});return C?(0,c.jsx)(o.Z,{auxData:{story_pin_page_id:P},clientTrackingParams:t,component:0===P?227:228,shouldUseGrandparentId:!0,view:L,viewParameter:A,children:O()}):O()}},990129:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(66810);let n=[a.h8.COMMENT_REPLY_STICKER,a.h8.GENERIC_STICKER,a.h8.HEADING,a.h8.IMAGE,a.h8.MENTION_STICKER,a.h8.PARAGRAPH,a.h8.PRODUCT_STICKER,a.h8.VIDEO,a.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=n}){let i=[],l=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===a.h8.PARAGRAPH||e.type===a.h8.HEADING?l.push(e):r.push(e):i.push(e)}),r.push(...l),{nonRenderableBlocks:i,textBlocks:l,blocks:r}}},452639:(e,t,i)=>{i.d(t,{A:()=>p,r:()=>c});var a,n=i(667294);i(167912);var l=i(498490),r=i(47848),s=i(891985),o=i(785893);let{Provider:d,useHook:c}=(0,l.Z)("PageHeader"),u=void 0!==a?a:a=i(993194),p=({children:e,pinKey:t,overrideValue:i={}})=>{let a=(0,r.Z)(u,t),l=a?.videos,c=a?.embed,p=(0,n.useMemo)(()=>l?.videoList?.v720P?.url?{duration:l.videoList.v720P.duration||void 0,height:l.videoList.v720P.height||void 0,thumbnail:l.videoList.v720P.thumbnail||void 0,url:l.videoList.v720P.url||void 0,width:l.videoList.v720P.width||void 0,captions_urls:l.videoList.v720P.captionsUrls||void 0}:void 0,[l?.videoList?.v720P?.duration,l?.videoList?.v720P?.height,l?.videoList?.v720P?.thumbnail,l?.videoList?.v720P?.url,l?.videoList?.v720P?.width,l?.videoList?.v720P?.captionsUrls]),g=(0,n.useMemo)(()=>l?.videoList?.vHLSV4?.url?{duration:l.videoList.vHLSV4.duration||void 0,height:l.videoList.vHLSV4.height||void 0,thumbnail:l.videoList.vHLSV4.thumbnail||void 0,url:l.videoList.vHLSV4.url||void 0,width:l.videoList.vHLSV4.width||void 0}:void 0,[l?.videoList?.vHLSV4?.duration,l?.videoList?.vHLSV4?.height,l?.videoList?.vHLSV4?.thumbnail,l?.videoList?.vHLSV4?.url,l?.videoList?.vHLSV4?.width]),m=(0,n.useMemo)(()=>l?.videoList?.vHLSV3MOBILE?.url?{duration:l.videoList.vHLSV3MOBILE.duration||void 0,height:l.videoList.vHLSV3MOBILE.height||void 0,thumbnail:l.videoList.vHLSV3MOBILE.thumbnail||void 0,url:l.videoList.vHLSV3MOBILE.url||void 0,width:l.videoList.vHLSV3MOBILE.width||void 0}:void 0,[l?.videoList?.vHLSV3MOBILE?.duration,l?.videoList?.vHLSV3MOBILE?.height,l?.videoList?.vHLSV3MOBILE?.thumbnail,l?.videoList?.vHLSV3MOBILE?.url,l?.videoList?.vHLSV3MOBILE?.width]),h=(0,n.useMemo)(()=>{let e=p||g||m;return l?.entityId&&e?{id:l.entityId,hasVideo:e,mp4:p||void 0,hls:g||void 0,hlsv3:m||void 0}:null},[g,m,p,l?.entityId]),_=c?.src,y=c?.subtype==="pinstory",x=(0,s.sY)(c?.type),f=a?.imageSpec_736x||a?.imageSpec_564x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x,v=a?.imageSpec_1200x||a?.imageSpec_orig||a?.imageSpec_736x||a?.imageSpec_564x||a?.imageSpec_474x||a?.imageSpec_236x,k=a?.imageSpec_236x,b=(0,n.useMemo)(()=>{let e={mainImage:{height:f?.height??1,url:f?.url??"",width:f?.width??1},previewImage:k?.url?{height:k.height??1,url:k.url??"",width:k.width??1}:null,...i};return{embed:c,isEmbeddedVideo:!!_&&!x&&!y,video:h,imgSrc:x&&c?.src?c.src:e.mainImage.url,isGif:x,mediaViewerImage:{height:v?.height??1,url:v?.url??"",width:v?.width??1},...e}},[c,_,x,y,f,i,k?.height,k?.url,k?.width,v,h]);return(0,o.jsx)(d,{value:b,children:e})}},42547:(e,t,i)=>{i.d(t,{F:()=>L,Z:()=>R});var a,n,l,r,s=i(667294);i(167912);var o=i(883119),d=i(738390),c=i(293704),u=i(925912),p=i(378019),g=i(47848),m=i(289762),h=i(788388),_=i(297728),y=i(961754),x=i(410150),f=i(346645),v=i(383399),k=i(180881),b=i(66551),P=i(590045),S=i(115642),w=i(145360),j=i(179735),I=i(785893);let C=(0,j.Z)(()=>Promise.resolve().then(i.bind(i,609073)),void 0,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),F=void 0!==a?a:a=i(869807),T=void 0!==n?n:n=i(176849),A=void 0!==l?l:l=i(222969);function L(e){let t=(0,v.Z)(),i=t&&t.isAuth,a=(0,x.HG)(),n=(0,k.Z)(),l=(0,m.Z)({strategy:n?"GRAPHQL":"LEGACY",query:A,variables:{pinId:e,isDesktop:a},options:{fetchPolicy:"network-only"},transformGraphQL:e=>e.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?e.v3GetStelaShoppingCarouselQuery:null,useGetLegacyData:({pinId:e})=>{let t=i?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,y.Z)({name:"ApiResource",noCache:!0,options:{url:t,data:{fields:(0,w.Z)()}}})}}),r=(0,g.Z)(T,l);return r?r.data:null}let K=({children:e,id:t,inCommentFeedRedesignExp:a,isCloseupRelatedPinsAboveTheFoldEnabled:n,storyRef:l,viewParameter:s})=>{let d=void 0!==r?r:r=i(826471),{contentIds:c,displayOptions:u,slot:p,storyId:m,storyType:_,trackingParams:y}=(0,g.Z)(d,l),x=u?.contentDisplay?.componentType,f=(0,h.Z)({clientTrackingParams:y,componentType:x,contextLogData:{story_id:m,story_type:_,content_ids:c},impressionType:"Story",loggingId:m,slotIndex:p||0,viewParameter:s,viewType:3});return(0,I.jsx)(o.xu,{ref:f,marginBottom:a?4:0,marginTop:n?4:a?4:8,children:e},t)};function R({inCommentFeedRedesignExp:e,moduleWidth:t,pinKey:i,trafficSource:a,viewParameter:n}){let{checkExperiment:l}=(0,_.F)(),r=(0,k.Z)(),{closeupWithinMasonryEnabled:m,isCloseupRelatedPinsAboveTheFoldEnabled:h,peekCloseupEnabled:y,viewportSize:x}=(0,S.x4)(),v=(0,g.Z)(F,i),w=(0,s.useRef)(null),[j,T]=(0,s.useState)(t),A=L(v.entityId),R=A?.[0];((0,f.Z)()?s.useEffect:s.useLayoutEffect)(()=>{w.current&&T(w.current?.offsetWidth)},[A]);let Z=r?null:function(e){let t=e?(0,p.G5)(e):null;return t&&"LegacyData"===t.kind?t.singularLegacyData:null}(R),E=l("web_stl_landing_page",{dangerouslySkipActivation:!0}).anyEnabled,D=(0,u.Z)({pinKey:v,requestParams:R?.action?.requestParams??"",surfaceType:"stl",topLevelTrafficSource:a}),z=()=>{l("web_stl_landing_page")};if(!A||A&&0===A.length)return null;let M=e?3:4;y&&"lg"===x&&(M=void 0);let B=(()=>{if(!m&&!(y&&"lg"===x))return{};let e={paddingLeft:`${c.Gd}px`,paddingBottom:`${c.Gd}px`};return m?{...e,border:c.tc}:e})(),O=y&&"lg"===x;return(0,I.jsxs)(s.Fragment,{children:[(0,I.jsx)(d.Z,{show:!!A&&e}),(0,I.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:t,children:(0,I.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:B},rounding:m?6:0,width:t,children:!!A&&A.length>0&&A.map(t=>{if(null==t)return null;let i=t.displayOptions?.displayViewState??void 0,{action:a,containerType:l,storyId:r}=t;if(139!==l)return null;{let l=t.title?.format||"",s=E&&a?.url?a.url:D;return(0,I.jsx)(K,{id:r,inCommentFeedRedesignExp:e,isCloseupRelatedPinsAboveTheFoldEnabled:h,storyRef:t,viewParameter:n,children:(0,I.jsx)(b.Z,{collapseByDefault:!1,displayViewState:h?null:i,forceTappableHeader:!h,headerPaddingRight:P.g9,heading:l,surface:"ShoppingGridSmallCarousel",children:(0,I.jsx)(o.xu,{ref:w,marginTop:M,children:(0,I.jsx)(C,{addContentRight:(0,I.jsx)(o.xu,{width:P.g9}),allowHover:!0,dangerouslySetActionUrl:s,disableHeader:!0,fadeCarouselEdges:!m,gutterWidth:h?c.Gd:8,handleActionButtonClick:z,inCommentFeedRedesignExp:e,itemWidth:m?175:void 0,itemWidthHeightRatio:1,productTagParentPinId:v.entityId,saveButtonOptions:{type:"classic"},story:Z,storyKey:t,styleOverrides:{buttonSizeOverride:"lg",carouselContainerMarginBottom:m?0:void 0,flexDirection:O?"column":"row",justifyContent:"start",navigationFabSize:32,showPagination:m},surface:"ShoppingGridSmallCarousel",view:3,viewParameter:n,width:j})})})},r)}})})})]})}},24574:(e,t,i)=>{i.d(t,{Z:()=>d,_:()=>o});var a=i(282999),n=i(868808);let l=/^\/pin\/(.*[^\/])\/$/,r={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"},s=e=>e&&e.search?(0,n.mB)(e.search).q??"":"",o=e=>{let t=[...e].reverse().find(({location:e})=>e&&!(0,a.L6)(e));return t&&t.location&&(0,a.X$)(t.location)?s(t.location):""};function d(e,t){let i=["pin"],a=[],s=1,o="unknown",d="unknown",c=!0;for(let t=e.length-1;t>0;t-=1){let a=function(e,t){if(t<=0)return"unknown";let i=e[t-1],a=i?.match?.path||"",l=["stela","stl"].includes((0,n.mB)(i?.location?.search).surfaceType??"");return a&&"/pin/:id/visual-search"===a&&l?"shop_feed":a?r[a]||"unknown":"feed_home"}(e,t);i.splice(0,0,a),c&&("pin"===(o=a)?s+=1:c=!1)}for(let t=e.length-2;t>=0;t-=1){let i=(e[t]?.location?.pathname||"").match(l);if(i&&2===i.length)a.splice(0,0,i[1].split("/")[0]);else break}return 1===i.length?(d="deep_linking",o="deep_linking"):(d=i[i.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||t||(d="seo_unauth"),"seo_auth"!==o||t||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:a}}},427871:(e,t,i)=>{i.d(t,{Z:()=>a});let a=(e,t,i)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:i?i.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...t?{orbac_subject_id:t}:Object.freeze({})})},823484:(e,t,i)=>{i.d(t,{Z:()=>d}),i(422578);var a,n=i(140066),l=i(47848),r=i(346645),s=i(115642);let o=void 0!==a?a:a=i(297853);function d({pinKey:e}){let t;let{closeupWithinMasonryEnabled:i}=(0,s.x4)(),a=(0,r.Z)(),d=(0,l.Z)(o,e);if(!i)return{maxHeight:void 0};let c=d?.richMetadata?.products?.[0],u=c?.offerSummary,p=u?.price||u?.standardPrice,g=d?.linkDomain?.officialUser?.firstName,m=!!d?.closeupAttribution?.firstName||g,h=d?.linkUserWebsite?.officialUser?.firstName,_=decodeURIComponent(d?.trackedLink||d?.link||""),{currentDomain:y}=(0,n.Wp)({carouselData:d?.carouselData&&{carouselSlots:d?.carouselData.carouselSlots&&d?.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:d?.carouselData?.index},domain:d?.domain}),x=y.split(".")[0],f=0,v=0;return(t=84+(p?18:0),f+=(d?.closeupUnifiedTitle?23:0)+(m?40:0),v+=(h||g||x)&&_?64:0,t+=Math.max(f,v),a)?{maxHeight:`calc(100vh - 80px - ${t}px)`}:{maxHeight:window.innerHeight-80-t}}},160221:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(297728),n=i(730212),l=i(410150);let r=()=>{let{checkExperiment:e}=(0,a.F)(),{isAuthenticated:t}=(0,n.B)(),i=(0,l.HG)();return()=>t&&i&&e("auth_dweb_cutout_closeup").anyEnabled}},794072:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(616550),n=i(297728),l=i(730212),r=i(410150),s=i(827423);let o=({isShufflePin:e})=>{let{isAuthenticated:t}=(0,l.B)(),i=(0,r.HG)(),o=(0,s.C)((0,a.TH)()),{checkExperiment:d}=(0,n.F)();return(()=>{let a=!1,n=d("closeup_media_viewer").group;return t&&i&&o&&!e&&(a="enabled_corner_button"===n||n.startsWith("employee")),{isCloseupMediaViewerEnabled:a,isCornerButtonEnabled:a}})()}},240031:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(667294),n=i(293704),l=i(42547),r=i(530618),s=i(115642);function o(e,t){let i=(0,l.F)(e),{closeupWithinMasonryEnabled:o}=(0,s.x4)(),d=(t.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type)).find(e=>(0,r.HM)(e?.story_type)),c=(0,a.useMemo)(()=>({...n.ne}),[]),u=(0,a.useMemo)(()=>({...n.tV}),[]),p=(0,a.useMemo)(()=>({...n.MB}),[]),g=[c];return(i&&i.length>0&&g.push(u),d&&g.push(p),o)?{closeupMasonryModules:g,skinToneModule:d}:{closeupMasonryModules:[],skinToneModule:void 0}}},809394:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(297728),n=i(730212),l=i(410150);function r(e){let{isAuthenticated:t,isRTL:i}=(0,n.B)(),r=(0,l.HG)(),{checkExperiment:s}=(0,a.F)(),o="";return e&&t&&r&&!i?o=s("closeup_auth_related_pins_above_fold_2024_dweb").group:e||t||!r||i||(o=s("closeup_unauth_related_pins_above_fold_2024_dweb").group),{isCloseupRelatedPinsAboveTheFoldEnabled:!!o&&"control"!==o&&"control_1"!==o,closeupWithinMasonryEnabled:"enabled_side_by_side"===o||"enabled_side_by_side_1"===o,peekCloseupEnabled:"enabled_peek"===o||"enabled_peek_1"===o,closeupRelatedPinsAboveTheFoldExperimentGroup:o}}},868318:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(297728),n=i(730212),l=i(410150);let r=()=>{let{isAuthenticated:e}=(0,n.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,a.F)();return()=>{let a=!1;return{isShuffleRendererEnabled:a=e?t?i("auth_dweb_shuffle_renderer_closeup_v2").anyEnabled:i("auth_mweb_shuffle_renderer_closeup").anyEnabled:i("unauth_web_shuffle_renderer_closeup").anyEnabled,isCollageEnabled:a&&e&&t&&i("auth_web_collage_closeup").anyEnabled}}}},239931:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(514796),n=i(983302),l=i(530871);let r=e=>{let t={...e.pin,...e.pinResource.data},i=(0,a.Z)({carouselData:t.carousel_data,images:t.images,product:(t.rich_metadata||t.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,hideBackButton:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:t,pinId:e.pinId,quickPromoteModalTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!t.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:i&&{...i,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:(0,l.Yf)(t.images?.["236x"])},v1DeprecationModalDismissed:!1}};function s(e){let{pin:t,pinId:i,pinResource:a}=e,{getMainPinImage:l}=(0,n.Z)({pinKey:{type:"deprecated",data:t}});return r({pin:t,pinId:i,pinResource:a,mainImage:l()})}},775725:(e,t,i)=>{i.d(t,{Z:()=>d}),i(167912);var a,n=i(47848),l=i(297728),r=i(410150),s=i(383399);let o=void 0!==a?a:a=i(504344);function d({pinKey:e}){let{checkExperiment:t}=(0,l.F)(),i=(0,r.HG)(),a=(0,n.Z)(o,e),d=(0,s.Z)();if(!i||!d.isAuth)return{shouldFetchSLURPFields:!1,isInCloseupShoppingRefinementsExp:!1};let c=t("web_closeup_shopping_refinements_auth",{dangerouslySkipActivation:!0}).group;return{shouldFetchSLURPFields:!!c,isInCloseupShoppingRefinementsExp:!0===a.isEligibleForCloseupOneBarRefinements&&!1===a.isPromoted&&"enabled"===c}}},912764:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(297728);function n(){let{checkExperiment:e}=(0,a.F)();return{isEnabled:e("dweb_closeup_remove_back_button").anyEnabled}}},955521:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294),n=i(876594);let l={"#FFF8FA":n.ieP,"#FFEBF1":n.vum,"#FFDFE9":n.sgC,"#FFBED2":n.LM$,"#FE8EB1":n.Fgx,"#F76593":n.UuO,"#EE376A":n.Hq6,"#DE2C62":n.MdR,"#C31952":n.CyD,"#A30C4A":n.Hw4,"#82053E":n.s5C,"#630233":n.ZSy,"#FFF7F7":n.LFj,"#FFEBEB":n.PT2,"#FFE0E0":n.jRv,"#FCBBBB":n.Euu,"#F47171":n.rP7,"#EB4242":n.X9x,"#E60023":n.x_d,"#CC0000":n.CTP,"#B60000":n.E_l,"#9B0000":n.Ky9,"#800000":n.XxE,"#660000":n.dDG,"#F8F7FF":n.SBY,"#F0EDFF":n.D_l,"#E9E4FF":n.Uor,"#D5C7FF":n.uu9,"#B190FF":n.rhk,"#9E68FF":n.TGR,"#8A39FA":n.NNM,"#812AE7":n.ckK,"#6B16CA":n.UBF,"#550AA9":n.USj,"#400387":n.tzq,"#2C0066":n.yuL,"#F7FBFF":n.Q07,"#E6F4FF":n.pj3,"#D7EDFF":n.odg,"#ABDBFF":n.Hjq,"#75BFFF":n.PjF,"#45A3FE":n.Gfz,"#007CFF":n.UBL,"#0074E8":n.seF,"#005FCB":n._cF,"#004BA9":n.QaI,"#003C96":n.GXO,"#002966":n.UdT,"#F7FDFC":n.ZfM,"#E6FAF5":n.Mx6,"#CCF6EE":n.ePR,"#75E4D5":n.qvU,"#48D5C6":n._UF,"#26C0B4":n.wWt,"#009990":n.du8,"#00857C":n.DhD,"#006B6C":n.Kw7,"#005C62":n.SeB,"#005062":n.NNn,"#003440":n.NVe,"#F6FDF5":n.KFJ,"#E3FAE1":n.gkV,"#C3F9C2":n.dN7,"#A4F9AC":n.$yy,"#6BEC8C":n._TW,"#39D377":n.Wr$,"#1DAD65":n.wkj,"#008753":n.x9D,"#005F3E":n.GXs,"#00422C":n.dBA,"#003020":n.$Az,"#00261A":n.$nM,"#FFFEDB":n.W3y,"#FFFEBB":n.H3M,"#FFFD92":n.moE,"#FAE600":n.ZOV,"#FDC900":n.EEg,"#E18D00":n.eXF,"#D86800":n.fDM,"#BD5B00":n.bkF,"#AA4900":n.wiR,"#943A00":n.Aaq,"#7C2D00":n.KK8,"#662400":n.IJR,"#FFF6EB":n.yMU,"#FFF0DB":n.RfW,"#FFE4C1":n.C9E,"#FFC58F":n.xPW,"#FDA161":n.Qip,"#F77A38":n.Z_W,"#FF5B45":n.rwU,"#DE3700":n.WfM,"#C32F00":n.$pQ,"#A42700":n.t3t,"#842000":n.Ek9,"#660E00":n.rk0,"#F9F9F9":n.ni8,"#F1F1F1":n.I0I,"#E9E9E9":n.mJW,"#CDCDCD":n.BfK,"#A5A5A5":n.$Vb,"#767676":n.BOn,"#4A4A4A":n.Pv2,"#2B2B2B":n.pzk,"#191919":n.jdn};function r(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}function s([e,t,i]){return e/=255,t/=255,i/=255,function([e,t,i]){return e/=.95047,t/=1,i/=1.08883,e=e>.008856?Math.cbrt(e):7.787*e+16/116,[116*(t=t>.008856?Math.cbrt(t):7.787*t+16/116)-16,500*(e-t),200*(t-(i=i>.008856?Math.cbrt(i):7.787*i+16/116))]}([.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),.2126*e+.7152*t+.0722*i,.0193*e+.1192*t+.9505*i])}var o=i(297728),d=i(115642);function c(){let{checkExperiment:e}=(0,o.F)(),{isCloseupMediaViewerOpen:t}=(0,d.x4)(),{anyEnabled:i,group:n}=e("closeup_dweb_media_viewer_clickthrough"),c=(0,a.useCallback)(e=>e&&i&&"enabled_corner_persistent_color"===n&&t?function(e){let t;let i=s(r(e)),a="",n=1/0;for(let e in l){let t=s(r(e)),o=Math.sqrt(Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2)+Math.pow(i[2]-t[2],2));o<n&&(n=o,a=l[e])}let o=a.match(/-(\d+)\)/);if(!o||!o[1])return null;let d=o?parseInt(o[1],10):null;return d?(d<100?(a=a.replace(`-${d})`,"-100)"),d=100):d>700&&(a=a.replace(`-${d})`,"-700)"),d=700),t=100===d?a.replace("-100)","-50)"):450===d?a.replace("-450)","-400)"):d?a.replace(`-${d})`,`-${d-100})`):a,{buttonColor:a,hoverColor:t,textColor:d&&d<=400?"default":"light"}):null}(e)??{buttonColor:null,hoverColor:null,textColor:null}:{buttonColor:null,hoverColor:null,textColor:null},[i,n,t]);return{clickthroughExpEnabled:i,clickthroughExpGroup:n,getClickthroughColor:c}}},649787:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(796768);let n=(0,i(989820).RL)(12,(e,t)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:t.didLongClickThrough||!1,did_pin_clickthrough:t.didPinClickThrough||!1,did_repin:t.didRepin||!1,is_own_or_group_pin:t.is_own_or_group_pin||!1,login_page_type:t.loginPageType||"unknown",scroll_to_threshold:t.scrollToThreshold,pin_image_signature:t.pin_image_signature,is_creator_card_shown:!!(0,a.nU)({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}))},133765:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(883119),n=i(785893);let l=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function r({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:t=!1,text:i}){let r=t?"200":"300";return i.split(new RegExp(/(#\S*)/)).map((t,i)=>{let s=`${i}-${t}`;return t.match(l)?(0,n.jsx)(a.xv,{color:"link",inline:!0,size:r,children:(0,n.jsx)(a.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},s):(0,n.jsx)(a.xv,{color:e?"subtle":void 0,inline:!0,size:r,children:t},s)})}},556541:(e,t,i)=>{i.d(t,{Z:()=>d}),i(167912);var a,n=i(573706),l=i(47848),r=i(891985),s=i(151958);let o=void 0!==a?a:a=i(25316),d=function({clientTrackingParams:e,pinKey:t,pinId:i,viewParameter:a,trafficSource:d}){let{logContextEvent:c}=(0,n.v)(),u=(0,l.Z)(o,t),p=(0,s.Z)(u);return()=>{let t=p();c({event_type:12,object_id_str:i,view_type:3,component:85,view_parameter:a,clientTrackingParams:e,aux_data:{...t}}),c({event_type:8948,clientTrackingParams:e,view_type:3,view_parameter:a,component:85,object_id_str:i,aux_data:{click_type:"clickthrough",closeup_navigation_type:d&&(0,r.sV)(d)?"deeplink":"click",...t}})}}},182315:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(667294),n=i(883119),l=i(133765),r=i(573706),s=i(115642),o=i(785893);let d=e=>e.replace(/\s+/g," "),c=e=>null!=e&&e>-1,u=(e,t)=>{let i=t.substr(0,e);return(e??0)-(i.length-d(i).length)},p=({color:e,mention:t,tagObjectId:i,tagType:a,textSize:l})=>{let{logContextEvent:s}=(0,r.v)();return(0,o.jsx)(n.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:11915,aux_data:{tag_id:i,tag_type:a}})},underline:"none",children:(0,o.jsx)(n.xv,{color:e,inline:!0,overflow:"normal",size:l,weight:"bold",children:t},t)},i)},g=({description:e,mentionLinkColor:t,shouldAdjustOffset:i,shouldMakeHashtagLinksFromText:r,textSize:d,userMentionTags:g})=>{let{closeupWithinMasonryEnabled:m,peekCloseupEnabled:h}=(0,s.x4)();if(0===g.length)return(0,o.jsx)(a.Fragment,{children:e});let _=0,y=[];return[...g].map(t=>i?{...t,offset:u(t.offset??0,e)}:t).sort((e,t)=>(e.offset??0)-(t.offset??0)).filter(e=>c(e.offset)&&c(e.length)).forEach(i=>{let a=i.offset??0,n=i.length??0,l=e.substr(_,a-_),r=e.substr(a,n);y.push(l),y.push((0,o.jsx)(p,{color:t,mention:r,tagObjectId:i.objectId,tagType:i.tagType,textSize:d})),_=a+n}),y.push(e.substr(_)),(r?y.flatMap(e=>"string"!=typeof e?e:(0,l.Z)({closeupWithinMasonryEnabled:m,peekCloseupEnabled:h,text:e})):y).reduce((e,t)=>(0,o.jsxs)(n.xv,{inline:!0,size:d,children:[e,t]}),null)}},281584:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(252071);async function n(e,t){let i=async()=>{let e={name:t.bt("Quick saves", "Quick Saves", "quickSave.defaultBoardName", undefined, true),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return a.Z.create("BoardResource",e).callCreate()},{resource_response:{data:n}}=await i(),l=async t=>a.Z.create("RepinResource",{board_id:t,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await l(n.id),n}},925912:(e,t,i)=>{i.d(t,{Z:()=>u}),i(167912);var a,n=i(47848),l=i(488379),r=i(297728),s=i(691566),o=i(665992),d=i(122882);let c=void 0!==a?a:a=i(800369);function u({pinKey:e,requestParams:t,surfaceType:i,topLevelTrafficSource:a}){let u=(0,n.Z)(c,e),{checkExperiment:p}=(0,r.F)(),g=p("web_cutouts",{dangerouslySkipActivation:!0}).anyEnabled,m=(u.visualObjects||[]).filter(e=>e.isStela),{getNormalizedPinImage:h}=(0,l.Z)({pinKey:u,maxWidth:s.RZ}),{height:_,width:y}=h(),x="";if(m.length>0){let[e]=m,{x:n,y:l,w:r,h:s}=e,c=e&&(0,o.Z)({cropArea:{x:n,y:l,w:r,h:s},scaledWidth:y,scaledHeight:_});x=c&&(0,d.Z)({cropArea:c,cropSource:g?9:4,surfaceType:i,requestParams:t,title:e.label,trafficSource:a})}else x=(0,d.Z)({surfaceType:i});return`/pin/${u.entityId}/visual-search/${x}`}},70726:(e,t,i)=>{i.d(t,{Z:()=>j});var a=i(667294),n=i(883119),l=i(354765),r=i(573706),s=i(144326),o=i(770975),d=i(687768),c=i(66551),u=i(115642),p=i(689658),g=i(785893);let m=e=>0===e?0:2,h=({children:e,dangerouslySetInlineStyle:t,marginTop:i})=>(0,g.jsx)(n.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:i,children:e}),_=({content:e,order:t,type:i})=>{if(!e)return null;let a=i===p.X.HEADER,l=[p.X.HEADER,p.X.BOLD].includes(i),r=t>0&&a?4:m(t);return(0,g.jsx)(h,{marginTop:r,children:(0,g.jsx)(n.xv,{size:"200",weight:l?"bold":"normal",children:e})})},y=({content:e,order:t})=>e?(0,g.jsx)(h,{marginTop:m(t),children:e}):null,x=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,g.jsx)(h,{marginTop:m(t),children:e.map(e=>(0,g.jsxs)(n.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,g.jsx)(n.xv,{inline:!0,size:"200",weight:"bold",children:""}),(0,g.jsx)(n.xu,{marginStart:1,children:(0,g.jsx)(n.xv,{size:"200",children:e})})]},e))}):null,f=({accessibilityLabel:e,content:t,order:i})=>t&&"object"==typeof t?(0,g.jsx)(h,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:m(i),children:(0,g.jsx)(n.iA,{accessibilityLabel:e,children:(0,g.jsx)(n.iA.Body,{children:Object.entries(t).map(([e,t],i)=>(0,g.jsxs)(n.iA.Row,{children:[(0,g.jsx)(n.iA.Cell,{children:(0,g.jsx)(n.xv,{size:"100",weight:"bold",children:e})}),(0,g.jsx)(n.iA.Cell,{children:(0,g.jsx)(n.xv,{size:"100",children:String(t)})})]},i))})})}):null,v=({accessibilityLabel:e,content:t,order:i})=>{if(!Array.isArray(t)||t.length<2)return null;let a=t[0],l=t.slice(1);return(0,g.jsx)(h,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:m(i),children:(0,g.jsxs)(n.iA,{accessibilityLabel:e,children:[(0,g.jsx)(n.iA.Header,{children:(0,g.jsx)(n.iA.Row,{children:a.map((e,t)=>(0,g.jsx)(n.iA.HeaderCell,{children:(0,g.jsx)(n.xv,{size:"100",weight:"bold",children:e})},t))})}),(0,g.jsx)(n.iA.Body,{children:l.map((e,t)=>(0,g.jsx)(n.iA.Row,{children:e.map((e,t)=>(0,g.jsx)(n.iA.Cell,{children:(0,g.jsx)(n.xv,{size:"100",children:e})},t))},t))})]})})},k=e=>{let t=(0,s.ZP)();switch(e.type){case p.X.POINTS:return(0,g.jsx)(x,{...e});case p.X.SPECS:return(0,g.jsx)(f,{accessibilityLabel:t.bt("Specification view of description", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true),...e});case p.X.TABLE:return(0,g.jsx)(v,{accessibilityLabel:t.bt("Table view of description", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true),...e});case p.X.ELEMENT:return(0,g.jsx)(y,{...e});default:return(0,g.jsx)(_,{...e})}};function b({descriptions:e,onLoad:t}){return((0,a.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},i)=>(0,g.jsx)(k,{content:e,order:i,type:t},i))}let P=({children:e,inMwebPdpCommentsExp:t,paddingY:i,closeupWithinMasonryEnabled:n})=>(0,g.jsx)(a.Fragment,{children:n?(0,g.jsx)(a.Fragment,{children:e}):(0,g.jsx)(l.Z,{inMwebPdpCommentsExp:t,paddingY:i,topBorder:!0,children:e})}),S=({inCommentFeedRedesignExp:e,inMwebPdpCommentsExp:t,onOpen:i,onToggle:l,structuredDescription:r,type:m})=>{let h=(0,s.ZP)(),_=(0,o.E)(),y=(0,a.useCallback)(()=>{_&&_.markConstraintComplete("description")},[_]),x=(0,a.useRef)(null),[f,v]=(0,a.useState)(!1),{closeupWithinMasonryEnabled:k}=(0,u.x4)();(0,a.useEffect)(()=>{let e;(x.current&&((e=x.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||r.length>1)&&v(!0)},[x,r]);let P="expandable"===m&&r[0].type===p.X.PARAGRAPH,S=P?(0,g.jsx)(n.xv,{ref:x,lineClamp:1,size:"200",children:r[0].content}):null,w=e?8:1,j=h.bt("Product details", "Product Details", "productDetails.accordionHeader.text", undefined, true);return k||f||!S?k?(0,g.jsx)(c.Z,{heading:j,children:(0,g.jsx)(n.xu,{paddingY:P?0:w,children:(0,g.jsx)(b,{descriptions:r,onLoad:y})})}):(0,g.jsx)(d.Z,{arrowDirection:"expandable"===m?"arrow-down":"arrow-forward",content:(0,g.jsx)(n.xu,{paddingY:P?0:w,children:(0,g.jsx)(b,{descriptions:r,onLoad:y})}),header:j,inCommentFeedRedesignExp:e,inMwebPdpCommentsExp:t,onOpen:i,onToggle:l,previewContent:S,previewContentHeight:P?20:0,shouldToggleOnBodyTap:!0}):(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)(n.kC,{direction:"column",gap:e?3:0,children:[(0,g.jsx)(n.xu,{paddingY:e?0:1,children:(0,g.jsx)(n.xv,{size:"300",weight:"bold",children:j})}),(0,g.jsx)(n.xu,{marginBottom:e?0:1,marginEnd:6,children:S})]})})},w=({isOpen:e,onOpen:t,structuredDescription:i})=>{let[l,r]=(0,a.useState)(!1),d=(0,s.ZP)(),c=(0,a.useRef)(null),p=(0,o.E)(),{closeupWithinMasonryEnabled:m}=(0,u.x4)(),h=(0,a.useCallback)(()=>{p&&c.current&&p.markConstraintComplete("description")},[p]),_=l&&!e,y=e?d.bt("See less", "See less", "productDescription.productDescriptionPreview.cta", undefined, true):d.bt("See more", "See more", "productDescription.productDescriptionPreview.cta", undefined, true);return(0,a.useLayoutEffect)(()=>{!(!c.current||Number.isNaN(c.current.offsetHeight)||150>Number(c.current.offsetHeight))&&(l||r(!0))},[l,c.current?.offsetHeight]),(0,g.jsxs)(n.xu,{"data-test-id":"product-description-preview",display:c.current?"block":"visuallyHidden",paddingY:1,children:[(0,g.jsx)(n.xv,{size:m?"400":"300",weight:"bold",children:d.bt("Product details", "Product Details", "productDescription.productDescriptionPreview.header", undefined, true)}),(0,g.jsxs)(n.xu,{marginBottom:_?0:2,marginTop:2,position:"relative",children:[(0,g.jsx)(n.xu,{ref:c,height:_?150:"auto",overflow:_?"hidden":"visible",children:(0,g.jsx)(b,{descriptions:i,onLoad:h})}),l&&(0,g.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:_?1:0,position:"absolute",width:"100%"})]}),l&&(0,g.jsx)(n.iP,{onTap:t,children:(0,g.jsx)(n.xv,{size:"200",weight:"bold",children:y})})]})};function j(e){let{commerceData:t,inCommentFeedRedesignExp:i,inMwebPdpCommentsExp:n,structuredDescription:l,type:s="accordion",viewParameter:o}=e,{setIsProductDetailsExpanded:d,closeupWithinMasonryEnabled:c}=(0,u.x4)(),{logContextEvent:m}=(0,r.v)(),[h,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m({event_type:120,component:13597,view_type:3,view_parameter:o,aux_data:{...t}})},[]);let y=()=>{_(!h),m({event_type:101,component:13597,view_type:3,element:h?13278:13277,view_parameter:o,aux_data:{...t}}),m({event_type:101,component:13597,view_type:3,element:10492,view_parameter:o,aux_data:{...t}})};if(0===l.length)return null;let x="expandable"===s&&l[0].type===p.X.PARAGRAPH;return"preview"===s?(0,g.jsx)(w,{...e,isOpen:h,onOpen:y}):(0,g.jsx)(P,{closeupWithinMasonryEnabled:c,inMwebPdpCommentsExp:n,paddingY:x?i?4:3:0,children:(0,g.jsx)(S,{...e,onOpen:y,onToggle:e=>{d&&d(e)}})})}},354765:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(883119),n=i(679482),l=i(115642),r=i(716259),s=i(617115),o=i(785893);function d({children:e,inMwebPdpCommentsExp:t,paddingY:i,topBorder:d,marginBottom:c,marginEnd:u}){let{closeupWithinMasonryEnabled:p}=(0,l.x4)();return(0,o.jsxs)(a.xu,{children:[t?(0,o.jsx)(s.Z,{marginStart:n.D6+r.xh}):null,(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:!d||t||p?void 0:"1px solid #efefef"}},"data-test-id":"product-metadata-border",marginBottom:c,marginEnd:u,paddingY:i,width:"100%",children:e})]})}},313255:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),n=i(182510),l=i(144326),r=i(115642),s=i(785893);function o({colorOverride:e,isSoldOut:t,isStale:i,productDetails:o,showSalesPrice:d,type:c}){let{isCloseupRelatedPinsAboveTheFoldEnabled:u,peekCloseupEnabled:p}=(0,r.x4)(),{maxPrice:g,minPrice:m,price:h,standardPrice:_}=o,y=!!h&&!!_&&h!==_,x="100";"heading"!==c||p?"mobileHeading"===c?x="300":("cutout"===c||p)&&(x="200"):x="400";let f="bold";u&&(f="normal");let v=(0,l.ZP)(),k=v.bt("See price on site", "See price on site", "product.price.stale", undefined, true),b=v.bt("Sold out", "Sold out", "product.price.soldOut", undefined, true);return i?(0,s.jsx)(a.xv,{color:"subtle",size:x,weight:f,children:k}):(0,s.jsxs)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[t&&(0,s.jsx)(a.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,s.jsx)(a.xv,{color:"subtle",size:x,weight:f,children:b})}),(!!h||!!m||!!g)&&(0,s.jsx)(a.xv,{color:e||(y?"shopping":"default"),size:x,weight:f,children:(0,s.jsx)("span",{children:(0,n.Z)({maxPrice:g,minPrice:m,price:h})})}),y&&!d&&(0,s.jsx)(a.xu,{marginStart:1,children:(0,s.jsx)(a.xv,{color:"cutout"===c?"dark":"subtle",size:x,weight:["heading","mobileHeading"].includes(c)?"normal":"bold",children:(0,s.jsx)("span",{style:{textDecoration:"line-through"},children:_})})})]})}},656485:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(883119),n=i(986732),l=i(115642),r=i(53426),s=i(895607),o=i(785893);function d({count:e,countType:t,countFormat:i,hideSeparationDot:d,bracket:c,ratingValue:u,unauthPdp:p,shippingInfo:g}){let{closeupWithinMasonryEnabled:m,isCloseupRelatedPinsAboveTheFoldEnabled:h,peekCloseupEnabled:_}=(0,l.x4)();return(0,o.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:m?4:void 0,rowGap:8}},display:"flex",marginTop:h?0:1,wrap:!0,children:[(0,o.jsx)(r.Z,{bracket:c,count:e,countFormat:i,countType:t,rating:u,textSize:_?"200":"300",unauthPdp:p}),(0,o.jsx)(a.xu,{marginStart:!m&&(0,s.Z)({count:e,rating:u})&&d?2:0,children:(0,o.jsx)(n.Z,{customStyles:{color:"default",size:_?"200":"300"},freeShippingPrice:g?.freeShippingPrice,freeShippingValue:g?.freeShippingValue,showPrevDot:(0,s.Z)({count:e,rating:u})&&!d})})]})}},888156:(e,t,i)=>{i.d(t,{Z:()=>P});var a=i(667294),n=i(883119),l=i(794072),r=i(545007),s=i(573706),o=i(144326),d=i(827106),c=i(87575),u=i(409065),p=i(785893);function g({currentlySelectedIndex:e,index:t,onSelect:i,pinId:g,isDarkMode:m=!1,isSelectOnHover:h,size:_,thumbnail:y,mediaType:x="image",viewParameter:f}){let{logContextEvent:v}=(0,s.v)(),k=(0,r.I0)(),b=(0,o.ZP)(),[P,S]=(0,a.useState)(!1),{isCloseupMediaViewerEnabled:w}=(0,l.Z)({isShufflePin:!1}),j=(0,a.useCallback)(e=>{"video"===x&&e&&!P&&(S(!0),v({event_type:13,component:13596,element:12831,view_type:3,view_parameter:f}))},[v,x,f,P]),I=(0,d.Z)({onVisibilityChanged:j}),C=()=>{k((0,u.yR)(g,t)),i(t)},F=e===t||!e&&0===t;return(0,p.jsx)(n.xu,{ref:I,marginBottom:4,children:(0,p.jsx)(n.iP,{onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),h&&C()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),h||C()},rounding:w?4:void 0,children:(0,p.jsx)(c.Z,{isDarkMode:m,outlined:F,rounding:w?4:void 0,children:(0,p.jsxs)(n.xu,{position:"relative",children:[(0,p.jsx)(n.zd,{height:_,wash:!0,width:_,children:(0,p.jsx)(n.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}),"video"===x&&(0,p.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,p.jsx)(n.JO,{accessibilityLabel:b.bt("Secondary carousel video icon", "Secondary Carousel Video Icon", "secondaryCarousel.carouselItem.videoIndicatorIcon", undefined, true),color:"light",icon:"play",size:20})})]})})})})}var m=i(512541),h=i(519549),_=i(749465),y=i(235838),x=i(115642),f=i(742883),v=i(584288);let k={md:120,sm:52},b=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
`;function P({carouselSlots:e,commerceData:t={},isSelectOnHover:i,onImageSelect:r,pinId:o,selectedIndex:d,size:c,surfaceType:u,viewParameter:P}){let S;let{logContextEvent:w}=(0,s.v)(),{isCloseupMediaViewerEnabled:j}=(0,l.Z)({isShufflePin:!1}),[I,C]=(0,a.useState)(),[F,T]=(0,a.useState)(0),[A,L]=(0,a.useState)(),[K,R]=(0,a.useState)(),[Z,E]=(0,a.useState)(),[D,z]=(0,a.useState)(!1),[M,B]=(0,a.useState)(e.length>=4),[O,V]=(0,a.useState)(!1),H=(0,v.t)(),{closeupWithinMasonryEnabled:U,peekCloseupEnabled:N}=(0,x.x4)(),W=(0,a.useRef)(null),$=(0,a.useRef)(),G=k[c],q=j&&"media-viewer"===u;(0,a.useEffect)(()=>{w({event_type:120,component:13596,view_type:3,view_parameter:P,aux_data:{pin_id:o,...t}})},[]),(0,a.useEffect)(()=>{if(!I&&W.current){let e=W.current.getBoundingClientRect();T(Math.floor(e.top)),L(Math.floor(e.bottom)),E(Math.floor(e.top)),R(Math.floor(e.bottom))}},[W.current,I]),(0,a.useEffect)(()=>{if(W.current){let{height:e,top:t,bottom:i}=W.current.getBoundingClientRect();T(Math.floor(t)),L(Math.floor(i)),C(Math.floor(e))}},[e.length]),(0,a.useEffect)(()=>{!I&&W.current&&C(Math.floor(W.current.getBoundingClientRect().height))},[W.current]),(0,a.useEffect)(()=>{F&&Z&&K&&A&&e.length>=4&&(F<Z?z(!0):z(!1),A>=490+H+20?B(!0):B(!1))},[F,A,Z,K]);let X=()=>{O||(V(!0),w({event_type:110,component:13596,view_type:3,view_parameter:P,aux_data:{pin_id:o,...t}}))},Q=(0,a.useRef)(X);(0,a.useEffect)(()=>{Q.current=X});let Y=$.current;(0,a.useEffect)(()=>{let e=(0,y.Z)(()=>{if(W.current){let e=W.current.getBoundingClientRect();T(Math.floor(e.top)),L(Math.floor(e.bottom)),Q.current()}},16);return Y?.addEventListener("scroll",e),()=>{Y?.removeEventListener("scroll",e)}},[Y]);let J=(e,i)=>{r&&(w({event_type:101,component:13596,element:"image"===i?11922:12831,view_type:3,view_parameter:P,aux_data:{...t}}),r(e))},ee=e=>{0!==e&&(S&&S.cancel(),W.current&&$.current&&((S=(0,_.Z)($.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{S=null}})).start(),X()))};return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${20+(N?-12:0)+(U?12:0)}px`}},overflow:"hidden",position:"relative",children:[(0,p.jsx)(m.Z,{unsafeCSS:b}),(0,p.jsx)("div",{ref:$,className:"ProductCarousel-InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:490,cursor:"default"},children:(0,p.jsx)("div",{"aria-hidden":"true",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"default"},children:(0,p.jsx)(n.xu,{ref:W,alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:1,marginEnd:U?0:6,marginTop:1,position:"relative",width:G+4,children:e.map((e,t)=>{let{images:a,videos:n}=e,{thumbnail:l,mediaType:r}=n?{thumbnail:n.cover_image_url,mediaType:"video"}:{thumbnail:h.Z({images:a,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,p.jsx)(g,{currentlySelectedIndex:d,index:t,isDarkMode:q,isSelectOnHover:i,mediaType:r,onSelect:()=>{J(t,r)},pinId:o,size:G,thumbnail:l||"",viewParameter:P},`carousel-item-${e.image_signature||""}-${t}`)})})})}),!!I&&e.length>3&&(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:I>490?494:I+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:[D&&(0,p.jsx)(f.Z,{direction:"up",isDarkMode:q,onScroll:e=>{e.preventDefault(),e.stopPropagation(),ee(-100)},size:c}),M&&(0,p.jsx)(f.Z,{direction:"down",isDarkMode:q,onScroll:e=>{e.preventDefault(),e.stopPropagation(),ee(100)},size:c})]})]})}},498106:(e,t,i)=>{i.d(t,{Z:()=>g});var a,n=i(667294);i(167912);var l=i(883119),r=i(889870),s=i(47848),o=i(343583),d=i(453854),c=i(115642),u=i(785893);let p=void 0!==a?a:a=i(774897);function g({clientTrackingParams:e,color:t,link:i,onClickThrough:a,onLoad:g,pinKey:m,text:h}){let _=(0,s.Z)(p,m),{peekCloseupEnabled:y}=(0,c.x4)(),x=(0,o.Z)({href:{pathname:i,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:_&&{attributionSourceId:_.attributionSourceId,board:_.board&&{url:_.board.url},campaignId:_.campaignId,entityId:_.entityId,isDownstreamPromotion:_.isDownstreamPromotion,isPromoted:_.isPromoted,pinner:_.pinner&&{username:_.pinner.username},pinPromotionId:_.pinPromotionId,promoter:_.promoter&&{entityId:_.promoter.entityId},storyPinDataId:_.storyPinDataId,trackingParams:_.trackingParams,advertiserId:_.advertiserId}}});return(0,n.useEffect)(()=>{"function"==typeof g&&g()},[g]),(0,u.jsx)(d.q,{children:({hovered:n})=>(0,u.jsx)(r.Z,{clientTrackingParams:e,hovered:n,pinKey:_,viewType:3,children:(0,u.jsx)(l.ZP,{color:t,fullWidth:y,href:i,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),a({componentType:194}),x({event:e})},rel:"nofollow",size:"lg",text:h})})})}},193186:(e,t,i)=>{i.d(t,{i:()=>a,j:()=>n});let a=2,n=236},24116:(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var a=i(667294),n=i(616550),l=i(241925),r=i(868808),s=i(785893);function o({buttonText:e,clientTrackingParams:t,imageSrc:i,pinDescription:o,pinId:d,shownWithinMasonry:c}){let u=(0,n.TH)(),[p,g]=(0,a.useState)(!!(0,r.mB)(u.search).share);return(0,s.jsx)(l.default,{buttonText:e,controllerOptions:{flyoutDisplayOptions:{showCaret:!0,shownWithinMasonry:c},isFlyoutOpen:p,loggingOptions:{component:228,element:10942,viewParameter:157,viewType:3},onFlyoutDismiss:()=>g(!1),onToggleFlyout:()=>g(!p),sendObject:{type:"pin",description:o,id:d,imageUrl:i,url:`/pin/${d}/`,clientTrackingParams:t}},iconColor:"white"})}},241925:(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var a=i(883119),n=i(219098),l=i(144326),r=i(101736),s=i(785893);function o({controllerOptions:e,iconColor:t,iconOnly:i,buttonText:o,tabIndex:d=0,closeupWithinMasonryEnabled:c=!1}){let u=(0,l.ZP)(),p=new a.Ry(5);return(0,s.jsx)(r.Z,{...e,children:({handleSendShareFlyoutButtonClick:e})=>(0,s.jsx)(a.u,{inline:!0,text:u.bt("Share", "Share", "Closeup.SharePin.Icon", undefined, true),zIndex:p,children:(0,s.jsx)(n.Z,{accessibilityLabel:u.bt("Send", "Send", "Accessible label for button to send this pin", undefined, true),bgColor:c?"white":void 0,buttonText:o,handleClick:()=>e(),icon:"share",iconColor:t,iconOnly:i,tabIndex:d,testId:"closeup-share-button"})})})}},893190:(e,t,i)=>{i.d(t,{N:()=>d,d:()=>o});var a=i(667294),n=i(942429),l=i(498490),r=i(785893);let{Provider:s,useHook:o}=(0,l.Z)("Flag"),d=({children:e})=>{let[t,i]=(0,a.useState)(),[l,o]=(0,a.useState)(n.Zw.REPORT),[d,c]=(0,a.useState)(n.qb.STARTED),[u,p]=(0,a.useState)(),[g,m]=(0,a.useState)(),h=(0,a.useMemo)(()=>({flagReason:g,flow:l,status:d,selectedReason:u,modalTitle:t,setFlagReason:m,setFlow:o,setModalTitle:i,setStatus:c,setSelectedReason:p}),[t,l,d,u,g]);return(0,r.jsx)(s,{value:h,children:e})}},942429:(e,t,i)=>{i.d(t,{Vm:()=>l,Zw:()=>a,qb:()=>n});let a={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},n={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},l={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},194996:(e,t,i)=>{i.d(t,{Z:()=>N});var a,n,l=i(667294);i(422578);var r=i(883119),s=i(293704),o=i(823484),d=i(241925),c=i(573706),u=i(803611),p=i(47848),g=i(144326),m=i(115642),h=i(415787),_=i(785893);function y(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let x={__style:{backgroundColor:"#000"}},f=void 0!==a?a:a=i(190490);class v extends l.PureComponent{constructor(...e){super(...e),y(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.props.onRestartVideo?.({event:e}),(0,h.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),y(this,"handleShareVideo",()=>{let{clientTrackingParams:e,onToggleFlyout:t,isFlyoutOpen:i,pinId:a,requireAuth:n,logContextEvent:l}=this.props;if(i&&(0,h.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),l({event_type:101,component:179,object_id_str:a,view_type:3,view_parameter:156,element:11731,clientTrackingParams:e}),n){n();return}t&&t()}),y(this,"handleExternalSend",()=>{(0,h.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),y(this,"renderReplayButton",()=>(0,_.jsx)(r.iP,{accessibilityLabel:this.props.i18n.bt("Watch again", "Watch again", "Button when pressed restarts the video", undefined, true),onTap:this.handleRestartVideo,rounding:2,children:(0,_.jsxs)(r.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,_.jsx)(r.xu,{marginEnd:3,children:(0,_.jsx)(r.JO,{accessibilityLabel:this.props.i18n.bt("Watch again", "Watch again", "Button when pressed restarts the video", undefined, true),color:"inverse",icon:"refresh",size:18})}),(0,_.jsx)(r.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("Watch again", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})),y(this,"renderShareButton",()=>{let{clientTrackingParams:e,gridDescription:t,imageSrc:i,isFlyoutOpen:a,onFlyoutDismiss:n,pinId:l}=this.props;return(0,_.jsx)(r.iP,{accessibilityLabel:this.props.i18n.bt("Send", "Send", "end.video.send.icon.label", undefined, true),onTap:this.handleShareVideo,rounding:2,children:(0,_.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:[(0,_.jsx)(d.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:a,onFlyoutDismiss:n,onToggleFlyout:()=>{},sendObject:{type:"pin",description:t,id:l,imageUrl:i,url:`/pin/${l}/`,clientTrackingParams:e}},iconColor:"white",iconOnly:!0,tabIndex:-1}),(0,_.jsx)(r.xu,{children:(0,_.jsx)(r.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("Send", "Send", "end.video.send.icon.label", undefined, true)})})]})})})}componentDidMount(){let{clientTrackingParams:e,pinId:t,logContextEvent:i}=this.props;(0,h.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),i({event_type:13,component:179,object_id_str:t,view_type:3,view_parameter:156,element:11731,clientTrackingParams:e})}render(){let{backgroundImage:e,naturalHeight:t,naturalWidth:i,maxHeight:a,maxWidth:n,pinTitle:l}=this.props;return(0,_.jsx)(r.xu,{maxHeight:a,maxWidth:n,children:(0,_.jsxs)(r.Ee,{alt:l||"",naturalHeight:t,naturalWidth:i,src:e,children:[(0,_.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:x,left:!0,position:"absolute",right:!0,top:!0}),(0,_.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,maxHeight:a,maxWidth:n,position:"absolute",top:!0,width:"100%",children:(0,_.jsxs)(r.xu,{position:"absolute",children:[(0,_.jsx)(r.xu,{children:this.renderShareButton()}),(0,_.jsx)(r.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function k(e){let t;let{pinKey:i}=e,a=(0,p.Z)(f,i),{logContextEvent:n}=(0,c.v)(),l=(0,g.ZP)(),r=(0,u.Z)(),{closeupWithinMasonryEnabled:d,peekCloseupEnabled:h,viewportSize:y}=(0,m.x4)(),{maxHeight:x,fiftyPercentHeight:k,fiftyPercentWidth:b}=(0,s.Re)(),{maxHeight:P}=(0,o.Z)({pinKey:a});return h?t="sm"===y?k:x:d&&(t=P),(0,_.jsx)(v,{...e,closeupWithinMasonryEnabled:d,i18n:l,logContextEvent:n,maxHeight:t,maxWidth:b,requireAuth:r})}let b=({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:a,pinTitle:n})=>{let l=(0,g.ZP)(),{isCloseupRelatedPinsAboveTheFoldEnabled:s}=(0,m.x4)();return(0,_.jsx)(r.xu,{"data-test-id":"video-end-card",height:s?"100%":void 0,width:s?"100%":void 0,children:(0,_.jsxs)(r.Ee,{alt:n||"",fit:s?"contain":void 0,naturalHeight:s?1:t,naturalWidth:s?1:i,src:e,children:[(0,_.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:x,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,_.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,_.jsx)(r.xu,{children:(0,_.jsx)(r.iP,{onTap:a,rounding:2,children:(0,_.jsxs)(r.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,_.jsx)(r.hU,{accessibilityLabel:l.bt("Replay", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,_.jsx)(r.X6,{color:"light",overflow:"normal",size:"400",children:l.bt("Replay", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true)})]})})})})]})})};var P=i(118755),S=i(297728),w=i(770975),j=i(397230),I=i(671481),C=i(730212),F=i(905184),T=i(897461),A=i(66810),L=i(267676),K=i(976534),R=i(410150),Z=i(673687),E=i(830017),D=i(335725),z=i(299897),M=i(966875);function B(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let O=void 0!==n?n:n=i(301072),V=e=>!!e&&e.endsWith(".gif"),H=(e,t)=>{t({currentTime:e?.currentTime??0,duration:e?.duration??1})};class U extends l.Component{constructor(...e){super(...e),B(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,P.G6)(this.props.requestContext.userAgent.browserName)&&!!this.props.autoplay&&!this.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),B(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!I.Z)return;let{storyPinStepStopwatch:t,pinId:i,pwtSurfaceContext:a}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",i,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:I.Z.now()}),t.stop()),a&&(e||a.addAnnotation("video.startup.end"),a.addBinaryAnnotation("pin.id",i,"STRING"),a.addBinaryAnnotation("video",!0,"BOOL"),a.markConstraintComplete(D._z),a.addSubspan("perceived_video_load",null,I.Z.now()),"story_pin"===a.getMetricId().segment&&a.removeConstraint(D.pM))}),B(this,"componentDidMount",()=>{let{customThumbnail:e,video:t,preferMp4:i}=this.props,{mp4:a}=t,n=t.hlsv3||t.hls||null,{thumbnail:l}=i&&a||n||{},r=(0,z.j4)(e||l);r?.ready===4&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),B(this,"componentDidUpdate",(e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()}),B(this,"handleTouch",()=>{let{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState(e=>({playing:!e.playing}))}),B(this,"handleShowControls",()=>this.setState({controls:!0})),B(this,"handleHideControls",()=>this.setState({controls:!1})),B(this,"handleReady",()=>{let{ready:e,playing:t}=this.state,{autoplay:i,disabled:a}=this.props;i&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,P.G6)(this.props.requestContext.userAgent.browserName)&&!t&&i&&!a&&this.setState({playing:!0})}),B(this,"handleEnded",({event:e})=>{let{customThumbnail:t,customEndCard:i,pinId:a,setCurrentVideo:n,loop:l,onEnded:r}=this.props;e.stopPropagation(),!l&&(this.setState({playing:!1}),V(t)||i||(this.setState({showEndCard:!0,videoStartTime:0}),n({pinId:a,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()}),B(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),B(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),B(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),B(this,"handlePlayheadDown",()=>{this.setState({seeking:!0})}),B(this,"handlePlayheadUp",()=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),B(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),B(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),B(this,"handleVolumeChange",({event:e,volume:t})=>{let{shouldMute:i}=this.props;e.stopPropagation(),i||this.setState({volume:t})}),B(this,"exitFullscreen",()=>{let{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),B(this,"requestFullscreen",()=>{let{customThumbnail:e,video:t,preferMp4:i}=this.props,{mp4:a}=t,n=t.hlsv3||t.hls||null,{thumbnail:l}=i&&a||n||{},r=(0,z.j4)(e||l);r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}),B(this,"renderCloseupVideoEndCard",(e,t,i,a)=>{let n={backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:this.handleShareRestartVideo},l={backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:this.handleRestartVideo},{clientTrackingParams:r,flyoutShareProps:s}=this.props,o={clientTrackingParams:r,gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:"",pinKey:this.props.pin};return a?(0,_.jsx)(b,{...l}):(0,_.jsx)(k,{...o,...n})})}render(){let e;let{aspectRatio:t,autoplay:i,closeupStoryPinViewability:a,contextLogData:n={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:l,isPromoted:o,loop:d,objectFit:c,preferMp4:u,preload:p,requestContext:g,roundingOverride:m,showControls:h,variant:y,video:x,captions:f,isDesktop:v,videoThumbnailStartTime:k,pin:b,pinId:S,setProgressInfo:w,progressInfo:j,setPanelOpen:I,panelOpen:C,setMute:L,isMuted:K,isCloseupRelatedPinsAboveTheFoldEnabled:R,closeupWithinMasonryEnabled:E,maxHeight:D,maxWidth:B,onTimeChange:O,startLevelHlsExpGroup:V,seekTime:U}=this.props;n.is_closeup_video=!0;let{controls:N,fullscreen:W,playing:$,showEndCard:G,volume:q,videoStartTime:X}=this.state,Q=x.hlsv3||x.hls||null;if(!Q&&!x.mp4)return null;let{mp4:Y}=x,J=u&&Y&&Y.url||Q&&[{type:"video/m3u8",src:Q.url}]||void 0,{height:ee,thumbnail:et,width:ei}=u&&Y||Q||{},ea=l||et;return e=null!=m?m:"default"===y?0:"storyPin"===y?A.yR:2,(0,_.jsxs)(r.zd,{height:E?"inherit":void 0,rounding:R?void 0:e,wash:!0,width:E?"inherit":void 0,willChangeTransform:!((0,P.G6)(g.userAgent.browserName)&&W),children:[G?this.renderCloseupVideoEndCard(ea??"",ee??1,ei??1,o):(0,_.jsxs)(r.iP,{accessibilityLabel:this.props.i18n.bt("Pause or play video", "Pause or play video", "pin.closeup.video.tap", undefined, true),fullHeight:E,onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[R&&(0,_.jsx)(F.Z,{playing:$,zIndexValue:99}),(0,_.jsx)(M.ZP,{aspectRatio:t??(ei??1)/(ee??1),backgroundColor:R?s.yc:"black",captions:f,closeupStoryPinViewability:a,contextLogData:{...n,video_id:this.props.video.id},hlsConfig:{startLevel:V?-1:z.VS},isAutoPlay:!!i,loop:d,objectFit:c,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===y?O:({time:e})=>{H&&"number"==typeof Y?.duration&&Y.duration>0&&w&&H({currentTime:e,duration:Y.duration/Z.gJ},w)},onVolumeChange:this.handleVolumeChange,pin:b,pinKey:b,playing:$,poster:ea,preferMp4:u,preload:p,seekTime:U,src:J,video:u&&Y||Q||{},videoStartTime:X||k,volume:q})]}),(0,_.jsx)(r.xu,{onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,children:"storyPin"!==y&&(0,_.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...z.Ul,flexDirection:"column-reverse"}},display:"flex",height:z.hy,maxHeight:D,maxWidth:B,paddingX:6,position:"absolute",width:R?"100%":"calc(100% - 4px)",zIndex:A.Gf,children:(0,_.jsx)(T.Z,{activePageIndex:0,captionsUrl:f,handleMute:()=>{this.setState({volume:K?1:0}),L(!K)},handlePanelChange:()=>{I&&I(!C),C&&v&&this.requestFullscreen()},handlePause:()=>{this.setState({playing:!1})},handlePausePlay:()=>{this.setState({playing:!$})},handlePlay:()=>{this.setState({playing:!0})},handleWatchAgain:this.handleRestartVideo,inMilliseconds:!1,isMuted:K,isPanelOpen:C,isPlaying:$,isStoryPin:!1,pageCount:1,pages:[],pinId:S,progressInfo:j,showEndCard:G,showVideoControls:N,viewParameter:156})})})]})}}function N(e){let{pinKey:t,pinId:i,isPromoted:a,video:n,muted:r}=e,d=(0,p.Z)(O,t),c=(0,g.ZP)(),u=(0,C.B)(),h=(0,j.g)(),y=(0,w.E)(),{seekTimes:x}=(0,L.Hx)(),{clientTrackingParams:f,closeupWithinMasonryEnabled:v,isCloseupRelatedPinsAboveTheFoldEnabled:k}=(0,m.x4)(),{maxWidth:b}=(0,s.Re)(),{appUI:P,setCurrentVideo:I}=(0,E.I)(),{videosAutoplaying:F}=P,{organicVideosAutoplaying:T,promotedVideosAutoplaying:A}=F,Z=u.locale.toLowerCase(),D=(n.mp4?.captions_urls||n.hlsv3?.captions_urls)??{},z=Z&&D[Z]||Object.values(D)[0]||"",{checkExperiment:M}=(0,S.F)(),B=(0,R.HG)(),V=M("web_hls_start_up_level").anyEnabled,H=a?A[i]:T[i],N=parseInt((0,K.Z)().t||0,10),[W,$]=(0,l.useState)(H?.currentTime||0),[G,q]=(0,l.useState)(null),[X,Q]=(0,l.useState)(!0),[Y,J]=(0,l.useState)(r),{maxHeight:ee}=(0,o.Z)({pinKey:d});return(0,l.useEffect)(()=>{let e=W;N>0&&(e=N),x[i]&&(e=x[i]),$(e)},[x,i,N,W]),(0,_.jsx)(U,{...e,captions:String(z)||"",clientTrackingParams:f,closeupWithinMasonryEnabled:v,i18n:c,isCloseupRelatedPinsAboveTheFoldEnabled:k,isDesktop:B,isMuted:Y,isPlaying:!H||!H.paused,maxHeight:ee,maxWidth:b,panelOpen:X,pin:d,progressInfo:G,pwtSurfaceContext:y,requestContext:u,seekTime:x[i],setCurrentVideo:I,setMute:J,setPanelOpen:Q,setProgressInfo:q,startLevelHlsExpGroup:V,storyPinStepStopwatch:h,videoStartTime:W})}B(U,"defaultProps",{loop:!1,showControls:"hover"})},702327:(e,t,i)=>{i.d(t,{Z:()=>n});let a=new Set([90,88,89,91,101,92,131]);function n(e){return a.has(e)}},582313:(e,t,i)=>{i.d(t,{v:()=>a});let a=new Set(["BUBBLE_ONE_COL","related_query_shop_upsell_closeup"])},80535:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(582313);let n=new Set([92]),l=new Set([154]);function r(e){let t=[];return e.forEach(e=>{if("story"===e.type?n.has(e.container_type)||l.has(e.container_type)||a.v.has(e.story_type):1){let i=t[t.length-1];Array.isArray(i)?i.push(e):t.push([e])}else t.push(e)}),t}},514796:(e,t,i)=>{i.d(t,{Z:()=>n});let a=["236x","474x","564x","736x"];function n({carouselData:e,images:t,product:i,shouldUnifyImageSizes:n}){return i?.additional_images?.length?function(e,t,i,n,l){let r=[...e?[{images:e}]:[],...(t??[]).map(({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))];return{carousel_slots:n?function(e){function t(e,{imageKey:t,height:i,width:a}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:i,width:a}}}),e}let i=a.map(function(t){let i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),a=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:i,width:a}});return e.map(e=>i.reduce(t,e))}(r):r,index:i||0,id:l}}(t,i.additional_images,e?.index,n,i.id):e||void 0}},713812:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){return e?[e["736x"],e["564x"],e["474x"],e["236x"]].find(e=>e?.url)??null:null}},470493:(e,t,i)=>{i.d(t,{Z:()=>a});function a({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}},91679:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),n=i(559028),l=i(144326),r=i(785893);let s=({isQuestion:e,name:t,size:i,src:s})=>{let o=(0,l.ZP)();return(0,r.jsxs)(a.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,r.jsx)(n.qE,{name:t,size:i,src:s}),e&&(0,r.jsxs)(a.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,r.jsx)(a.xu,{position:"absolute",children:(0,r.jsx)(a.JO,{accessibilityLabel:o.bt("Q&A comment", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"dark",icon:"speech"})}),(0,r.jsx)(a.xu,{position:"absolute",children:(0,r.jsx)(a.JO,{accessibilityLabel:o.bt("Q&A comment", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"light",icon:"question-mark",size:8})})]})]})}},321853:(e,t,i)=>{i.d(t,{Z:()=>er});var a=i(883119),n=i(667294),l=i(545007),r=i(473727),s=i(636339),o=i(622468),d=i(893190),c=i(91679),u=i(144326),p=i(785893);let g=({color:e,isMarkedHelpful:t})=>{let i=(0,u.ZP)();return(0,p.jsx)(a.JO,{accessibilityLabel:i.bt("Helpful", "Helpful", "comment.button.helpful", undefined, true),color:t?"brandPrimary":e,icon:"thumbs-up",inline:!0,size:12})};var m=i(311716),h=i(559113),_=i(559028);let y={helpfulStyle:{backgroundImage:`url(${m})`},lovedStyle:{backgroundImage:`url(${h})`}},x=({response:e})=>{let t=14===e.reaction_type,i=1===e.reaction_type,n=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,p.jsxs)(a.kC,{alignItems:"center",children:[(0,p.jsx)(a.Tg,{href:`/${e.user.username}/`,children:(0,p.jsxs)(a.kC,{alignItems:"center",children:[(0,p.jsx)(a.xu,{maxWidth:40,children:(0,p.jsx)(_.qE,{accessibilityLabel:"",name:n,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,p.jsx)(a.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:n})})]})}),(0,p.jsxs)(a.xu,{alignContent:"end",display:"flex",padding:2,children:[i&&(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:y.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:y.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var f=i(961754),v=i(383399),k=i(501912),b=i(801621);let P=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],S=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:i,isTry:l})=>{let r=(0,v.Z)(),s=(0,k.Z)(),o=(0,f.Z)({name:"ApiResource",options:{url:l?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:P}}),d=(0,b.lJ)(r,s)||("id"in r&&r.id?r.id:""),c=o.data;(i||t)&&c&&(c=c.filter(e=>e.user.id!==d),c=[{id:e,reaction_type:i?1:14,user:{first_name:(0,b.Fk)(r,s),full_name:(0,b.Fk)(r,s),id:d,image_medium_url:(0,b.gJ)(r,s),is_private_profile:!!r.isAuth&&!!r.isPrivateProfile,username:(0,b.Ms)(r,s)}},...c]);let u=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let{current:e}=u,t=()=>{o.isFetching||(o.isAtEnd?e?.removeEventListener("scroll",t):o.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[o]),(0,p.jsx)(a.xu,{ref:u,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:c?.map(e=>p.jsx(a.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:p.jsx(x,{response:e})},e.id))})};var w=i(750077),j=i(167210);let I=(0,n.lazy)(()=>i.e(11173).then(i.bind(i,811173))),C=({commentId:e,dismissReactionList:t,helpfulCount:i,isMarkedHelpfulByMe:l,isLovedByMe:r,isReactionListOpen:s,isTry:o,lovedCount:d,onReactionCountHover:c,onToggleHelpful:g,onToggleLove:_})=>{let y=(0,u.ZP)(),x=(0,n.useRef)(),[f,v]=(0,n.useState)(!1),k=!1,b=(d||0)+(i||0);l&&r&&(b-=1);let P=e=>()=>{v(e)},C=()=>{k=!0,c()},F=()=>{k=!1,setTimeout(()=>{k||t()},1e3)},T=(0,p.jsx)(a.xu,{"data-test-id":"comment-reaction-container-entry-point",children:f?(0,p.jsx)(a.iP,{onMouseDown:P(!1),onMouseLeave:P(!1),children:(0,p.jsx)(w.Z,{children:(0,p.jsx)(I,{setHelpful:g(!0),setLoved:_(!0)})})}):(0,p.jsx)(a.iP,{onMouseEnter:P(!0),children:(0,p.jsx)(a.JO,{accessibilityLabel:y.bt("React", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})})});return(0,p.jsxs)(a.kC,{alignItems:"center",gap:{row:1,column:0},children:[l||r?(0,p.jsx)(a.iP,{onMouseDown:()=>{g(!1)(),_(!1)()},children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${r?h:m})`}},"data-test-id":r?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):T,b>0&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.iP,{onMouseEnter:C,onMouseLeave:F,children:(0,p.jsx)(a.xu,{ref:x,"data-test-id":"comment-reaction-container-reaction-count",children:(0,p.jsx)(a.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:b})})}),s&&(0,p.jsx)(a.mh,{zIndex:j.lI,children:(0,p.jsx)(a.J2,{anchor:x.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,p.jsx)(a.iP,{onMouseEnter:C,onMouseLeave:F,children:(0,p.jsx)(S,{commentId:e,isLovedByMe:r,isMarkedHelpfulByMe:l,isTry:o})})})})]})]})};var F=i(642593),T=i(367131),A=i(538500),L=i(59834),K=i(501989),R=i(297728);function Z(e){let{comment:t,commentTags:i,handlePhotoTap:l,isDesktop:r,photoCommentingEnabled:s,previewPhoto:o,taggedUsers:d}=e,{checkExperiment:c}=(0,R.F)(),u=r&&c("ce_dweb_photo_comment_viewer").anyEnabled,[g,m]=(0,n.useState)(!1),{user:{username:h}}=t,_="text"in t?t.text:t.details,y=`${h} ${_}`,{height:x,url:f,width:v}=o||{},k=x??L.Vb,b=v??L.mu,P=f??"";return(0,p.jsxs)(a.xu,{children:[(0,p.jsx)(K.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:d,tags:i,text:y}),s?(0,p.jsx)(a.xu,{marginTop:1,children:(0,p.jsx)(L.ZP,{canEnlargePhoto:u,isSelectedPhoto:!1,previewPhoto:o})}):(0,p.jsx)(a.xu,{height:150,marginBottom:r?4:2,marginTop:1,width:150,children:(0,p.jsx)(a.iP,{disabled:!r||!u,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onTap:l,children:(0,p.jsx)(a.zd,{rounding:2,wash:!0,children:(0,p.jsx)(a.Ee,{alt:P,color:"#efefef",naturalHeight:k,naturalWidth:b,src:P,children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{cursor:u?"zoom-in":void 0,backgroundColor:`rgba(17, 17, 17, ${g?.4:0})`}},height:"100%",width:"100%"})},P)})})})]})}var E=i(240760),D=i(625987),z=i(403764);function M(e){let{shouldPreviewNewReply:t,featuredCommentId:i,parentId:r,parentType:s,isDesktop:o,isLoading:d,isReadOnly:c,openOverflowMenu:g,replyingToCommentId:m,toggleHelpful:h,toggleLike:_,toggleReplyComposer:y,isORBACProfileManager:x,isVideo:f,storyPinDataId:v,pinId:k,closeupAttributionId:b,aggregatedPinDataId:P,closeupAttributionUsername:S,pinnerId:w,reactionListCommentId:j,showReactionListForComment:I,viewParameter:C}=e,F=(0,u.ZP)(),T=(0,D.lV)(),A=(0,l.v9)(({feeds:e})=>{let i=e[`${z.Z.AGGREGATED_COMMENT_REPLIES}:${r}`]||[],a=e[`${z.Z.AGGREGATED_COMMENTS}:${r}`]||[];return i.concat(a).reduceRight((e,{id:i})=>{let a=T[i];return a?t?[a,...e]:[...e,a]:e},[])}),[L,K]=(0,n.useState)(1),R=L===A.length;return(0,p.jsxs)(n.Fragment,{children:[A.length>1&&(0,p.jsx)(a.iP,{onTap:()=>{K(R?0:A.length)},children:(0,p.jsxs)(a.xu,{marginBottom:4,children:[(0,p.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(a.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,p.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:R?F.bt("Hide replies", "Hide replies", "comment.button.hideReplies", undefined, true):(0,E.nk)(F.nbt(["View {{ commentCount }} reply", "View {{ commentCount }} replies"], A.length, "comment.button.showReplies", true),{commentCount:A.length})})]})}),(0,p.jsx)(er,{aggregatedPinDataId:P,closeupAttributionId:b,closeupAttributionUsername:S,comments:A.slice(0,L),commentsDisabled:!1,featuredCommentId:i,gapSize:2,isDesktop:o,isLoading:d,isORBACProfileManager:x,isReadOnly:c,isVideo:f,openOverflowMenu:g,parentId:r,parentType:s,pinId:k,pinnerId:w,reactionListCommentId:j,replyingToCommentId:m,showReactionListForComment:I,storyPinDataId:v,toggleHelpful:h,toggleLike:_,toggleReplyComposer:y,userAvatarSize:"sm",viewParameter:C})]})}var B=i(573706),O=i(194093),V=i(476198),H=i(936437),U=i(267005),N=i(730212),W=i(468808),$=i(901450),G=i(733383),q=i(115642),X=i(60983),Q=i(163059),Y=i(642758),J=i(900492),ee=i(179735);let et=(0,n.lazy)(()=>i.e(23057).then(i.bind(i,423057))),ei=(0,ee.Z)(()=>i.e(24850).then(i.bind(i,431615)),void 0,"app-packages-comment-CommentOverflowPopover"),ea=(0,n.lazy)(()=>i.e(31187).then(i.bind(i,231187)));function en(e){let t;let{aggregatedPinDataId:i,shouldPreviewNewReply:m,closeupAttributionId:h,closeupAttributionUsername:_,comment:y,featuredCommentId:x,isDesktop:f,isReadOnly:P,isVideo:S,openOverflowMenu:j,toggleReplyComposer:I,parentId:L,parentType:z=G.o.pin,pinId:ee,storyPinDataId:en,replyingToCommentId:el,showReactionListForComment:er,toggleHelpful:es,toggleLike:eo,userAvatarSize:ed,isORBACProfileManager:ec,pinnerId:eu,reactionListCommentId:ep,viewParameter:eg}=e,{user:{id:em,first_name:eh,id:e_,image_medium_url:ey,username:ex},id:ef,image_signatures:ev,is_translatable:ek,comment_count:eb,helpful_count:eP,tags:eS=[]}=y,[ew,ej]=(0,n.useState)(!1),eI=ew&&y.translatedText||y.text,eC=!ek||""===y.translatedText,eF=!1,eT=0,eA=!1,eL=!!y.marked_helpful_by_me,eK=[y.user],eR="",eZ=new Date;"aggregatedcomment"===y.type?(eF=y.highlighted_by_pin_owner,eT=y.reaction_counts[1],eA=y.reaction_by_me>0,eK.push(...y.tagged_users),eR=`${ex} ${eI??""}`,eZ=new Date(y.created_at)):(eT=y.like_count,eA=y.liked_by_me,t=y.images[0]||{},eR=`${ex} ${y.details}`,eZ=new Date(y.done_at));let eE=t?.["150x150"],eD=t?.originals,ez=(0,u.ZP)(),eM=(0,v.Z)(),{setIsMediaViewerOpen:eB,clientTrackingParams:eO}=(0,q.x4)(),{logContextEvent:eV}=(0,B.v)(),{country:eH,countryFromIp:eU,isBot:eN}=(0,N.B)(),{checkExperiment:eW}=(0,R.F)(),{showToast:e$}=(0,$.F9)(),eG=(0,l.I0)(),eq=(0,n.useRef)(),eX=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(eH),{COUNTRY_CODES:eQ}=Q.a0.india||{},eY=eU&&eQ&&eQ.includes(eU),eJ=!P||eY||eX,e0=1===y.comment_tag,e1=(0,k.Z)(),e2=(0,b.lJ)(eM,e1),{nativeEngagementsHiddenForUser:e4}=(0,X.G)(),{aggregatedCommentsHiddenForUser:e3,translateAggregatedComment:e6,updateAggregatedComment:e7}=(0,D.nf)(),e8=(0,o.Z)(),e5="userdiditdata"===y.type,e9=(0,H.Z)(),te=e5&&f&&eW("ce_dweb_photo_comments").anyEnabled,tt=ek&&eW("dweb_comment_translations").anyEnabled,ti=te?eD:eE,ta=[{offset:0,length:ex.length,color:"darkGray"},...eS.map(e=>({...e,offset:(e.offset||0)+ex.length+1,color:"shopping"}))],tn={SHOW_TRANSLATION:ez.bt("Show translation", "Show translation", "comment.translateButton.showTranslation", undefined, true),TRANSLATING:ez.bt("Translating...", "Translating...", "comment.translateButton.translating", undefined, true),SHOW_ORIGINAL:ez.bt("Show original", "Show original", "comment.translateButton.showOriginal", undefined, true)},tl=(0,n.useRef)(tn.SHOW_TRANSLATION),[tr,ts]=(0,s.Z)(),[to,td]=(0,n.useState)(!1),[tc,tu]=(0,n.useState)(!1),[tp,tg]=(0,n.useState)(!1),[tm,th]=(0,n.useState)(!1),[t_,ty]=(0,n.useState)(!1),[tx,tf]=(0,n.useState)(!1),[tv,tk]=(0,n.useState)(!1),[tb,tP]=(0,n.useState)(F.A9.NONE),tS=e=>()=>{tu(e)};(0,n.useEffect)(()=>{tt&&eV({event_type:10416,view_type:3,view_parameter:eg,component:"pin"===z?13696:13697})},[eV,z,tt,eg]),(0,n.useEffect)(()=>{eb>0&&!eN&&eG((0,W.U)("aggregatedcomment"===y.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:ef,redux_normalize_feed:!0}}))},[y.type,ef]);let tw=z.toLowerCase()===G.o.aggregatedComment.toLowerCase()||z.toLowerCase()===G.n.didIt.toLowerCase(),tj=y.user.first_name||"",tI=async({contentMarkdown:e,force:t,tags:i})=>{let a,n;th(!0);let l=y.id;if(tw&&(a=z.toLowerCase()===G.n.didIt,l=L,n=y.id),l)try{await e8({force:t,fromUnifiedComment:!0,objectType:e5||a?G.o.didIt:G.o.aggregatedComment,objectId:l,orbacSubjectId:e2,tags:i,text:e,replyToCommentId:n})}catch(t){let e=(0,O.Z)(t,"code");if([U.ky,U.LJ].includes(e??0)&&f)return tP(e===U.ky?F.A9.WARNING:F.A9.BLOCK),th(!1),!1}return I&&I(void 0),th(!1),!0},tC=async({contentMarkdown:e,force:t,tags:i})=>{tg(!0);try{te?await eG((0,Y.IU)({id:y.id,details:e,pinId:ee??"",image_signatures:ev??[]})):await e7({commentId:y.id,force:t,orbacSubjectId:e2,tags:i,text:e})}catch(e){if([U.ky,U.LJ].includes((0,O.Z)(e,"code")??0)&&f)return tP(e.code===U.ky?F.A9.WARNING:F.A9.BLOCK),tg(!1),!1}return tu(!1),tg(!1),!0},tF=e=>()=>{td(e),tk(e),e||eV({component:14349,event_type:9408})},tT=()=>{tP(F.A9.NONE)},tA=e=>{e?ts():tr(),eB(!e),ty(!e)},tL=()=>{ew||y.translatedText||e6(y.id),ew||tl.current!==tn.SHOW_TRANSLATION?ew&&tl.current===tn.SHOW_ORIGINAL&&eV({event_type:10418,view_type:3,view_parameter:eg,component:"pin"===z?13696:13697}):eV({event_type:10417,view_type:3,view_parameter:eg,component:"pin"===z?13696:13697}),ej(!ew)};(0,n.useEffect)(()=>{ew&&eC&&(ej(!ew),e$(({hideToast:e})=>(0,p.jsx)(V.ZP,{onHide:e,text:ez.bt("Error  couldn't translate", "Error - couldn't translate", "comment.couldNotTranslate.toast", undefined, true),type:"error"})))},[ew,eC]),ew?tl.current=y.translatedText?tn.SHOW_ORIGINAL:tn.TRANSLATING:tl.current=tn.SHOW_TRANSLATION;let tK=f?128:110,tR=y.media?.sticker?.image_url&&(0,p.jsx)(a.xu,{height:tK,marginBottom:f?1:0,marginTop:1,width:tK,children:(0,p.jsx)(a.Ee,{alt:y.media?.sticker?.display_name??"",fit:"contain",naturalHeight:0,naturalWidth:0,src:y.media?.sticker?.image_url??""})});return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.$j,{accessibilityLabel:"Loading comment",show:tp}),!tc&&!tp&&(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(a.xu,{marginEnd:2,children:(0,p.jsx)(r.rU,{to:`/${ex}/`,children:(0,p.jsx)(c.Z,{isQuestion:e0,name:eh||ex||"",size:ed,src:ey??""})})}),(0,p.jsxs)(a.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,p.jsxs)(a.kC,{justifyContent:"between",children:[(0,p.jsx)(a.kC.Item,{minWidth:0,children:(0,p.jsxs)(a.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[e5?(0,p.jsx)(Z,{comment:y,commentTags:ta,handlePhotoTap:()=>tA(t_),isDesktop:f,photoCommentingEnabled:te,previewPhoto:ti,taggedUsers:eK}):(0,p.jsx)(K.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:eK,tags:ta,text:eR}),tR,tt&&(0,p.jsx)(a.xu,{marginBottom:2,marginTop:2,children:(0,p.jsx)(a.iP,{onTap:()=>tL(),children:(0,p.jsx)(a.xv,{color:"subtle",size:"300",weight:"bold",children:tl.current})})})]})}),x===ef&&(0,p.jsx)(a.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eF&&(0,p.jsx)(a.xu,{marginBottom:3,marginTop:4,children:(0,p.jsx)(a.xv,{size:"100",children:(0,E.nk)(ez.bt("Highlighted by @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:_})})}),eJ&&(0,p.jsxs)(a.xu,{alignItems:"center",display:"flex",height:f?25:"100%",justifyContent:"between",position:"relative",children:[(0,p.jsxs)(a.kC,{alignItems:"center",gap:{row:5,column:0},children:[!P&&(0,p.jsx)(a.xu,{"data-test-id":"comments-time-passed",children:(0,p.jsx)(a.xv,{color:"subtle",size:"200",children:e9(eZ,!0)})}),!P&&(0,p.jsx)(a.xu,{"data-test-id":"comment-reply-button-container",children:(0,p.jsx)(a.iP,{onTap:()=>{I&&I(y,L,z)},children:(0,p.jsx)(a.xv,{color:"subtle",size:"200",weight:"bold",children:ez.bt("Reply", "Reply", "comment.button.reply", undefined, true)})})}),!P&&(f?(0,p.jsx)(C,{commentId:ef,dismissReactionList:()=>{er(void 0)},helpfulCount:eP,isLovedByMe:eA,isMarkedHelpfulByMe:eL,isReactionListOpen:ep===ef,isTry:e5,lovedCount:eT,onReactionCountHover:()=>{er(ef),eV({event_type:9906,component:"pin"===z?13696:13697,view_type:3,view_parameter:eg})},onToggleHelpful:e=>()=>{eL!==e&&es(ef,!e,e5)()},onToggleLove:e=>()=>{eA!==e&&eo(ef,!e,e5)()}}):(0,p.jsxs)(a.xu,{alignItems:"center","data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,p.jsx)(a.hU,{accessibilityLabel:ez.bt("Like", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:eA?"red":"gray",onClick:eo(ef,eA,e5),size:"xs"}),eT>0&&(0,p.jsx)(a.xu,{"data-test-id":"love-count-container",children:(0,p.jsx)(a.xv,{color:"subtle",size:"100",weight:"bold",children:eT})})]})),!("id"in eM&&eM.id===e_&&e0)&&(0,p.jsx)(a.xu,{ref:eq,"data-test-id":"comment-more-options",children:(0,p.jsx)(a.hU,{accessibilityLabel:ez.bt("More", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",onClick:()=>{f?td(!to):j&&j(y,{showIndiaLawReporting:!!eY,showNetzDGReporting:!!eX})},size:"xs"})})]}),!P&&!ec&&!f&&(0,p.jsx)(a.xu,{marginStart:6,children:(0,p.jsx)(a.iP,{fullWidth:!1,onTap:es(ef,eL,e5),children:(0,p.jsxs)(a.kC,{alignItems:"center",dataTestId:"helpful-reaction",gap:{row:1,column:0},height:"100%",children:[(0,p.jsx)(g,{color:"subtle",isMarkedHelpful:eL}),(0,p.jsx)(a.xv,{color:"subtle",size:"200",weight:"bold",children:ez.bt("Helpful", "Helpful", "comment.button.helpful", undefined, true)}),eP>0&&(0,p.jsx)(a.xu,{"data-test-id":"helpful-count-container",children:(0,p.jsx)(a.xv,{color:"subtle",size:"100",weight:"bold",children:eP})})]})})})]})]})]}),f&&(0,p.jsxs)(n.Fragment,{children:[tc&&(0,p.jsx)(a.xu,{marginTop:3,children:(0,p.jsx)(T.Z,{clientTrackingParams:eO,commentWarningModalState:tb,dismissCommentWarningModal:tT,initialTags:y.tags,initialText:"aggregatedcomment"===y.type?y.text:y.details,isEditing:!0,objectType:G.o.aggregatedComment,onAddItem:tC,onCancelItem:tS(!1),postedPhoto:te&&tc?eD:eE,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:eg})}),el===ef&&(0,p.jsx)(a.xu,{marginStart:tw?0:12,marginTop:3,children:(0,p.jsx)(T.Z,{commentWarningModalState:tb,dismissCommentWarningModal:tT,initialTags:tw?[{offset:0,object_id:em,length:tj.length,tag_type:1}]:[],initialText:tw?`${tj} `:"",isReplying:!0,objectType:G.o.aggregatedComment,onAddItem:tI,onCancelItem:()=>{I&&I()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:eg})})]}),(eb>0||tm)&&(0,p.jsx)(a.xu,{marginStart:12,marginTop:4,children:(0,p.jsx)(M,{aggregatedPinDataId:i,closeupAttributionId:h,closeupAttributionUsername:_,featuredCommentId:x,isDesktop:f,isLoading:tm,isORBACProfileManager:ec,isReadOnly:P,isVideo:S,openOverflowMenu:j,parentId:ef,parentType:y.type,pinId:ee,pinnerId:eu,reactionListCommentId:ep,replyingToCommentId:el,shouldPreviewNewReply:m,showReactionListForComment:er,storyPinDataId:en,toggleHelpful:es,toggleLike:eo,toggleReplyComposer:I,viewParameter:eg})}),f&&eJ&&(0,p.jsx)(ei,{aggregatedPinDataId:i,anchor:eq.current,closeupAttributionId:h,comment:y,dismiss:e=>{td(!1),e||eV({component:14349,event_type:10128})},isOpen:to,isReply:tw,onEdit:tS(!0),onShowBlockUserModal:tF(!0),parentId:L,pinId:ee,pinnerId:eu,showIndiaLawReporting:!!eY,showNetzDGReporting:eX}),tx&&(0,p.jsx)(w.Z,{children:(0,p.jsx)(d.N,{children:(0,p.jsx)(ea,{aggregatedPinDataId:i,didItDataId:ef,onClose:e=>()=>{tf(!e)},pinId:ee??"",username:ex,users:[y.user]})})}),tv&&(0,p.jsx)(w.Z,{children:(0,p.jsx)(et,{firstName:eh??"",onBlockUser:()=>{eG((0,J.Ge)({id:em,orbacSubjectId:e2,blockSource:"comment",blockContext:ef,logContextEvent:eV})),e3(em),e4(em),eV({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eM.isAuth?eM.id:null}}),eV({component:14349,event_type:9407}),tk(!1),e$(({hideToast:e})=>(0,p.jsx)(V.ZP,{onHide:e,text:(0,E.nk)(ez.bt("You've blocked {{ username }}", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:ex}).join("")}))},onClearModal:tF(!1)})}),!!eD&&t_&&(0,p.jsx)(A.Z,{onDismiss:()=>tA(t_),photo:eD})]})}var el=i(788388);function er(e){let t;let{aggregatedPinDataId:i,shouldPreviewNewReply:n,comments:l,commentsDisabled:r,commentsScrollContainerRef:s,featuredCommentId:o,gapSize:d=6,inCommentFeedRedesignExp:c,isDesktop:g,isLoaded:m=!1,isLoading:h=!1,isReadOnly:_,openOverflowMenu:y,toggleReplyComposer:x,parentId:f,parentType:k,replyingToCommentId:b,toggleHelpful:P,toggleLike:S,userAvatarSize:w,isORBACProfileManager:j,isVideo:I,storyPinDataId:C,pinId:T,closeupAttributionId:A,closeupAttributionUsername:L,pinnerId:K,showReactionListForComment:R,reactionListCommentId:Z,viewParameter:E}=e,D=(0,u.ZP)(),z=(0,v.Z)(),{closeupWithinMasonryEnabled:M,isCloseupRelatedPinsAboveTheFoldEnabled:B}=(0,q.x4)(),O=g&&c?(0,F.mz)(D):D.bt("No comments yet. Add one to start the conversation.", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true);return(z.isAuth||g||(O=D.bt("No comments yet", "No comments yet!", "commentThread.emptyState.unauthMessage", undefined, true)),t=C?"story":I?"video":"pin",r)?(0,p.jsx)(a.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",marginTop:M?2:void 0,width:"100%",children:(0,p.jsx)(a.xv,{align:g?"start":"center",color:"subtle",children:D.bt("Comments are turned off for this Pin", "Comments are turned off for this Pin", "commentThread.disabledState.message", undefined, true)})}):l.length>0?(0,p.jsxs)(a.xu,{ref:s,dangerouslySetInlineStyle:{__style:{gap:`${4*d}px 0`,scrollbarGutter:M?"stable":void 0,paddingTop:M?"8px":void 0}},"data-test-id":"aggregated-comment-list",direction:"column",display:"flex",maxHeight:M?722:"100%",overflow:M?"auto":void 0,width:"100%",children:[l.map((e,l)=>(0,p.jsx)(el.F,{componentType:"pin"===k?13696:13697,impressionAuxFields:{commentId:e.id,pinId:T,pinOwnerUserId:A,pinType:t,parentId:f,parentType:k,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:l,viewType:g?3:98,children:({impressionTrackerRef:t})=>(0,p.jsx)(a.xu,{ref:t,"data-test-id":"commentThread-comment",children:(0,p.jsx)(en,{aggregatedPinDataId:i,closeupAttributionId:A,closeupAttributionUsername:L,comment:e,featuredCommentId:o,isDesktop:g,isORBACProfileManager:j,isReadOnly:_,isVideo:I,openOverflowMenu:y,parentId:f,parentType:k,pinId:T,pinnerId:K,reactionListCommentId:Z,replyingToCommentId:b,shouldPreviewNewReply:n,showReactionListForComment:R,storyPinDataId:C,toggleHelpful:P,toggleLike:S,toggleReplyComposer:x,userAvatarSize:w,viewParameter:E})})},e.id)),h&&(0,p.jsx)(a.$j,{accessibilityLabel:D.bt("Comments loading", "Comments loading", " - ", undefined, true),show:h})]}):(0,p.jsxs)(a.xu,{alignSelf:"center",width:"100%",children:[(0,p.jsx)(a.$j,{accessibilityLabel:D.bt("Comments loading", "Comments loading", " - ", undefined, true),show:h}),m&&!B&&(0,p.jsx)(a.xv,{align:g?"start":"center",color:"subtle",children:O})]})}},367131:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),n=i(950443),l=i(785893);let r=(0,a.lazy)(()=>Promise.all([i.e(35585),i.e(73583),i.e(41505)]).then(i.bind(i,938395)));function s(e){return(0,l.jsx)(n.Z,{fallback:null,children:(0,l.jsx)(r,{...e})})}},538500:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),n=i(241528),l=i(758339),r=i(144326),s=i(785893);function o({onDismiss:e,photo:t}){let i=(0,r.ZP)(),{height:o,url:d,width:c}=t,u=Math.min(o??936,936),p="100vh",g=i.bt("Close media viewer", "Close media viewer", "comments.photo.mediaViewer.close", undefined, true);return(0,s.jsxs)(a.mh,{zIndex:l.b7,children:[(0,s.jsx)(a.iP,{mouseCursor:"zoomOut",onTap:e,children:(0,s.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},"data-test-id":"comment-media-viewer",display:"flex",height:p,justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,s.jsx)(a.xu,{left:!0,padding:5,position:"absolute",top:!0,children:(0,s.jsx)(a.hU,{accessibilityLabel:g,icon:"cancel",iconColor:"white",onClick:e,padding:3,size:"lg"})}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 84px"}},height:p,maxHeight:u,width:c,children:(0,s.jsx)(a.Ee,{alt:d??"",fit:"contain",naturalHeight:o??1,naturalWidth:c??1,src:d??""},d)})]})}),(0,s.jsx)(n.Z,{onClose:e})]})}},59834:(e,t,i)=>{i.d(t,{Vb:()=>p,ZP:()=>m,mu:()=>g});var a=i(667294),n=i(883119),l=i(636339),r=i(538500),s=i(144326),o=i(730212),d=i(410150),c=i(115642),u=i(785893);let p=150,g=346;function m({canEnlargePhoto:e,containerWidth:t,isSelectedPhoto:i,previewPhoto:m,removeSelectedPhoto:h}){let _=(0,s.ZP)(),y=(0,d.HG)(),{isRTL:x}=(0,o.B)(),{setIsMediaViewerOpen:f}=(0,c.x4)(),[v,k]=(0,l.Z)(),[b,P]=(0,a.useState)(!1),[S,w]=(0,a.useState)(!1),j=y?p:110,I=t||g,C=m?.height??j,F=m?.url??"",T=m?.width??I,A=Math.min(I/T,j/C),L=_.bt("Remove photo", "Remove photo", "photoCommentPreview.removePhoto", undefined, true),K=_.bt("Photo", "Photo", "photoCommentPreview.previewPhoto", undefined, true),R=e=>{e?k():v(),f(!e),P(!e)};return(0,u.jsxs)(n.xu,{height:A*C,marginTop:i?3:0,position:"relative",width:A*T,children:[(0,u.jsx)(n.iP,{disabled:!e,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onTap:()=>R(b),children:(0,u.jsx)(n.zd,{rounding:2,children:(0,u.jsx)(n.Ee,{alt:K,color:"#efefef",naturalHeight:C,naturalWidth:T,onLoad:()=>{i&&URL.revokeObjectURL(F)},src:F,children:e&&(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{cursor:"zoom-in",backgroundColor:`rgba(17, 17, 17, ${S?.4:0})`}},height:"100%",width:"100%"})},K)})}),i&&(0,u.jsx)(n.xu,{alignItems:"center",display:"flex",height:24,justifyContent:"center",left:x,marginEnd:-3,marginTop:-3,position:"absolute",right:!x,top:!0,width:24,children:(0,u.jsx)(n.hU,{accessibilityLabel:L,bgColor:"lightGray",icon:"cancel",onClick:h,size:"xs"})}),b&&(0,u.jsx)(r.Z,{onDismiss:()=>R(b),photo:m})]})}},564893:(e,t,i)=>{i.d(t,{HI:()=>r,f8:()=>o,hm:()=>s,sH:()=>l});var a=i(883119),n=i(785893);let l=({children:e})=>(0,n.jsx)(a.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),r=({children:e})=>(0,n.jsx)(a.xu,{padding:2,children:e}),s=({children:e})=>(0,n.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),o=({children:e})=>(0,n.jsx)(a.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},480041:(e,t,i)=>{i.d(t,{Ec:()=>d,IA:()=>_,LX:()=>c,Mf:()=>h,SF:()=>s,_e:()=>o,h_:()=>b,l0:()=>r,ml:()=>l,pQ:()=>k,q4:()=>n,zn:()=>a});let a=e=>["feed_card_default","feed_card_video"].includes(e),n=2/3,l=2/3,r=1/3,s="36px",o="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},g={1:"italics",0:"normal"},m={1:"bold",0:"normal"},h=({color:e,font_style:t,font_weight:i,horizontal_alignment:a,size:n},l)=>({color:e,fontStyle:g[t??0],fontWeight:m[i??1],horizontalAlignment:u[a??0],fontSize:p[l][n??0]+"px"}),_=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d,y={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"shopping"},x=y[8],f={1:"red",2:"gray",3:"transparent",4:"blue"},v=f[2],k=e=>{if(e){if(e.button_style&&e.button_style in f)return f[e.button_style];if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return f[1];if("#0074e8"===e.button_background_color.toLowerCase())return f[4]}}return v},b=(e,t)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in y)return y[e.title_text_customization?.text_color];if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return y[7];if("#ffffff"===e.title_text_customization.color)return y[8]}}return t?"white"===t?y[8]:y[7]:x}},641591:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(537347),n=i.n(a),l=i(415787);function r(e){if("undefined"==typeof window||!document.head)return(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,i=[];return e.forEach(e=>{e.styles.forEach(a=>{let l=document.querySelector(`#${e.fontFamily??""}-${a.name}`);l||((l=document.createElement("style")).setAttribute("id",`${e.fontFamily??""}-${a.name}`),t.appendChild(l),e.format&&a.fontUrl&&l&&l.sheet&&l.sheet.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${a.fontStyle}";
              font-weight: "${a.fontWeight}";
              src: url("${a.fontUrl}") format("${e.format}");
            }
          `,0),i.push(new(n())(e.fontFamily,{style:a.fontStyle,weight:a.fontWeight}).load()))})}),Promise.all(i).then(()=>{Promise.resolve()}).catch(e=>{(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},119870:(e,t,i)=>{i.d(t,{Z:()=>p});var a=i(667294),n=i(573706),l=i(976534),r=i(383399),s=i(827106),o=i(785893);function d(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=(0,l.Z)()&&(0,l.Z)().debug_impression_log,u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class t extends a.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",c&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:t,contextLogData:i,impressionAuxFields:a,impressionType:n,loggingId:l,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:c}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=u[n],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:l,slotIndex:r,time:this.startTime,renderDuration:g-this.startTime,...a};c({event_type:e.eventType,component:t,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:s,view_data:d,aux_data:{...i}}),this.debugPinImpressions&&console.log(r+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.i,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:i}=(0,n.v)(),a=(0,r.Z)();return(0,o.jsx)(t,{...e,logContextEvent:i,viewer:a})}}},732054:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){let i=e.split(t?",":":");return i.length>0?t?i[0]:i[1]:""}},530618:(e,t,i)=>{i.d(t,{HM:()=>o,ZP:()=>c,oV:()=>d});let a="filter_queries",n="skin_tone",l="hair_pattern",r=`${n.toUpperCase()}_${a.toUpperCase()}`,s=`${l}_${a}`,o=e=>e.startsWith(r)||e.startsWith(s),d=e=>o(e)&&e===r?n:l;function c(e,t){return"skin_tone"===e?t.skin_tone_filter_list.options:t.hair_pattern_filter_list}},367267:(e,t,i)=>{i.d(t,{U:()=>y});var a=i(415787);let n="nic_v3",l=`${n}=1a`,r=`${n}=1b`,s=[l,r],o=["invite_code","invite","board_invite_code","sender"],d=e=>!!o.find(t=>e.includes(t)),c=e=>!!s.find(t=>e.includes(t)),u=e=>e.pathname.includes("/pin/")&&!d(e.search)&&!c(e.search),p=e=>e.includes("sender"),g=e=>!d(e)&&!p(e)&&e.includes(n),m=(e,t,i)=>{let a=e.search?"&":"?";return e.pathname+e.search+(a+(i?r:l)+t)},h=(e,t,i=!1,l)=>{if(!u(e))return;let r=i?"mweb":"web";if(!t){(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.attempt`);try{let s=m(e,t,i||!1);(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.success`),l(s)}catch{(0,a.nP)(`${r}.${n}.social_tracking_pin_non_invite.insert.caught_exception`)}},_=(e,t,i=!1,a)=>h(e,"",i,a),y=(e,t,i,l,r)=>{let s=i?"mweb":"web";(0,a.nP)(`${s}.${n}.social_tracking_pin_non_invite.attempt`);try{!i&&l&&u(e)?((0,a.nP)(`${s}.${n}.social_tracking_pin_non_invite.search_string_eligible`),_(e,t,i,r)):g(e.search)&&(0,a.nP)(`${s}.${n}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,a.nP)(`${s}.${n}.social_tracking_pin_non_invite.caught_exception`)}}},917111:(e,t,i)=>{async function a(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onerror=()=>i(Error(`Image failed to load with src ${e}`)),a.onload=()=>t(!0),a.src=e})}async function n(e){try{let t=await fetch(e,{method:"HEAD"}),i=(await t.blob()).type.startsWith("image/");{let t=await a(e);return i&&t}}catch(e){return!1}}i.d(t,{Z:()=>n})},995692:(e,t,i)=>{i.d(t,{T:()=>a,Z:()=>l});let{Provider:a,useHook:n}=(0,i(498490).Z)("NotificationContext"),l=n},411103:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>{if(!e)return null;let{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null}},857550:(e,t,i)=>{i.d(t,{Z:()=>n,f:()=>a});let a=e=>{let{h:t,m:i}=e||{},a={hours:t||0,minutes:i||0};return void 0===t&&void 0===i?null:{h:t,m:i,time:a,isoDuration:function({hours:e,minutes:t}){return`PT${e}H${t}`}(a)}},n=e=>{if(!e)return null;let{richMetadata:t}=e,{recipe:i}=t;return i&&i.name?{...e,recipe:{name:i.name,categorizedIngredients:i.categorized_ingredients,diets:i.diets,fromAggregatedData:i.from_aggregated_data,prepTime:a(i.cook_times?.prep),cookTime:a(i.cook_times?.cook),totalTime:a(i.cook_times?.total),servingSummary:i.servings_summary?.summary,serves:i.servings_summary?.serves}}:null}},106641:(e,t,i)=>{i.d(t,{Z:()=>o});let a=e=>{if(!e)return null;let{embed:t}=e.pin,{type:i,src:a,subtype:n}=t||{};return a?{...e,embed:{type:i,src:a,subtype:n}}:null};var n=i(560083);let l=e=>{if(!e)return null;let{videos:t}=e.pin,{id:i,video_list:a={}}=t||{},{V_720P:l,V_HLSV4:r,V_HLSV3_MOBILE:s}=a,o=(0,n.V3)(r),d=(0,n.V3)(s),c=(0,n.V3)(l),u=c||o||d;return i&&u?{...e,video:{id:i,hasVideo:u,mp4:c||void 0,hls:o||void 0,hlsv3:d||void 0}}:null};var r=i(70494);let s=e=>{let{hlsv3:t,hls:i}=e,a=t||i;return!!(a&&(a.width??0)>(a.height??0))},o=e=>{if(!e)return null;let{video:t}=l((0,r.Z)(e))||{},{embed:i}=a((0,r.Z)(e))||{},n=!!(t&&s(t))||!!(i&&i.src&&"pinstory"!==i.subtype&&"gif"!==i.type);return{...e,isWideVideo:n}}},983302:(e,t,i)=>{i.d(t,{Z:()=>s});var a,n=i(667294);i(167912);var l=i(47848);let r=void 0!==a?a:a=i(310287);function s({pinKey:e}){let t=(0,l.Z)(r,e),i=t?.imageSpec_736x||t?.imageSpec_564x||t?.imageSpec_orig||t?.imageSpec_474x||t?.imageSpec_236x;return{getMainPinImage:(0,n.useCallback)(()=>({url:i?.url||"",height:i?.height||1,width:i?.width||1}),[i?.height,i?.url,i?.width])}}},660771:(e,t,i)=>{i.d(t,{Z:()=>s}),i(167912);var a,n=i(47848),l=i(955918);let r=void 0!==a?a:a=i(162973),s=e=>{let t=(0,n.Z)(r,e),i=(0,l.Z)(t);if(!t?.entityId)return null;let{trackedLink:a,link:s,method:o}=t,d=a||s;return d&&("catalog_bulk_create"===o||i)?decodeURIComponent(d):d}},955918:(e,t,i)=>{i.d(t,{Z:()=>r}),i(167912);var a,n=i(47848);let l=void 0!==a?a:a=i(881007),r=e=>{let t=(0,n.Z)(l,e);if(!t?.richMetadata)return!1;let{products:i}=t.richMetadata??{};return!!Array.isArray(i)&&i.some(e=>!!e&&e.name)}},643613:(e,t,i)=>{i.d(t,{NC:()=>l,Rc:()=>s,WK:()=>d,X9:()=>n,b9:()=>a,f9:()=>o,gu:()=>r});let a="pin-builder-font-faces",n="system-font-faces",l="pin-builder-education-font-faces",r="licensed",s="system",o="brand",d=4},982553:(e,t,i)=>{i.d(t,{JZ:()=>p,Qs:()=>u,jr:()=>g});var a=i(609326),n=i(118755),l=i(297728),r=i(730212),s=i(864723),o=i(410150);let d={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122,dweb_unauth_google_fedcm_button_flow_eap:130,mweb_unauth_google_fedcm_button_flow_eap:131},c=(e,t,i,a)=>e?i>=(a?d.auth_dweb_google_fedcm_onetap_modal:d.dweb_unauth_google_fedcm_button_flow_eap)&&(a?t("auth_dweb_google_fedcm_onetap_modal").anyEnabled:t("dweb_unauth_google_fedcm_button_flow_eap").anyEnabled):i>=(a?d.auth_mweb_google_fedcm_onetap_modal:d.mweb_unauth_google_fedcm_button_flow_eap)&&(a?t("auth_mweb_google_fedcm_onetap_modal").anyEnabled:t("mweb_unauth_google_fedcm_button_flow_eap").anyEnabled),u=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!s.ZP.getItem(a.tr),p=(e,t,i,a)=>{let l=i.browserVersion?parseInt(i.browserVersion.split(".")[0],10):0;return(0,n.i7)(i.browserName??"")&&(e&&c(e,t,l,a)||!e&&"android"===i.platform&&c(e,t,l,a))},g=e=>{let t=(0,o.HG)(),{checkExperiment:i}=(0,l.F)(),{userAgent:a}=(0,r.B)();return u(e)&&p(t,i,a,e.isAuth)}},986732:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(883119),n=i(144326),l=i(240760),r=i(200008),s=i(785893);function o(){return (0,n.ZP)().bt("Free delivery", "Free shipping", "closeup.product.shipping", undefined, true)}function d({freeShippingPrice:e}){let t=(0,n.ZP)();return(0,l.nk)(t.bt("Free delivery with {{ shippingPrice }}+", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function c({customStyles:e,showPrevDot:t,freeShippingPrice:i,freeShippingValue:n}){let l;let c=t?[""]:[],{color:u="subtle",size:p="200"}=e||{};return Number.isFinite(n)?(0===n?l=(0,s.jsx)(o,{}):i&&(l=(0,s.jsx)(d,{freeShippingPrice:i})),l&&c.push((0,s.jsx)(a.kC,{direction:"row",children:l})),0===c.length)?null:(0,s.jsx)(a.xv,{color:u,size:p,children:(0,s.jsx)(r.Z,{color:u,items:c})}):null}},391524:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(667294),n=i(883119),l=i(297728),r=i(770975),s=i(142921),o=i(785893);function d(e){let t=(0,r.E)(),i=s.Z()?.isAuthenticated,{checkExperiment:d}=(0,l.F)(),c=d(i?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled;return(0,a.useEffect)(()=>{let i=document.getElementById(e.containerId),a=async(e,t)=>{let i,a;if(c){let n=new Promise(t=>{let i=new IntersectionObserver(([e])=>{i.disconnect(),t(e.boundingClientRect)});i.observe(e)}),l=new Promise(e=>{let i=new IntersectionObserver(([t])=>{i.disconnect(),e(t.boundingClientRect)});i.observe(t)});[i,a]=await Promise.all([n,l])}else i=e.getBoundingClientRect(),a=t.getBoundingClientRect();return!!i&&!!a&&i.top>=a.top&&i.left>=a.left&&i.bottom<=a.bottom&&i.right<=a.right};if(null==i)t?.removeConstraint("thumbnailsLoaded");else{let e=Array.from(i.querySelectorAll("*")).filter(e=>"IMG"===e.tagName&&a(e,i)),n=e.length,l=()=>{n-=1};e.forEach(e=>{e.onload=l(),0===n&&t?.markConstraintComplete("thumbnailsLoaded")})}},[c,e.containerId,t]),(0,o.jsx)(n.xu,{id:"imageContainerPerf",children:e.children})}},178638:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(667294),n=i(576449),l=i(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,s=(e,t,i)=>{let n=(0,a.useRef)(null),l=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(e!==n.current||i&&i!==l.current){n.current=e;let i=r(e);i?.complete&&t()}l.current=i},[e,t,i])};function o({alt:e,children:t,color:i,elementTiming:a,fetchPriority:r,isActive:o=!1,naturalHeight:d,naturalWidth:c,onLoad:u,src:p,fit:g="none",id:m,srcSet:h,..._}){return s(p,u,o),(0,l.jsx)(n.Z,{..._,alt:e,color:i,elementTiming:a,fetchPriority:r,fit:g,id:m,naturalHeight:d,naturalWidth:c,onLoad:u,src:p,srcSet:h,children:t})}},765853:(e,t,i)=>{i.d(t,{ku:()=>F,Jx:()=>j,PY:()=>C});var a=i(845729),n=i(248750),l=i(353168),r=i(69118),s=i(294726),o=i(348595),d=i(326081);let c=()=>(0,d.PJ)().reduce((e,{identifier:t,loadTime:i,renderTime:a})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:i,[`${t}_dupe_renderTime`]:a}:e:{...e,[`${t}_loadTime`]:i,[`${t}_renderTime`]:a},Object.freeze({}));var u=i(886303),p=i(489195),g=i(202953);let m=e=>{let t=(0,g.y0)();return e.reduce((e,{name:i,match:a})=>t.filter(e=>a(e)).slice(0,2).reduce((e,t,a)=>({...e,...(0,r.jh)(`${i}${a?"_dupe1":""}_`,(0,u.Z)(t))}),e),Object.freeze({}))},h=e=>{if("pin_closeup"===e){let e=(0,p.Z)();return m([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var _=i(192307),y=i(920301),x=i(914495),f=i(90727),v=i(399022),k=i(147921),b=i(671481);let P=(0,a.XV)("LightStopwatch"),S=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,v.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},w={},j=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:i,name:a,pwtStaticContext:d})=>{let u=S(),p=(0,f.Z)(d.fullPath),g=!0,m={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,n.A9)(`TIMING.${a}`,{tags:{isAuth:d.isAuthenticated}});let v={type:"stopwatch",name:a,navigationType:"initial_app_load",isAuthenticated:d.isAuthenticated,surface:""},j={abort:p=>{if(!g){(0,n.H)("duplicate_abort_action",{action:a});return}g=!1;let f=(0,k.Z)(),P=(0,o.Z)(),S=u.get(),w={reason:p,type:"ABORT",traceId:(0,k.Z)(),startTime:0,endTime:b.Z?.now()||0,spans:[{name:"network_resources",id:f,startTime:0,endTime:b.Z?.now()||0,annotationMap:{},binaryAnnotationMap:{},parentId:null},...S.map(e=>(0,x.Z)((0,_.p)(e,[]),f)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",i?h(i):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",t&&t.length?(0,r.Hd)((0,l.gQ)(),t):{}),...(0,r.jh)("browser_",P?(0,r.D3)(P):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:v,pwtStaticContext:d,performanceResourceTimings:S,binaryAnnotations:m,type:"ABORT"})};(0,y.Z)({metricId:v,pwtStaticContext:d,result:w,isAuth:d.isAuthenticated})},error:(e,t)=>{let i={...t,action:a};if(!g){(0,n.H)("duplicate_error_action",i);return}e&&(0,n.H)(e,i),u&&u.disconnect(),g=!1},stop:p=>{if(!g){(0,n.H)("duplicate_stop_action",{action:a});return}g=!1,u.disconnect();let f=(0,k.Z)(),b=(0,o.Z)(),P=u.get(),S={type:"COMPLETE",traceId:(0,k.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:f,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...P.map(e=>(0,x.Z)((0,_.p)(e,[]),f)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",i?h(i):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",t&&t.length?(0,r.Hd)((0,l.gQ)(),t):{}),...(0,r.jh)("browser_",b?(0,r.D3)(b):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:v,pwtStaticContext:d,performanceResourceTimings:P,binaryAnnotations:m,type:"COMPLETE"})};(0,y.Z)({metricId:v,pwtStaticContext:d,result:S,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,i)=>{P(`adding binary annotation {${e}: ${String(t)}}`),m={...m,[e]:{value:t,type:i}}}};return w[a]=j,j},I=e=>w[e],C=e=>!!I(e),F=({stopwatchName:e,binaryAnnotationName:t,value:i,annotationType:a})=>{let n=I(e);n&&n.addBinaryAnnotation(t,i,a)}},397230:(e,t,i)=>{i.d(t,{T:()=>l,g:()=>r});let{Provider:a,useHook:n}=(0,i(504178).Z)({name:"story_pin_step",sampleRate:1}),l=a,r=n},90727:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let i=t.split("/")[3];return i?"feedback"===i||"sent"===i?i:null:"default"}},489195:(e,t,i)=>{i.d(t,{Z:()=>n,f:()=>a});let a="closeupImage",n=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},76513:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(240760);function n({m:e,h:t,rm:i,rh:l},r,s=!1){return e&&(!t||l<=0)?s?(0,a.nk)(r.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:i.toString()}):(0,a.nk)(r.nbt(["{{mins}} minute", "{{mins}} minutes"], i, "number showing the minutes to complete a recipe", true),{mins:i.toString()}):t?s?(0,a.nk)(r.bt("{{hrs}}hr {{mins}}min", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:t.toString(),mins:e.toString()}):(0,a.nk)(r.nbt(["{{hrs}} hour", "{{hrs}} hours"], l, "number showing the hours to complete a recipe", true),{hrs:l.toString()}):null}},959557:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(357013),n=i(240760),l=i(785893);function r({m:e,h:t,rm:i,rh:r},s){return e&&(!t||r<=0)?(0,n.nk)(s.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeText.minutesLabel", undefined, true),{mins:(0,l.jsx)(a.Z,{maximumFractionDigits:2,value:i},"recipe-minutes")}):t?(0,n.nk)(s.bt("{{hrs}} hr", "{{hrs}}hr", "closeup.makeRecipeText.hoursLabel", undefined, true),{hrs:(0,l.jsx)(a.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},964803:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(240760);function n(e,t){return e<60?(0,a.nk)(t.bt("{{mins}} min", "{{mins}}min", "recipe.minutes", undefined, true),{mins:e}):(0,a.nk)(t.bt("{{hrs}} hr {{mins}} min", "{{hrs}}h {{mins}} min", "recipe.time", undefined, true),{mins:e%60,hrs:Math.floor(e/60)})}},560083:(e,t,i)=>{i.d(t,{Gj:()=>l,QO:()=>d,V3:()=>s,ah:()=>r,cO:()=>g,dn:()=>u,fP:()=>p,zP:()=>o});var a=i(880496),n=i(1006);let l="https://schema.org/FollowAction",r="https://schema.org/LikeAction",s=e=>{let{thumbnail:t,url:i,width:a,height:n,duration:l}=e||{};return t&&i&&a&&n&&{thumbnail:t,url:i,width:a,height:n,duration:l}||void 0},o=({isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:a})=>{(0,n.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:a})},d=(e,{userName:t,fullName:i})=>{let a=t||"";return{"@type":"Person",name:i||a,url:e+"/"+a}},c=e=>(0,a.o)(e||"").trim();function u(e,t,i,a,n,l){i=i.trim();let r=(t=t.trim())||l||i||a;if(!e||!e.metatags)return{title:r,description:i||t||n};let{description:s=""}=e.metatags;return{title:r,description:c(s)||t||n}}let p=(e,t,i)=>{let a=t;return i?{fallbackTitle:a="recipe"===e?i.bt("Pinterest recipe", "Pinterest Recipe", "pin.closeup.leafsnippet.recipe", undefined, true):"howto"===e?i.bt("Pinterest how-to", "Pinterest How To", "pin.closeup.leafsnippet.howto", undefined, true):"video"===e?i.bt("Pinterest Video", "Pinterest Video", "pin.closeup.leafsnippet.video", undefined, true):"product"===e?i.bt("Pinterest product", "Pinterest Product", "pin.closeup.leafsnippet.product", undefined, true):i.bt("Pin page", "Pin page", "pin.closeup.leafsnippet.pin", undefined, true),fallbackDescription:a}:{fallbackTitle:a,fallbackDescription:a}},g=e=>{if(!e)return;let t=!!e.ratingCount||!!e.reviewCount,{ratingValue:i}=e;if(!t||!i||Number.isNaN(parseFloat(i)))return;let a=e.ratingCount||e.reviewCount;return{"@type":"AggregateRating",ratingValue:e.ratingValue,ratingCount:a,bestRating:5,worstRating:1}}},749465:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(992951);function n({scrollPosition:e,containerSize:t,contentSize:i,intendedDistance:a,extendToEdgeDistance:n=0}){let l=i-t,r=a;return r=Math.max(r=Math.min(r,l-e),-e),a>0&&l-(e+r)<=n?r=l-e:a<0&&e+r<=n&&(r=-e),r}let l={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function s(e,t,i,o={}){let d={...l,...o},{scrollLeft:c,scrollTop:u,scrollWidth:p,scrollHeight:g,clientWidth:m,clientHeight:h}=e,_=n({scrollPosition:c,containerSize:m,contentSize:p,intendedDistance:t,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=n({scrollPosition:u,containerSize:h,contentSize:g,intendedDistance:i,extendToEdgeDistance:d.extendToEdgeDistanceY}),x=Math.max(Math.abs(Math.floor(_/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(x=Math.max(x,d.minScrollDuration));let f=r[d.easingFunction]||r["ease-in-out"];return(0,a.Z)({window,duration:x,run:t=>{e.scrollLeft=c+_*f(t),e.scrollTop=u+y*f(t),1===t&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},585579:(e,t,i)=>{i.d(t,{GZ:()=>a,OE:()=>n,zX:()=>l});let a=246,n=197,l=236},358413:(e,t,i)=>{i.d(t,{Z:()=>ek});var a=i(667294),n=i(616550),l=i(883119),r=i(877687),s=i(293704),o=i(494409),d=i(545007),c=i(144326),u=i(343583),p=i(827106),g=i(66560),m=i(785893);let h=e=>{let t=(0,c.ZP)(),{sourceUrl:i,clientTrackingParams:a,linkText:n,displayUrl:r,image:s,pageId:o,canonicalUrl:p,pinId:h,onTouch:_,onClickThrough:y,isLoading:x}=e,f={story_pin_page_id:o,story_pin_data_id:(0,d.v9)(t=>e.pinId&&t.pins?.[e.pinId]?.story_pin_data_id),src_url:i,canonical_url:p},v=()=>{y&&y({auxData:f})},k=(0,m.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,m.jsx)(l.xu,{alignItems:"center",color:x||s&&s.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:x?(0,m.jsx)(l.$j,{accessibilityLabel:t.bt("Loading website", "Loading website", "a11y for loading spinner", undefined, true),show:!0}):s&&s.url?(0,m.jsx)(l.Ee,{alt:n,fit:"cover",naturalHeight:s.height??1,naturalWidth:s.width??1,src:s.url}):(0,m.jsx)(l.JO,{accessibilityLabel:t.bt("Default link block icon", "Default link block icon", "Icon for default link blocks without an image", undefined, true),color:"subtle",icon:"link",size:35})}),(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,m.jsx)(l.xv,{lineClamp:1,weight:"bold",children:n}),(0,m.jsx)(l.xv,{color:"shopping",size:"200",children:r})]})]}),b=(0,g.S6)()(h),P=(0,u.Z)({href:{pathname:i,state:{trackingParams:a}},target:"blank",clientTrackingParams:a,externalData:b?{pin:b&&{attributionSourceId:b.attribution_source_id,board:b.board&&{url:b.board.url},campaignId:b.campaign_id,entityId:b.id,isDownstreamPromotion:b.is_downstream_promotion,isPromoted:b.is_promoted,pinner:b.pinner&&{username:b.pinner.username},pinPromotionId:b.pin_promotion_id,promoter:b.promoter&&{entityId:b.promoter.id},storyPinDataId:b.story_pin_data_id,trackingParams:b.tracking_params,advertiserId:b.advertiser_id}}:void 0});return _?(0,m.jsx)(l.iP,{onTap:_,rounding:2,children:k}):(0,m.jsx)(l.Tg,{href:i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),v(),P({event:e})},rel:"nofollow",rounding:2,target:"blank",children:k})},_=e=>(0,m.jsx)(p.i,{...e,children:(0,m.jsx)(h,{...e})});var y=i(573706),x=i(66810);let f=(0,i(179735).Z)(()=>Promise.all([i.e(88962),i.e(28164)]).then(i.bind(i,941214)),void 0,"app-common-react-components-Activities-Utils-Linkify"),v=({block:e,clientTrackingParams:t,pageId:i,pinId:a,onClickThrough:n})=>{let{logContextEvent:r}=(0,y.v)();switch(e.type){case x.h8.LINK:let{canonical_url:s,image:o,normalized_url:d,src_url:c,text:u=""}=e,p=o?.images?.["345x"];if(o&&c&&d&&s)return(0,m.jsx)(l.xu,{marginTop:5,children:(0,m.jsx)(_,{canonicalUrl:s,clientTrackingParams:t,displayUrl:d,image:p,linkText:u,onClickThrough:n,onVisibilityChanged:e=>{e&&r({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:a,aux_data:{story_pin_page_id:i,srcUrl:c,canonicalUrl:s}})},pageId:i,pinId:a,sourceUrl:c})});return null;case x.h8.HEADING:{let{text:t=""}=e;return(0,m.jsx)(l.xu,{marginBottom:4,paddingX:2,children:(0,m.jsx)(l.X6,{accessibilityLevel:2,overflow:"normal",size:"500",children:t})})}case x.h8.PARAGRAPH:{let{text:t=""}=e;return(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,m.jsx)(l.xv,{children:(0,m.jsxs)(f,{children:[" ",t," "]})})})}default:return null}};var k=i(512541);let b=`
@media (min-height: 0) {
  .StoryPinText {
    padding: 15px;
  }
  .StoryPinText span {
    font-size: 12px;
  }
  .StoryPinText h2 {
    font-size: 18px;
  }
}

@media (min-height: 600px) {
  .StoryPinText {
    padding: 2.5vh;
  }
  .StoryPinText span {
    font-size: 2vh;
  }
  .StoryPinText h2 {
    font-size: 3vh;
  }
}

@media (min-height: 800px) {
  .StoryPinText {
    padding: 20px;
  }
  .StoryPinText span {
    font-size: 16px;
  }
  .StoryPinText h2 {
    font-size: 24px;
  }
}
`,P=e=>{let{blocks:t,clientTrackingParams:i,pageId:n,pinId:l,onClickThrough:r}=e;return(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)(k.Z,{unsafeCSS:b}),(0,m.jsx)("div",{className:"StoryPinText",children:t.filter(e=>e).map((e,t)=>(0,m.jsx)(v,{block:e,clientTrackingParams:i,onClickThrough:r,pageId:n,pinId:l},t))})]})};var S=i(158092);let w=s._B*x.ap,j=`
.StoryPinTextDrawer {
  background: #fff;
  border-top-left-radius: 32px;
  border-top-right-radius: 32px;
  bottom: 0;
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 20px 0;
  box-sizing: border-box;

  height: auto;
  max-height: 15%;
  opacity: 0.625;
  position: absolute;
  transition: max-height 0.15s ease-in, opacity 0.15s ease-in;
  width: 100%;
}

.StoryPinTextDrawer:hover {
  max-height: 70%;
  opacity: 1;
  overflow: scroll;
}
`;function I(e){let t=(0,c.ZP)(),{activePageIndex:i,clientTrackingParams:n,hideText:r,isActive:o,isCoverPage:d,muteVideos:u,onClickThrough:p,page:{image_adjusted:g,image:h,blocks:_,video:y,id:x},pageIndex:f,pageWidth:v,pin:b,pinId:I}=e,{images:C={}}=g||h||{},F=C["750x"],{video_list:T={}}=y||{},A=T.V_HLSV3_MOBILE||T.V_720P;if(!F&&!A)return null;let L=v/s._B;return(0,m.jsxs)(a.Fragment,{children:[!!y&&!!A&&(0,m.jsx)(S.Z,{activePageIndex:i,blockHeight:w*L,blockWidth:s._B*L,isPlaying:o,muted:u,pageIndex:f,pin:b,pinId:I,video:y}),F&&!A&&(0,m.jsx)(l.Ee,{alt:function(e){let t="";for(let i of e.blocks??[])[1,0].includes(i.block_type)&&(t=i.text?i.text:"");return t??""}(e.page)||t.bt("Story Pin image", "Story pin image", "Alt text for story pin image", undefined, true),fit:d?"cover":"contain",naturalHeight:F.height??1,naturalWidth:F.width??1,src:F.url??""}),_&&_.length>0&&!r&&(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)(k.Z,{unsafeCSS:j}),(0,m.jsx)("div",{className:"StoryPinTextDrawer",children:(0,m.jsx)(P,{blocks:_,clientTrackingParams:n,onClickThrough:p,pageId:x,pinId:I})})]})]})}let C=e=>{let{page:{image_adjusted:t,blocks:i}}=e,{images:n={}}=t||{},r=n["750x"];if(!r)return null;let{width:s,height:o}=r;return(0,m.jsx)(a.Fragment,{children:r&&(0,m.jsx)(l.Ee,{alt:(i??[]).map(e=>e.text||"").join(),fit:"contain",naturalHeight:o??1,naturalWidth:s??1,src:r.url??""})})};var F=i(641591),T=i(136061),A=i(961754),L=i(592272),K=i(509781),R=i(590045),Z=i(584288);function E({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:a,productPins:n,viewParameter:l,viewType:r}){let{previous:s,forward:d}=(0,T.Hv)(),c=0===s.length&&0===d.length,u=(0,Z.t)();return(0,m.jsx)(L.o,{closeupPaneWidth:R.Gg,headerHeight:u,isLandingPage:c,loadFonts:F.Z,productPins:n,renderStoryPinMediaLayout:({activePageIndex:e,hideText:i,isActive:n,isCoverPage:l,muteVideos:r,onClickThrough:s,page:o,pageIndex:d,pageWidth:c,pinId:u})=>(0,m.jsx)(I,{activePageIndex:e,clientTrackingParams:t,hideText:i,isActive:n,isCoverPage:l,muteVideos:r,onClickThrough:s,page:o,pageIndex:d,pageWidth:c,pin:a,pinId:u}),renderStoryPinPage:({activePageIndex:e,customEndCard:n,fontsLoaded:s,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:p,onUpdateVideoInfo:g,page:h,pageAspectRatio:_,pageHeight:y,pageWidth:x,ownerId:f,pinId:v,productPins:k,shouldLogTimeSpent:b,stillLoading:P,videoPinProgress:S})=>(0,m.jsx)(o.Z,{activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:n,fontsLoaded:s,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:p,onUpdateVideoInfo:g,ownerId:f,page:h,pageAspectRatio:_,pageHeight:y,pageIndex:e,pageWidth:x,pin:a,pinId:v,productPins:k,shouldLogTimeSpent:b,stillLoading:P,videoPinProgress:S,viewParameter:l,viewType:r}),renderStoryPinSplitLayout:({page:e})=>(0,m.jsx)(C,{page:e}),renderStoryPinText:({blocks:e,onClickThrough:i,pageId:a,pinId:n})=>(0,m.jsx)(P,{blocks:e,clientTrackingParams:t,onClickThrough:i,pageId:a,pinId:n}),children:e})}function D({clientTrackingParams:e,children:t,isInStream:i,viewType:a,viewParameter:n}){return i?t:(0,m.jsx)(K.Z,{clientTrackingParams:e,component:85,view:a,viewParameter:n,children:t})}function z({children:e,pin:t}){return e({productPins:(0,A.Z)({name:"StoryPinTaggedProductsResource",options:{id:t.id},noCache:!0}).data||[]})}function M({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:a,isInStream:n=!1,viewType:l,viewParameter:r}){let s=!!a.story_pin_data?.has_product_pins,o=({productPins:n})=>(0,m.jsx)(E,{clientTrackingParams:t,closeupStoryPinViewability:i,pin:a,productPins:n,viewParameter:r,viewType:l,children:e});return(0,m.jsx)(D,{clientTrackingParams:t,isInStream:n,viewParameter:r,viewType:l,children:s?(0,m.jsx)(z,{pin:a,children:o}):o({productPins:[]})})}var B=i(488792),O=i(602185),V=i(766546),H=i(891985),U=i(488379),N=i(947956),W=i(297728),$=i(770975),G=i(397230),q=i(750077),X=i(691566),Q=i(730212),Y=i(154785);function J({appConfig:e}){let t=(0,c.ZP)(),i=(0,Y.Z)(),{isRTL:n}=(0,Q.B)();return(0,m.jsx)(a.Fragment,{children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!n,paddingX:4,position:"absolute",right:n,top:!0,children:"authDesktop"===e.type&&(0,m.jsx)(l.hU,{accessibilityLabel:t.bt("Back button", "Back button", "storyPin.closeup.back", undefined, true),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{i({action:"click",item:"back-button"}),e.onNavigateBack()},size:"lg"})})})}var ee=i(905184),et=i(599930),ei=i(897461),ea=i(17963),en=i(267676),el=i(257548),er=i(969119),es=i(673687),eo=i(115642),ed=i(359107),ec=i(127566);let eu=(0,a.lazy)(()=>i.e(3434).then(i.bind(i,703302))),ep=(0,a.lazy)(()=>Promise.resolve().then(i.bind(i,146494))),eg=(0,a.lazy)(()=>i.e(43473).then(i.bind(i,396261))),em=(0,a.lazy)(()=>Promise.all([i.e(97270),i.e(73583),i.e(24859)]).then(i.bind(i,373583))),eh=(0,a.lazy)(()=>Promise.resolve().then(i.bind(i,24116))),e_={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},ey={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ex={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ef=[5,6,2];function ev({appConfig:e,clientTrackingParams:t,isInFocus:i,isInStream:n=!1,isStreamMuted:o,isStreamPanelOpen:d=!0,pin:u,storyPinData:p,onIdeaPinCloseupCommentClick:g,setStreamIsMuted:h,streamItemIndex:_,togglePanel:y,variant:f,viewType:v=3,viewParameterType:k,onTogglePanel:b}){let P;let S=(0,L.c)(),{peekCloseupEnabled:w,viewportSize:j}=(0,eo.x4)(),I=(0,c.ZP)(),C=(0,B.Z)(),F=(0,G.g)(),T=(0,$.E)(),{setIdeaPinActivePage:A,setIdeaPinDynamicWidth:K}=(0,ed.Ut)(),{activePage:R}=(0,ed.H8)(),{clearSeekTime:Z}=(0,en.RC)(),{seekTimes:E}=(0,en.Hx)(),{closeupPaneWidth:D,headerHeight:z,isLandingPage:M,renderStoryPinMediaLayout:V,renderStoryPinPage:Q,renderStoryPinSplitLayout:Y,renderStoryPinText:ec,productPins:ev}=S||{},{id:ek,image_signature:eb,story_pin_data_id:eP}=u,eS=E&&E[u.id],ew=!!p?.is_deleted,ej=u.native_creator?.id,{pages:eI=[],metadata:eC={}}=p||{},{canvas_aspect_ratio:eF,version:eT}=eC,eA=eF??x.ap,[eL,eK]=(0,a.useState)(0),eR=(0,a.useRef)(0),eZ=(0,a.useRef)(null),[eE,eD]=(0,a.useState)("closeup"===f&&i),[ez,eM]=(0,a.useState)(375),eB="calc(100% - 32px)",eO=(0,a.useRef)(null),[eV,eH]=(0,a.useState)(!1),[eU,eN]=(0,a.useState)(!1),[eW,e$]=(0,a.useState)(!0);(0,a.useEffect)(()=>{b&&b(eW)},[eW,b]),(0,a.useEffect)(()=>{e$(d)},[d]);let{should_mute:eG=!0,music_attributions:eq=[]}=eI[eL],[eX,eQ]=(0,a.useState)(M||eG),eY=void 0!==h?h:eQ,eJ=void 0!==o?o:eX;(0,a.useEffect)(()=>{eG&&eY(!0)},[eG,eY]);let e0=eI.filter(e=>!ef.includes(e.layout)),e1=e0.length,e2=e0[eL],e4=k||(0,N.Z)({hasPin:!!u,hasPinRichMetadata:!!u.rich_metadata,hasPinRichMetadataProducts:!!u.rich_metadata?.products,hasPinRichMetadataArticle:!!u.rich_metadata?.article,hasPinRichMetadataRecipe:!!u.rich_metadata?.recipe,hasPinStoryPinData:!!u.story_pin_data}),e3=z+64,{getNormalizedPinImage:e6}=(0,U.Z)({pinKey:{type:"deprecated",data:u},maxWidth:X.RZ}),e7="closeup"===f,e8=()=>{if("undefined"!=typeof window){let e=window.innerWidth-(eW?D:0)-216;if(e7)eM(function({availableWidth:e,pageAspectRatio:t,unavailableHeight:i,windowInnerHeight:a}){let n=a-i,l=Math.min(Math.max(650,Math.min((a-i)*t,e)),1e3);return l/t>=n&&(l=n*t),l}({availableWidth:e,pageAspectRatio:eA,unavailableHeight:e3,windowInnerHeight:window.innerHeight}));else{let{width:e}=e6();eM(e),K(e)}}};(0,er.Z)(()=>(window.addEventListener("resize",e8),e8(),()=>{window.removeEventListener("resize",e8)}));let[e5,e9]=(0,a.useState)(!1),[te,tt]=(0,a.useState)(null),[ti,ta]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!ti&&i&&(C({event_type:7588,view_type:v,view_parameter:e4,component:13801,object_id_str:ek,aux_data:{..."number"==typeof _?{grid_index:_}:{}}}),ta(!0))},[ti,i,C,ek,v,e4,_]);let{checkExperiment:tn}=(0,W.F)(),[tl,tr]=(0,a.useState)(!1),ts=i&&n&&tn("closeup_mweb_remove_fsv_logging");(0,a.useEffect)(()=>{!tl&&i&&n&&!ts&&(C({event_type:9314,view_type:v,view_parameter:e4,component:13801,aux_data:{grid_index:_,pin_id:ek,image_signature:eb,creator_id:ej,story_pin_data_id:eP},clientTrackingParams:t}),tr(!0))},[t,ej,eb,i,n,eP,v,e4,ek,tl,C,_,ts]);let to=(0,a.useCallback)(e=>{let{blocks:t}=eI[e]||{},a=t?.find(e=>3===e.block_type);eO.current&&eO.current instanceof el.B7&&(eO.current.clear(),eO.current=null),!a&&i&&(eO.current=new el.B7(e=>{tt({currentTime:e<1?e:1,duration:1})},()=>{let t="closeup"===f?e:R;t<e1-1?(eO.current&&eO.current instanceof el.B7&&(eO.current.clear(),eO.current=null),tp(t+1)):(eH(!0),eD(!1))},H.oN))},[i,e1,eI,R,f]),td=e=>{tt({currentTime:0,duration:1}),to(e)};(0,a.useEffect)(()=>{eR.current=eL},[eL]),(0,a.useEffect)(()=>{eZ.current=eE},[eE]),(0,er.Z)(()=>(td(eL),()=>{eO.current&&eO.current instanceof el.B7&&eZ.current&&eO.current.clear()}));let tc=()=>{T&&(T.addBinaryAnnotation("page.current.index",eL,"I16"),T.addBinaryAnnotation("page.count",eI.length,"I16"),T.addBinaryAnnotation("view.type",v,"I32"),T.addBinaryAnnotation("view.parameter",e4,"I32"))},tu=e=>{T&&T.abort("startNewPwt"),F&&(F.abort("startNewPwt"),F.start(),F.addBinaryAnnotation("page.current.index",e,"I16"),F.addBinaryAnnotation("page.count",eI.length,"I16"),F.addBinaryAnnotation("view.type",v,"I32"),F.addBinaryAnnotation("view.parameter",e4,"I32"))};(0,er.Z)(()=>{tc()});let tp=e=>{eE||eD(!0),eV&&eH(!1),td(e),e!==eL&&Z(),eK(e),A(e),tu(e)};(0,a.useEffect)(()=>{if(eV&&eH(!1),eO.current&&eS){let e=eO.current;e.pause(),e.remaining=H.oN-eS*es.gJ,tt({currentTime:eS/H.P6,duration:1})}},[eS]),(0,a.useEffect)(()=>{A(R)},[A,R]),(0,a.useEffect)(()=>{"related-products"===f&&(eK(R),tp(R))},[R,f]);let tg=()=>eV?13799:0===eL?227:228,tm=()=>{eL<e1-1&&(tp(eL+1),C({event_type:101,view_type:v,view_parameter:e4,component:tg(),element:12261,object_id_str:ek}))},th=()=>{eL===e1-1&&eV?(tp(eL),C({event_type:101,view_type:v,view_parameter:e4,component:tg(),element:12260,object_id_str:ek})):eL>0&&(tp(eL-1),C({event_type:101,view_type:v,view_parameter:e4,component:tg(),element:12260,object_id_str:ek}))},t_=e=>{let{keyCode:t}=e,{srcElement:i}=e,a=i.isContentEditable||i.contentEditable&&"true"===i.contentEditable;37!==t||a?39!==t||a||tm():th()};(0,a.useEffect)(()=>(document.addEventListener("keydown",t_),()=>document.removeEventListener("keydown",t_)),[eL]);let{fontsLoaded:ty,mediaDataReceived:tx}=(0,ea.tq)({hasPin:!!u,pages:eI}),tf=eT?(0,el.n4)(eT,"0.8.0"):null,tv=null!=tf&&tf>=0,tk=t=>{let i=0===t.layout;switch(t.layout){case 0:case 1:return V({activePageIndex:eL,hideText:i,isActive:!0,isCoverPage:i,muteVideos:eJ,onClickThrough:e.onClickThrough,page:t,pageIndex:eL,pageWidth:ez,pinId:ek});case 4:return t.blocks.length>0&&ec({blocks:t.blocks,pageId:`text-${eL}`,page:t,pinId:ek,onClickThrough:e.onClickThrough});case 3:return Y({page:t});default:return null}},tb=e=>{e===e1-1&&(eH(!0),eD(!1),A(0)),e===eL&&tm()},tP=e=>{tt({currentTime:e?.currentTime??0,duration:e?.duration??1})},tS=()=>{eN(!0),eD(!1),eO.current&&!eO.current.paused&&eO.current.pause()},tw=e=>eI[e]?tv?Q({activePageIndex:eL,fontsLoaded:ty,customEndCard:!0,isActive:e===eL&&eE,muteVideos:eJ,onChangeMuteVideo:eY,onEnded:tb,onFlyoutOpen:tS,videoPinProgress:eL===e?te:void 0,onUpdateVideoInfo:tP,ownerId:u.native_creator?.id??"",page:eI[e],pageAspectRatio:eA,pageIndex:e,pageHeight:ez/eA,pageWidth:ez,pinId:u.id,productPins:ev,shouldLogTimeSpent:i,stillLoading:!tx}):tk(e2):null,tj=()=>{eD(!1),eO.current&&eO.current.pause(),C({event_type:9324,view_type:v,view_parameter:e4,component:tg(),object_id_str:ek,aux_data:{story_pin_page_id:eL}})},tI=()=>{if(eD(!0),eO.current){let e=eO.current;eS&&eS>0&&Z(),e.resume()}else te||td(eL);C({event_type:9323,view_type:v,view_parameter:e4,component:tg(),object_id_str:ek,aux_data:{story_pin_page_id:eL}})},tC=()=>{eV||(eN(!1),eE?tj():tI())};(0,a.useEffect)(()=>{"closeup"===f&&(!i||eV||eE?!i&&eE&&tj():tI())},[i,f]),(0,a.useEffect)(()=>{"related-products"===f&&tj()},[]);let tF=()=>{tp(0)},tT=()=>{n&&y?y():e$(!0)},{fiftyPercentWidth:tA,fiftyPercentHeight:tL}=(0,s.Re)(64),{maxHeight:tK}=(0,s.Re)(0,32),{fiftyPercentWidth:tR}=(0,s.Re)();return w&&(P="sm"===j?tL:tK),(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e7?{top:z,height:`calc(100vh - ${z}px)`,position:"sticky",pointerEvents:"none",minHeight:632,maxHeight:w?P:void 0,zIndex:eW?"auto":3}:{}},display:"flex",left:!0,children:[(0,m.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",minWidth:w&&"sm"!==j?tR:void 0}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[e7&&(0,m.jsx)(l.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),ew?(0,m.jsx)(et.Z,{height:ez/x.ap,rounding:x.yR,width:ez}):(0,m.jsxs)(a.Fragment,{children:[tx&&(0,m.jsx)(l.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:(()=>{let e=[];for(let t=1;t<=eI.length;t+=1)eL+t<eI.length&&e.push(tw(eL+t));return e})()}),(0,m.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:e7?void 0:`${x.YL}px`}},display:"flex",onMouseLeave:()=>{e9(!1)},onMouseOver:()=>e9(!0),position:"relative",children:(0,m.jsxs)(l.xu,{paddingX:4,children:[(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...ey,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:eB,zIndex:x.Gf,children:(0,m.jsx)(ei.Z,{activePageIndex:eL,handleMute:()=>{eG||eY(!eJ)},handlePanelChange:()=>{e$(!eW)},handlePause:tj,handlePausePlay:tC,handlePlay:tI,handleVideoScrubbingNewPage:e=>{eV&&eH(!1),td(e),eK(e),A(e),tu(e)},handleWatchAgain:tF,inMilliseconds:!0,isMuted:eJ,isPanelOpen:eW,isPlaying:eE,onPageSelect:e=>tp(e),pageCount:e1,pages:e0,pinId:u.id,progressInfo:te,showEndCard:eV,showVideoControls:e5,viewParameter:e4})}),(0,m.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...eW?ex:{paddingLeft:"26px",bottom:0},marginBottom:eW?void 0:"88px",maxWidth:tA}},"data-test-id":"music-attribution",display:"flex",justifyContent:eW?"center":"start",overflow:"hidden",paddingY:eW?5:void 0,position:"absolute",width:ez,zIndex:x.Gf,children:(0,m.jsx)(r.Z,{handlePause:tj,handlePlay:tI,musicAttributions:eq,shouldMute:eG,showEndCard:eV})}),!eV&&!eW&&(0,m.jsxs)(l.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:eW?{}:e_},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:eB,zIndex:x.Gf,children:[(0,m.jsxs)(l.kC,{alignItems:"stretch",direction:"row",children:[!eW&&(0,m.jsx)(O.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(eh,{imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id})})}),!eW&&u.is_eligible_for_aggregated_comments&&(0,m.jsx)(O.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(eu,{onCommentClick:()=>{C({event_type:101,view_type:v,view_parameter:e4,component:13801,element:10944,object_id_str:u.id}),tT(),g&&g();let e=document.getElementById(`canonical-card-${u.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!eW&&(0,m.jsx)(O.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,m.jsx)(em,{clientTrackingParams:t,component:13801,iconColor:"white",pinId:u.id,reactionByMe:u.reaction_by_me,showTooltip:!0,viewParameter:e4,viewType:v})})})})]}),!eW&&(0,m.jsx)(O.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,m.jsx)(eg,{clientTrackingParams:t,isCloseupPin:!0,onClickCallback:()=>{C({event_type:101,view_type:v,view_parameter:e4,component:13801,element:0,object_id_str:u.id})},pinKey:{type:"deprecated",data:u},size:"lg"})})})})]}),(0,m.jsx)(l.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,m.jsx)(l.iP,{accessibilityLabel:eE?I.bt("Pause", "Pause", "storyPin.closeup.pauseButton.accessibilityLabel", undefined, true):I.bt("Play", "Play", "storyPin.closeup.playButton.accessibilityLabel", undefined, true),disabled:eV,onTap:tC,rounding:x.yR,children:(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{maxWidth:tA,maxHeight:P}},"data-test-id":"story-pin-closeup-page",height:ez/eA,overflow:"hidden",position:"relative",rounding:x.yR,width:ez,children:[tw(eL),!eV&&!eU&&!eS&&(0,m.jsx)(ee.Z,{playing:eE}),"authDesktop"===e.type&&eV&&u.native_creator&&(0,m.jsx)(O.Z,{name:"IdeaPinCloseup_EndCard",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:x.yR,top:!0,zIndex:x.s5,children:(0,m.jsx)(ep,{clientTrackingParams:u.trackingParams||u.tracking_params,imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id,watchAgain:tF})})})})]})})})]})})]}),!n&&e7&&(0,m.jsx)(J,{appConfig:e})]}),eW&&e7&&(0,m.jsx)(l.xu,{flex:"none",height:"100%",position:"relative",width:D,children:"duplo"===e.type&&e.storyPinDetails})]})}function ek(e){let{pin:t,viewType:i=3,viewParameterType:r}=e,[s,o]=(0,a.useState)({isInFocus:!0,viewability:0}),{isInFocus:d,viewability:c}=s,u=r||(0,N.Z)({hasPin:!!t,hasPinRichMetadata:!!t.rich_metadata,hasPinRichMetadataProducts:!!t.rich_metadata?.products,hasPinRichMetadataArticle:!!t.rich_metadata?.article,hasPinRichMetadataRecipe:!!t.rich_metadata?.recipe,hasPinStoryPinData:!!t.story_pin_data}),p=(0,n.TH)(),g=e.clientTrackingParams||(0,ec.Z)((p?.state||{}).trackingParams,t.trackingParams||t.tracking_params);return(0,m.jsx)(G.T,{children:(0,m.jsx)(V.Z,{onVisibilityChange:e=>{if(e&&e.length>0){let{intersectionRatio:t}=e[0];o({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:a=>(0,m.jsx)(l.xu,{ref:a,children:(0,m.jsx)(M,{clientTrackingParams:g,closeupStoryPinViewability:c,pin:t,viewParameter:u,viewType:i,children:d?(0,m.jsx)(K.Z,{clientTrackingParams:g,component:13801,objectId:t.id,view:i,viewParameter:u,children:(0,m.jsx)(ev,{...e,isInFocus:d})}):(0,m.jsx)(ev,{...e,isInFocus:d})})})})})}},905184:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(667294),n=i(883119),l=i(512541),r=i(66810),s=i(907409),o=i(785893);function d({playing:e,zIndexValue:t}){return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(l.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,o.jsx)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:r.yR,top:!0,zIndex:t?new n.Ry(t):s.lt,children:!e&&(0,o.jsx)(n.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},599930:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(883119),n=i(144326),l=i(785893);function r({height:e,isDenseView:t,rounding:i,width:r,color:s}){let o=(0,n.ZP)();return(0,l.jsx)(a.xu,{alignItems:"center",color:s||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:i,width:r,children:(0,l.jsxs)(a.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(a.xu,{paddingY:t?2:4,children:(0,l.jsx)(a.JO,{accessibilityLabel:o.bt("Pin not available", "Pin not available", "story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel", undefined, true),color:"default",icon:"alert",size:20})}),(0,l.jsx)(a.xv,{weight:"bold",children:o.bt("Unavailable", "Unavailable", "story-pin.Closeup.UnavailableIdeaPin.Unavailable", undefined, true)}),!t&&(0,l.jsx)(a.xu,{paddingY:1,children:(0,l.jsx)(a.xv,{children:o.bt("Removed by the creator", "Removed by the creator", "story-pin.Closeup.UnavailableIdeaPin.Removed", undefined, true)})})]})})}},897461:(e,t,i)=>{i.d(t,{Z:()=>b});var a=i(667294),n=i(883119),l=i(144326),r=i(891985),s=i(297728),o=i(730212),d=i(63335),c=i(66810),u=i(267676),p=i(1006),g=i(154785),m=i(410150),h=i(969119),_=i(673687),y=i(644797),x=i(115642),f=i(785893);let v=()=>{},k=({accessibilityLabel:e,dataTestId:t,disable:i,handleTap:a,icon:l})=>(0,f.jsx)(n.xu,{"data-test-id":t,opacity:i?.5:void 0,children:(0,f.jsx)(n.iP,{disabled:i,onTap:a,children:(0,f.jsx)(n.JO,{accessibilityLabel:e,color:"light",icon:l,size:16})})});function b({activePageIndex:e,handlePanelChange:t,handlePlay:i,handlePause:b,handlePausePlay:P,handleMute:S,handleVideoScrubbingNewPage:w,handleWatchAgain:j,inMilliseconds:I,isPlaying:C,isMuted:F,isPanelOpen:T,pages:A,pageCount:L,pinId:K="",progressInfo:R,showEndCard:Z,showVideoControls:E=!1,viewParameter:D,isStoryPin:z=!0,captionsUrl:M=""}){let B=(0,l.ZP)(),{currentTime:O}=R||{},{seekTimes:V}=(0,u.Hx)(),{closeupWithinMasonryEnabled:H}=(0,x.x4)(),U=(0,o.B)(),N=(0,y.r)(),{checkExperiment:W}=(0,s.F)(),$=(0,m.HG)(),{isAuthenticated:G}=U,{captionsEnabled:q,setCaptionsEnabled:X}=N,Q=(0,g.Z)(),Y=A[e],{should_mute:J}=Y||F,ee=Object.keys(V).includes(K)&&V[K]?V[K]:O,et=(0,a.useMemo)(()=>A.map(e=>{let t=e.blocks?.find(e=>3===e.block_type),i=t?.video?.video_list?.V_HLSV3_MOBILE?.duration||t?.video?.video_list?.V_720P?.duration;return i?{duration:i,isVideo:!0}:{duration:r.oN,isVideo:!1}}),[A]),ei=[{duration:R?.duration||0,isVideo:!0}],ea=z?et:ei,en=(Y&&Y.blocks?.[0]||{}).video?.video_list?.V_HLSV3_MOBILE?.captions_urls,el=!1;(en&&0!==Object.keys(en).length||M)&&(el=!0);let er=F&&el&&W(G?"auth_default_captions_on":"unauth_default_captions_on").anyEnabled;(0,h.Z)(()=>{er&&X(!0)});let es=(0,a.useMemo)(()=>ea.reduce((e,t)=>e+(t.duration||0),0)/(z?_.gJ:1),[ea,z]),eo=(0,a.useMemo)(()=>ea.filter((t,i)=>i<e).reduce((e,t)=>e+(t.duration||0),0)/_.gJ,[ea,e]),ed=ea.length>0&&ea[e]?.isVideo?O??0:(O??0)*5+(eo??0),ec=B.bt("Hide captions", "Hide captions", "gestalt.video.accessibilityHideCaptionsLabel", undefined, true),eu=B.bt("Show captions", "Show captions", "gestalt.video.accessibilityShowCaptionsLabel", undefined, true);return(0,f.jsxs)(n.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,f.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:E||!C?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,f.jsxs)(n.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,f.jsx)(k,{accessibilityLabel:C?B.bt("Pause", "Pause", "closeup.IdeaPinVideo.Pause", undefined, true):B.bt("Play", "Play", "closeup.IdeaPinVideo.Play", undefined, true),dataTestId:`story-pin-closeup-${C?"pause":"play"}`,handleTap:Z&&j?j:P,icon:C?"pause":"play"}),R&&(0,f.jsxs)(n.xu,{"data-test-id":"time-display",children:[(0,f.jsx)(n.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`${(0,c.Lc)(ed)}`})," ",(0,f.jsx)(n.xu,{display:"inlineBlock",opacity:.6,children:(0,f.jsx)(n.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`/ ${(0,c.Lc)(es)}`})})]})]}),(0,f.jsxs)(n.kC,{direction:"row",gap:5,children:[el&&(0,f.jsx)(k,{accessibilityLabel:q?eu:ec,dataTestId:`closed-captions-button-${q?"disable":"enable"}`,handleTap:()=>{let e=$?"desktop_pin_page":"mweb_pin_page";q?(0,p.My)(`${e}.closed_captions_button.toggle_off`):(0,p.My)(`${e}.closed_captions_button.toggle_on`),Q({action:"click",item:"closed-captions-button"}),N.setCaptionsEnabled(!q)},icon:q?"captions":"captions-outline"}),(0,f.jsx)(k,{accessibilityLabel:F?B.bt("Unmute", "Unmute", "closeup.IdeaPinVideo.unmute", undefined, true):B.bt("Mute", "Mute", "closeup.IdeaPinVideo.mute", undefined, true),dataTestId:`story-pin-closeup-${F?"unmute":"mute"}`,disable:J,handleTap:S,icon:F?"mute":"sound"}),t&&!H&&(0,f.jsx)(k,{accessibilityLabel:T?B.bt("Maximise", "Maximize", "closeup.IdeaPinVideo.maximize", undefined, true):B.bt("Minimise", "Minimize", "closeup.IdeaPinVideo.minimize", undefined, true),dataTestId:`story-pin-closeup-${T?"maximize":"minimize"}`,handleTap:t||v,icon:T?"maximize":"minimize"})]})]}),(0,f.jsx)(d.ZP,{activePageCurrentTime:ee,activePageIndex:e,duration:es,handlePause:b,handlePlay:i,handleVideoScrubbingNewPage:w,inMilliseconds:I,isPlaying:C,pageCount:L,pageDurations:ea,pinId:K,progressInfo:R,shouldShowPlayhead:!0,showEndCard:Z,showVideoControls:E,videoDurations:ea,viewParameter:D})]})}},63335:(e,t,i)=>{i.d(t,{$E:()=>m,$:()=>h,ZP:()=>f});var a=i(667294),n=i(883119),l=i(488792),r=i(144326),s=i(891985),o=i(730212),d=i(785893);function c({pillHeight:e,scrubberWidth:t}){return(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m}},display:"flex",flex:"grow",height:e,overflow:"hidden",rounding:"pill",children:(0,d.jsx)(n.xu,{color:h,dangerouslySetInlineStyle:{__style:{width:t}},"data-test-id":"video-progress-bar",height:"100%",rounding:"pill"})})}var u=i(267676),p=i(410150),g=i(673687);let m="rgba(255,255,255,0.24)",h="light",_=()=>{},y=({children:e,setHoveringChange:t,handleMouseDown:i,handleMouseLeave:a,handleTouchStart:l,playhead:s,isPlaying:o,showVideoControls:c})=>{let u=(0,r.ZP)(),g=!(0,p.HG)();return(0,d.jsx)(n.iP,{children:(0,d.jsx)(n.xu,{ref:s,alignItems:"center","aria-label":u.bt("Video scrubber progress bar", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:g?"center":"start",marginBottom:g?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:i,onMouseLeave:a,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:l,opacity:c||!o?1:0,paddingY:g?6:0,position:"relative",role:"progressbar",width:"100%",children:e})})},x=({isRTL:e,isSeeking:t,scrubberWidth:i})=>(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:e?{right:i}:{left:i}},"data-test-id":"video-progress-bar-playhead",position:"relative",children:(0,d.jsx)(n.xu,{color:h,height:4,position:"absolute",rounding:"pill",children:(0,d.jsx)(n.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:t?-8:-6}},height:t?16:12,marginStart:-2,rounding:"circle",width:t?16:12})})});function f({activePageIndex:e,activePageCurrentTime:t,pageCount:i,progressInfo:r,showEndCard:m,duration:f=0,pageDurations:v=[],handlePlay:k=_,handlePause:b=_,handleVideoScrubbingNewPage:P=_,inMilliseconds:S,videoDurations:w=[],viewParameter:j,isInactiveStreamPin:I=!1,isPlaying:C=!1,setVideoProgress:F,shouldShowPlayhead:T=!1,showVideoControls:A=!0,pinId:L=""}){let K=!(0,p.HG)(),R=(0,a.useRef)(null),{isAuthenticated:Z,isRTL:E}=(0,o.B)(),[D,z]=(0,a.useState)(!1),[M,B]=(0,a.useState)(C),[O,V]=(0,a.useState)(),H=(0,l.Z)(),[U,N]=(0,a.useState)(!1),{clearSeekTime:W,updateSeekTime:$}=(0,u.RC)(),G=(0,a.useCallback)((t,a)=>{if(!I&&a<=i){if(a!==e&&P(a),F){let{isVideo:e}=w[a];F({currentTime:t/1e3,duration:e?r?.duration??1:r?.duration??5,pinId:L})}$(t/1e3,L)}H({event_type:101,view_type:3,view_parameter:j,component:14302})},[e,P,I,H,i,L,r?.duration,F,$,w,j]),q=v.map(e=>`${(e.duration||0)/f/10}%`),X=(0,a.useMemo)(()=>{let e=0;return v.map(({duration:t})=>{let i=t+e,a={min:e,max:i};return e=i,a})},[v]),Q=D?"0 1.2px":"0 1px",Y=e=>()=>z(e),J=(0,a.useCallback)(e=>{if(R.current){let{left:t=0,right:i=0,width:a=0}=R.current.getBoundingClientRect(),n=(E?Math.max(0,Math.min((i-e)/a,1)):Math.max(0,Math.min((e-t)/a,1)))*f*1e3,l=X.findIndex(e=>n>=e.min&&n<=e.max),r=-1===l?0:l;G(n-X[r].min,r)}},[f,G,X,E]),ee=(0,a.useCallback)(()=>{U||B(C||m),N(!0)},[U,B,C,m]),et=(0,a.useCallback)(e=>{ee(),C&&b(),J(e.pageX)},[ee,C,b,J]),ei=(0,a.useCallback)(e=>{U&&J(e.pageX)},[J,U]),ea=(0,a.useCallback)(e=>{if(U){e.preventDefault();let t=Array.from(e.changedTouches).find(e=>e.identifier===O);t&&J(t.pageX)}},[U,J,O]),en=(0,a.useCallback)(()=>{Y(!1),V(void 0),N(!1),Z||W(),M&&k()},[W,k,Z,M]),el=(0,a.useCallback)(e=>{Array.from(e.changedTouches).find(e=>e.identifier===O)&&(Y(!1),V(void 0),N(!1),W()),M&&k()},[W,k,M,O]);(0,a.useEffect)(()=>(U&&!I&&(window.addEventListener("mousemove",ei),window.addEventListener("mouseup",en),window.addEventListener("touchmove",ea),window.addEventListener("touchend",el)),()=>{window.removeEventListener("mousemove",ei),window.removeEventListener("mouseup",en),window.removeEventListener("touchmove",ea),window.removeEventListener("touchend",el)}),[ei,en,el,ea,I,U,J,M,O]);let er=(t,i)=>t<e||m?(0,d.jsx)(n.xu,{color:h,height:4,rounding:"pill"}):e===t&&r?(0,d.jsxs)(n.kC,{alignItems:"center",flex:"grow",children:[T&&(A||D||U||K)&&(0,d.jsx)(x,{isRTL:E,isSeeking:U,scrubberWidth:i}),(0,d.jsx)(c,{pillHeight:4,scrubberWidth:i})]}):(0,d.jsx)(n.xu,{color:h,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"});return(0,d.jsx)(y,{handleMouseDown:et,handleMouseLeave:()=>{Y(!1)},handleTouchStart:e=>{ee(),Y(!0);let t=e.changedTouches[0];V(t.identifier),C&&b(),J(t.pageX)},isPlaying:C,playhead:R,setHoveringChange:Y,showVideoControls:A,children:Array(i).fill(void 0).map((e,a)=>{let l=r?.currentTime??0,o=r?.duration??s.P6,c=w[a],u=`${c?.isVideo&&S?Math.floor(1e4*(t??l)/(c.duration/g.gJ))/100:l/o*100}%`;return(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:Q}},flex:"grow",width:q.length===i?q[a]:"auto",children:(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:er(a,u)})},`${L}-${a}`)})})}},592272:(e,t,i)=>{i.d(t,{c:()=>s,o:()=>r});var a=i(667294),n=i(785893);let l=(0,a.createContext)(null);function r({children:e,closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:s,renderStoryPinMediaLayout:o,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p}){let g=(0,a.useMemo)(()=>({closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:s,renderStoryPinMediaLayout:o,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p}),[t,i,r,s,o,d,c,u,p]);return(0,n.jsx)(l.Provider,{value:g,children:e})}let s=()=>(0,a.useContext)(l)},17963:(e,t,i)=>{i.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>g,xm:()=>u});var a=i(667294),n=i(641591),l=i(66810),r=i(257548),s=i(969119);let o=(e,t)=>{let i=(0,l.pE)(e,t);return`${i.y}px ${i.x}px`},d=({alignment:e,verticalAlignment:t})=>{let i={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?i.alignItems="center":2===t&&(i.alignItems="flex-end"),1===e&&(i.justifyContent="center",i.textAlign="center"),i},c=({fontSize:e,hexColor:t,highlightColor:i,letterSpacing:a,lineHeight:n,name:l})=>({fontSize:e,letterSpacing:a,color:t,fontFamily:l,margin:0,maxHeight:"100%",textShadow:!i&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...i?{backgroundColor:i,borderRadius:e/5,padding:o(e,n)}:{}}),u=({fontSize:e,hasText:t,highlightColor:i,lineHeight:a})=>({...i?{backgroundColor:t?i:void 0,borderRadius:e/5,padding:o(e,a)}:{}}),p=({letterSpacing:e,lineHeight:t,name:i,url:a})=>({fontFamily:i,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:a}]}),g=({hasPin:e,pages:t,limitToSingleFont:i})=>{let[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(()=>!!e&&(0,r.X7)(t)),g=()=>{let e=t.reduce((e,t)=>{let a=t?.blocks?.filter(e=>[l.h8.PARAGRAPH,l.h8.HEADING].includes(e.type))||[];return i&&a.length>1&&(a=[a[0]]),a.forEach(t=>{let i=t.style?.font||l.Cc.font,{name:a=""}=i;e[a]||(e[a]=i)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let i=e[t];return p({letterSpacing:i.letter_spacing,lineHeight:i.line_height,name:i.name,url:i.url})});(0,n.Z)(t),d(!0)}};return(0,s.Z)(()=>{g()}),(0,s.Z)(()=>{c||g()}),(0,a.useEffect)(()=>{c||u((0,r.X7)(t))},[c,t]),{fontsLoaded:o,mediaDataReceived:c}}},649248:(e,t,i)=>{i.d(t,{Z:()=>a});function a({currentTime:e,endTime:t,startTime:i}){return"number"!=typeof i||"number"!=typeof t||!(i>=0)||!(t>0)||!(i<t)||i<=e&&e<=t}},257548:(e,t,i)=>{i.d(t,{B7:()=>r,X7:()=>s,n4:()=>l});var a=i(66810);function n(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let l=(e,t)=>{let i=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e?.match(i)||!t?.match(i))return null;let a=e?.split("."),n=t?.split("."),l=Math.max((a??"").length,(n??"").length);for(let e=0;e<l;e+=1){let t=e<(a?.length??0)?parseInt(a?.[e]??"",10):0,i=e<(n?.length??0)?parseInt(n?.[e]??"",10):0;if(t<i)return -1;if(t>i)return 1}return 0};class r{constructor(e,t,i){if(n(this,"start",Date.now()),n(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=i,this.remaining=i,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}let s=e=>e.some(e=>(e?.blocks??[]).some(e=>e.type===a.h8.IMAGE&&!!e.image||e.type===a.h8.VIDEO&&(!!e.video||!!e.video_signature)))},880496:(e,t,i)=>{function a(e,t){let i=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>i.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}i.d(t,{Z:()=>n,o:()=>a});let n=e=>e.replace(/(<([^>]+)>)/gi,"")},687768:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(667294),n=i(883119),l=i(144326),r=i(115642),s=i(785893);function o({content:e,header:t,headerWidth:i,inCommentFeedRedesignExp:o,inMwebPdpCommentsExp:d,isCollapsible:c=!0,isCommentSectionOpen:u,isContentLoaded:p=!0,isOpenByDefault:g,maxHeight:m,onToggle:h,onOpen:_,previewContent:y,previewContentHeight:x,shouldToggleOnBodyTap:f,arrowDirection:v}){let[k,b]=(0,a.useState)(!1),[P,S]=(0,a.useState)(0),w=(0,a.useRef)(null),j=(0,l.ZP)(),I=(0,r.x4)();(0,a.useEffect)(()=>{(u||g&&p)&&b(!0)},[u,g,p]),(0,a.useLayoutEffect)(()=>{if(void 0!==m)return;let e=()=>{if(w.current){let e=w.current.getBoundingClientRect().height;e>P&&S(Math.ceil(e))}},t=new MutationObserver(e);return w.current&&t.observe(w.current,{childList:!0,subtree:!0}),requestAnimationFrame(e),()=>{t.disconnect()}},[P,m]);let C=()=>{c&&(b(!k),_&&!k&&_(),h&&h(!k))},F=v||"arrow-forward";return(0,s.jsx)(n.iP,{disabled:f&&u,onTap:f?C:void 0,children:(0,s.jsxs)(n.kC,{direction:"column",gap:o?3:0,children:[(0,s.jsx)(n.xu,{paddingY:o?0:y?1:5,width:i,children:(0,s.jsx)(n.iP,{onTap:C,children:(0,s.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[I?(0,s.jsx)(n.X6,{size:"400",children:t}):(0,s.jsx)(n.xv,{size:"300",weight:"bold",children:t}),c&&(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:k?`rotate(${"arrow-down"===F?"180deg":"-90deg"})`:""}},marginEnd:d?0:4,children:(0,s.jsx)(n.iP,{onTap:C,children:d?(0,s.jsx)(n.kC,{justifyContent:"center",width:48,children:(0,s.jsx)(n.JO,{accessibilityLabel:j.bt("Expand icon", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:F,size:20})}):(0,s.jsx)(n.JO,{accessibilityLabel:j.bt("Expand icon", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:F,size:I||o?16:20})})})]})})}),(0,s.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{transition:`all 0.3s ease-in-out, visibility 0s linear ${k?"0s":"0.3s"}`,visibility:k||y?"visible":"hidden"}},"data-test-id":"accordion-panel",height:!k&&y?x:k?m||P:0,marginEnd:y?7:0,opacity:k||y?1:0,overflow:void 0===m?"hidden":"auto",children:[(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{display:k?"none":"block"}},children:y}),(0,s.jsx)(n.xu,{ref:w,dangerouslySetInlineStyle:{__style:{visibility:k?"visible":"hidden",transition:`all 0.3s ease-in-out, visibility 0s linear ${k||y?"0s":"0.3s"}`}},opacity:k||y?1:0,children:e})]})]})})}},489354:(e,t,i)=>{i.d(t,{Z:()=>_,m:()=>g});var a=i(667294),n=i(883119),l=i(144326),r=i(512541),s=i(730212),o=i(115642),d=i(167210),c=i(547007),u=i(210173),p=i(785893);let g=4,m=`
@keyframes showShadow {
  0% {
    box-shadow: none;
  }

  100% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }
}

@keyframes hideShadow {
  0% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }

  100% {
    box-shadow: none;
  }
}
`,h=({deepLinkBackGoesToBoard:e,isNewOrRes:t,onClick:i,showLabel:r=!1,trafficSource:o,showShadow:d,size:c="lg"})=>{let u=(0,l.ZP)(),{isRTL:g}=(0,s.B)(),m=()=>(0,p.jsx)(n.iP,{onTap:i,rounding:"pill",children:(0,p.jsx)(n.xu,{left:!0,maxWidth:90,padding:2,children:(0,p.jsx)(n.X6,{align:"center",size:"400",children:u.bt("For you", "For you", "closeup.backButton.label", undefined, true)})})},"buttonBack"),h=r&&("feed_home"===o||"deep_linking"===o&&!e)&&t;return(0,p.jsxs)(a.Fragment,{children:[h&&g?(0,p.jsx)(m,{}):null,(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{animation:d?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},rounding:"circle",children:(0,p.jsx)(n.hU,{accessibilityLabel:u.bt("Back", "Back", "backButton.accessibilityLabel", undefined, true),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:i,size:c})},"back-button-icon"),h&&!g?(0,p.jsx)(m,{}):null]})};function _({deepLinkBackGoesToBoard:e,handleScroll:t,isNewOrRes:i,marginTop:l,onClick:_,showLabel:y=!1,trafficSource:x,showShadow:f}){let{closeupWithinMasonryEnabled:v,isCloseupRelatedPinsAboveTheFoldEnabled:k}=(0,o.x4)(),{isRTL:b}=(0,s.B)(),P=(0,u.Z)();k&&(P=v?0:-12);let S=b?{right:0}:{left:P};(0,a.useEffect)(()=>t?(window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)):()=>{},[]);let w=l||0===l?4*l:4*g;return k&&(w=0),k?(0,p.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:w,...S}},"data-test-id":"back-button",display:"flex",paddingX:v?0:4,position:k?"relative":"fixed",children:(0,p.jsx)(h,{deepLinkBackGoesToBoard:e,isNewOrRes:i,marginTop:l,onClick:_,showLabel:y,showShadow:f,trafficSource:x})}):(0,p.jsxs)(c.Z,{position:"fixed",style:{zIndex:d.Cq,width:"60px",maxWidth:"265px"},children:[(0,p.jsx)(r.Z,{unsafeCSS:m}),(0,p.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:w,...S}},"data-test-id":"back-button",display:"flex",paddingX:4,position:"fixed",children:(0,p.jsx)(h,{deepLinkBackGoesToBoard:e,isNewOrRes:i,marginTop:l,onClick:_,showLabel:y,showShadow:f,trafficSource:x})})]})}},164756:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(667294);let n=()=>{let e=(0,a.useRef)(!1);return(0,a.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},87898:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),n=i(917111);function l(e){let[t,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async function(){i(await (0,n.Z)(e))})()},[e]),t}},32121:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(667294),n=i(955937),l=i(235838);let r=(e="throttle")=>{let[t,i]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t="throttle"===e?(0,l.Z)(()=>i(window.scrollY),10):(0,n.Z)(()=>i(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},827106:(e,t,i)=>{i.d(t,{Z:()=>p,i:()=>g});var a=i(667294),n=i(883119),l=i(785893);let r=new Map,s=null,o=e=>{e.forEach(e=>{let t=r.get(e.target);t&&t(e)})},d=e=>{s.unobserve(e),r.delete(e)},c=(e,t="-64px 0px 0px 0px",i)=>{let a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};s=s||new window.IntersectionObserver(o,a),r.set(e,i),s.observe(e)},u=e=>r.has(e);function p({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let n=(0,a.useRef)(null),l=!1,s=t=>{(l=t.intersectionRatio>0||t.isIntersecting)&&e(!0)},o=()=>{n.current instanceof HTMLElement&&u(n.current)&&l&&(e(!1),l=!1)},p=(0,a.useCallback)(e=>{n.current instanceof HTMLElement&&c(n.current,e,e=>{if(!r.has(n.current))return;let i=t?e.intersectionRatio>=1:e.intersectionRatio>=.5,a=t?0===e.intersectionRatio:!i;!l&&i?s(e):l&&a&&o()})},[n.current]);return(0,a.useEffect)(()=>(p(i),()=>{n.current instanceof HTMLElement&&(o(),d(n.current))}),[p]),n}let g=({onVisibilityChanged:e,children:t,...i})=>{let a=p({onVisibilityChanged:e,...i});return(0,l.jsx)(n.xu,{ref:a,children:t})}},439839:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:a}=t,n={...i,...a};return n[e]&&n[e].currentTime}},641871:(e,t,i)=>{i.d(t,{Q6:()=>n,ZP:()=>r,t2:()=>l});let a=()=>!window?.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x",n=()=>{let e;let t="undefined"!=typeof window?window.navigator?.connection?.effectiveType:void 0,i=a();return t?"4g"===t?e="40-80":(i="1x",e="0-1"):e="unknown",{downloadSpeedGroup:e,screenDimension:i}};function l({vEXP3:e,vEXP4:t,vEXP5:i,vEXP6:a,vEXP7:l,v720P:r}){let{downloadSpeedGroup:s,screenDimension:o}=n(),d={"1x":e,"2x":i},c={"1x":l,"2x":l};return({unknown:d,"0-1":d,"1-5":{"1x":t,"2x":i},"5-10":{"1x":i,"2x":i},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c})[s][o]||r||void 0}function r(e){let{vHLSV3MOBILE:t,...i}=e,a=l(i),n=t||void 0;return a?{hlsv3:n,mp4:a}:{hlsv3:n}}},180881:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(297728),n=i(410150);function l(){let{checkExperiment:e}=(0,a.F)();return"desktop"===(0,n.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},363954:(e,t,i)=>{i.d(t,{Z:()=>w});var a,n=i(667294);i(167912);var l=i(883119),r=i(809394),s=i(297728),o=i(410150);let d={employees:100,enabled_100:100,enabled_200:200,enabled_300:300,enabled_500:500};var c=i(860575),u=i(573706),p=i(47848),g=i(144326),m=i(343583),h=i(207630),_=i(151958),y=i(383399),x=i(821892),f=i(243583),v=i(714305),k=i(724533),b=i(415787),P=i(785893);let S=void 0!==a?a:a=i(805765);function w({sizing:e="default",children:t,collageChipId:i,componentType:a,contextLogData:w,elementType:j,disableA11yLabel:I,isEggsUi:C,pinKey:F,derivedSaveButtonOptionsSavedInfo:T,productTagParentPinId:A,viewParameter:L,viewType:K}){let R=(0,g.ZP)(),Z=(0,p.Z)(S,F),{logContextEvent:E}=(0,u.v)(),D=(0,x.E)(),{checkExperiment:z}=(0,s.F)(),{isAuth:M}=(0,y.Z)(),B=(0,n.useRef)(null),{preloadQuery:O}=(0,k.Us)(),V=z("web_easy_gift_guide_saving",{dangerouslySkipActivation:!0}).anyEnabled,{isGraphQLEnabledInGeneral:H}=(0,f.nF)(),U=z("closeup_dweb_preload_closeup_query_before_navigation").anyEnabled,N=D.contextLogData?.story_type==="product_tagged_shopping_module_upsell",{isCloseupRelatedPinsAboveTheFoldEnabled:W}=(0,r.Z)(M),$=M&&z("closeup_dweb_remove_magnifying_glass").anyEnabled,{isPrefetchImageOnHoverEnabled:G,prefetchAfterMs:q,prefetchOnMouseDown:X}=function(){let e=(0,o.HG)(),{checkExperiment:t}=(0,s.F)(),i=t("closeup_dweb_prefetch_image_on_hover");return{isPrefetchImageOnHoverEnabled:e&&i.anyEnabled,prefetchAfterMs:d[i.group]||null,prefetchOnMouseDown:"enabled_mouse_down"===i.group}}(),{carouselData:Q,entityId:Y}=Z,J=!!Z.promotedIsLeadAd,ee=(0,n.useMemo)(()=>Z?.imageSpec_736x?.url||Z?.imageSpec_564x?.url||Z?.imageSpec_orig?.url||Z?.imageSpec_474x?.url||Z?.imageSpec_236x?.url,[Z]),et={},ei=`/pin/${i||Y}/`,ea=(0,c.Xx)();if(ea?.variantUrl&&(ei=`/pin/${ea.variantUrl}/`),Q){let{carouselSlots:e,entityId:t}=Q,i=Q.index??0;ei=`/pin/${Y}/`,et={carousel_slot_id:e?.[i]&&e[i].entityId,carousel_data_id:t,carousel_slot_index:i}}let en=(0,_.Z)(Z);et={...et,...en({default:w?.commerce_data})};let el=()=>{let e={};if(J)E({event_type:8948,view_type:K||D.viewType,view_parameter:L||D.viewParameter,component:null,object_id_str:Z.entityId,clientTrackingParams:Z?.trackingParams,aux_data:{closeup_navigation_type:"click",lead_form_id:Z.promotedLeadForm?.leadFormId,is_lead_ad:1}}),E({event_type:12,view_type:K||D.viewType,view_parameter:L||D.viewParameter,component:null,object_id_str:Z.entityId,clientTrackingParams:Z?.trackingParams,aux_data:{lead_form_id:Z.promotedLeadForm?.leadFormId,is_lead_ad:1,...en()}});else{let t={...w,...en({default:w?.commerce_data})};E({event_type:101,component:a||D.componentType,element:j,object_id_str:Y,clientTrackingParams:Z?.trackingParams,view_type:K||D.viewType,view_parameter:L||D.viewParameter,aux_data:t}),N&&(e={storyPinProductEventData:{productPinIdStr:Y,pinIdStr:A}}),E({aux_data:{closeup_navigation_type:"click",...t},component:a||D.componentType,element:j,event_data:e,event_type:8948,clientTrackingParams:Z?.trackingParams,object_id_str:Y,view_type:K||D.viewType,view_parameter:L||D.viewParameter})}G&&(X?(0,b.nP)("web.closeup.prefetched_image_on_hover.on_mouse_down.clicked"):(0,b.nP)(`web.closeup.prefetched_image_on_hover.${q}_ms.clicked`))},er=(0,n.useCallback)(async()=>{!G||!q||!ee||Z?.videos?.entityId||X||(B.current=window.setTimeout(async()=>{let e=new Image;e.src=ee,e.complete||(0,b.nP)(`web.closeup.prefetched_image_on_hover.${q}_ms.fetched`)},q))},[B,G,q,ee,Z?.videos?.entityId,X]),es=(0,n.useCallback)(()=>{!G||!B.current||Z?.videos?.entityId||(clearTimeout(B.current),B.current=null)},[B,G,Z?.videos?.entityId]),eo=(0,n.useCallback)(()=>{if(!G||!ee||Z?.videos?.entityId||!X)return;let e=new Image;e.src=ee,e.complete||(0,b.nP)("web.closeup.prefetched_image_on_hover.on_mouse_down.fetched")},[G,ee,Z?.videos?.entityId,X]),ed={pathname:ei,state:{trackingParams:Z?.trackingParams,...T&&{board:T},...V&&{fromEggsBoard:C}}},ec=(0,m.Z)({href:ed,clientTrackingParams:Z?.trackingParams,externalData:{auxData:et,pin:Z&&{advertiserId:Z.advertiserId,attributionSourceId:Z.attributionSourceId,board:Z.board&&{url:Z.board.url},campaignId:Z.campaignId,entityId:Z.entityId,isDownstreamPromotion:Z.isDownstreamPromotion,isPromoted:Z.isPromoted,pinner:Z.pinner&&{username:Z.pinner.username},pinPromotionId:Z.pinPromotionId,promoter:Z.promoter&&{entityId:Z.promoter.entityId},storyPinDataId:Z.storyPinDataId,trackingParams:Z.trackingParams}}}),eu=(0,n.useCallback)(()=>{U&&H&&O((0,v.D)({pinId:Z.entityId}))},[Z.entityId,O,U,H]);return(0,P.jsx)(l.Tg,{accessibilityLabel:I?void 0:(0,h.Z)(R.bt("{{ pinTitle }} Pin page", "{{ pinTitle }} pin page", "pinRep.closeupLink.tapArea.accessibilityLabel", undefined, true),{pinTitle:Z.gridTitle||Z.title||Z.description||""}),fullHeight:"fullSize"===e,fullWidth:"fullSize"===e,href:ei,mouseCursor:W||$?void 0:"zoomIn",onMouseDown:eo,onMouseEnter:er,onMouseLeave:es,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),el(),eu(),ec({event:e})},rounding:2,children:t})}},171787:(e,t,i)=>{i.d(t,{A:()=>a});let a="socialPinLanding"},5755:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(252071),n=i(194093),l=i(922664);function r(){let{conversationCreate:e}=(0,l.Z)();return async t=>{let i;let l=a.Z.create("ConversationsResource",t);try{let t=(await l.callCreate()).resource_response.data;t&&(e(t),i=t)}catch(e){throw Error((0,n.Z)(e,"message"))}return i}}},843888:(e,t,i)=>{function a(e){let t=e.split("/");return[t[2],t[1]]}function n(e,t){return!e||!e.some(e=>e.pin_type===t)}i.d(t,{E:()=>n,J:()=>a})},359107:(e,t,i)=>{i.d(t,{H8:()=>g,Ut:()=>p,fr:()=>u});var a=i(667294),n=i(498490),l=i(576359),r=i(494386),s=i(785893);let o=()=>i.e(99274).then(i.bind(i,999274)),{Provider:d,useHook:c}=(0,n.Z)("IdeaPin");function u({children:e}){let[t,i]=(0,l.Z)(o,r.Z),n=(0,a.useMemo)(()=>({dispatch:i,ideaPin:t}),[i,t]);return(0,s.jsx)(d,{value:n,children:e})}function p(){let{dispatch:e}=c();return(0,a.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function g(){let{ideaPin:e}=c();return e}},494386:(e,t,i)=>{i.d(t,{Z:()=>a});let a={activePage:0,dynamicWidth:0}},53426:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(883119),n=i(144326),l=i(590338),r=i(240760),s=i(302749),o=i(730212),d=i(895607),c=i(785893);let u=({rating:e,textSize:t,type:i})=>{if("single"===i){let i=parseFloat(e);return Number.isNaN(i)?null:(0,c.jsxs)(a.kC,{alignItems:"center",children:[(0,c.jsx)(s.A,{fill:"full"}),(0,c.jsx)(a.xv,{size:t,children:i.toFixed(1)})]})}return(0,c.jsx)(s.Z,{display:"flex",rating:e})},p=({bracket:e,count:t,countFormat:i,countType:s,marginStart:d,textSize:u,underline:p,unauthPdp:g})=>{let{locale:m}=(0,o.B)(),h=(0,n.ZP)(),_=(0,l.Z)();if(null==t)return null;let y=_(m,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===i){let e="review"===s?h.nbt(["{{ count }} review", "{{ count }} reviews"], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true):h.nbt(["{{ count }} rating", "{{ count }} ratings"], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true);y=(0,r.nk)(e,{count:t}).join("")}return e&&(y=`(${y})`),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:d,children:(0,c.jsx)(a.xv,{color:p?"subtle":"default",size:u,underline:p,children:(0,c.jsx)(a.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:g?`(${y})`:y})})})};function g({bracket:e,count:t,countFormat:i,countType:n,rating:l,textSize:r,underline:s,unauthPdp:o}){return(0,d.Z)({count:t,rating:l})?(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(u,{rating:l,textSize:r,type:"multiple"}),(0,c.jsx)(p,{bracket:e,count:t,countFormat:i,countType:n,textSize:r,unauthPdp:o,underline:s})]}):null}},895607:(e,t,i)=>{i.d(t,{Z:()=>a});function a({count:e,rating:t}){return!!(t&&"None"!==t&&Number.isFinite(e))}},101736:(e,t,i)=>{i.d(t,{Z:()=>m});var a=i(667294),n=i(883119),l=i(803611),r=i(758339),s=i(144326),o=i(297728),d=i(115642),c=i(613756),u=i(785893);let p=new n.Ry(3);function g({anchor:e,children:t,displayOptions:i,onFlyoutDismiss:a}){let l=(0,s.ZP)(),{closeupWithinMasonryEnabled:c}=(0,d.x4)(),{checkExperiment:g}=(0,o.F)(),m=g("sg_dweb_sharesheet_update").anyEnabled?r.b7:void 0;return i?.shownWithinMasonry||i?.shownWithinProfileHeader?(0,u.jsx)(n.mh,{zIndex:i.shownWithinProfileHeader||c&&i?.shownWithinMasonry?p:m,children:(0,u.jsx)(n.xu,{position:i.inModal?"absolute":void 0,top:!!i.inModal||void 0,zIndex:i.inModal?r.b7:void 0,children:(0,u.jsx)(n.J2,{_deprecatedShowCaret:i.showCaret,accessibilityLabel:l.bt("Share menu", "Share Menu", "SendShareController.ShareMenu.accessibilityLabel", undefined, true),anchor:e,forceDirection:i.forceDirection??!1,idealDirection:i.idealDirection??"down",onDismiss:()=>{a()},positionRelativeToAnchor:!1,size:"flexible",children:t})})}):(0,u.jsx)(n.J2,{_deprecatedShowCaret:i?.showCaret,accessibilityLabel:l.bt("Share menu", "Share Menu", "SendShareController.ShareMenu.accessibilityLabel", undefined, true),anchor:e,forceDirection:i?.forceDirection??!1,idealDirection:i?.idealDirection??"down",onDismiss:()=>{a()},size:"flexible",children:t})}function m({children:e,flyoutDisplayOptions:t,isFlyoutOpen:i,loggingOptions:r,onClick:s,onFlyoutDismiss:o,onToggleFlyout:p,sendObject:m}){let h=(0,a.useRef)(null),{clientTrackingParams:_}=(0,d.x4)(),y=(0,l.Z)();return(0,u.jsxs)(n.xu,{ref:h,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,u.jsx)(n.xu,{children:e({handleSendShareFlyoutButtonClick:()=>{if(y){y();return}p()}})}),i&&(0,u.jsx)(g,{anchor:h.current,displayOptions:t,onFlyoutDismiss:o,children:(0,u.jsx)(c.Z,{clientTrackingParams:_,component:r.component,element:r.element,onExternalSend:r.onExternalSend,onHide:()=>{s?.(),o()},sendType:m.type,sharedObject:{...m,type:"user"===m.type?"pinner":m.type},viewParameter:r.viewParameter,viewType:r.viewType})})]})}},888027:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var a,n=i(545007);i(167912);var l=i(883119),r=i(488792),s=i(47848),o=i(730212),d=i(1006),c=i(154785),u=i(410150),p=i(383399),g=i(795644),m=i(464099),h=i(478595),_=i(560425),y=i(785893);let x=void 0!==a?a:a=i(777579),f=["thumbnail","imageOnly"];function v({boardKey:e,containerBackgroundColor:t,display:i="responsive",forwardedRef:a,fullSize:v,hideSecretBoardIcon:k=!1,isAttributionHeightUnfixed:b=!1,isBoardsActualizationReps:P=!1,isCollaboratorsAttributionVisible:S=!1,isFeaturedBoardsModule:w=!1,isNoBoardTitleStyle:j=!1,noPaddings:I=!1,showFollowButton:C=!0,showPinCount:F=!0,slotIndex:T,type:A,viewParameter:L,viewType:K}){let R=(0,p.Z)(),Z=R&&R.isAuth,E=(0,n.I0)(),{locale:D}=(0,o.B)(),z=(0,c.Z)(),M=(0,s.Z)(x,e),B=(0,m.Z)(M),O=(0,r.Z)(),V=(0,u.HG)();if(!M)return null;let{owner:H,shouldShowBoardCollaborators:U}=M,N=R.isAuth?R.id:"",W=H?.entityId===N,$=M.collaboratingUsers?.__typename==="UserCollaboratingUsersConnectionContainer"?M.collaboratingUsers.connection?.edges:[],G=$?.some(e=>e?.node?.entityId===N);if("secret"===M.privacy&&!G&&!W)return null;let q="grid"===A||"thumbnail"===A?2:4,X=B(q),Q=(M?.coverPin?.crop&&M?.coverPin?.size&&{x:M?.coverPin?.crop[0]??0,y:M?.coverPin?.crop[1]??0,width:M?.coverPin?.size[0]??0,height:M?.coverPin?.size[0]??0})??{x:0,y:0,width:0,height:0},Y={isCustom:M.hasCustomCover||void 0,url:X,position:Q},J=(0,h.Jx)(M?.images170x,M?.pinThumbnailUrls?.filter(e=>null!==e)??void 0,X).map(({url:e})=>({name:(0,h.po)(e),url:e})),ee=[44,49].includes(L),et=()=>49===L?W?3106:3107:L,ei=M?.sensitivityScreen?{reason:M.sensitivityScreen?.reason,showWarning:M.sensitivityScreen?.showWarning}:void 0,ea=(0,y.jsx)(g.Z,{archivedDate:M.archivedByMeAt??void 0,boardId:M.entityId,canEdit:!!M.boardAccess&&M.boardAccess.includes("write"),containerBackgroundColor:t,coverPhoto:X?Y:null,display:i,followedByMe:!!M.followedByMe,fullSizeDrawer:v,hideMeta:f.includes(A),hideSecretBoardIcon:k,id:M.entityId,imagesLego:J,isAttributionHeightUnfixed:b,isAuthenticated:Z,isBoardsActualizationReps:P,isCollaborative:!!M.isCollaborative,isCollaborator:!!G,isCollaboratorsAttributionVisible:S,isFeaturedBoardsModule:w,isNoBoardTitleStyle:j,isOwner:W,isProtected:"protected"===M.privacy,isSecret:"secret"===M.privacy,isTemporarilyDisabled:!!M.isTemporarilyDisabled,lastModifiedDate:M.boardOrderModifiedAt??"",layout:V?"square":void 0,locale:D,metaMarginTop:2,metaPaddingY:0,name:M.name??"",numberOfCollaborators:$?.length??0,numCols:q,onFollow:e=>E((0,_.Z)(e,O)),onUnfollow:e=>E((0,_.f)(e,O)),pinCount:F&&M.pinCount?M.pinCount:void 0,sectionCount:M.sectionCount??0,sensitivityScreen:ei,showBoardCollaborators:!1!==U,showFollowButton:C,slotIndex:T,userKey:M?.owner,viewerId:N,viewParameter:L,viewType:K});return!f.includes(A)&&M.url?(0,y.jsx)(l.Tg,{href:Z?M.url:M.url.toLowerCase(),onTap:()=>{ee&&O({aux_data:{board_id:M.entityId,board_pin_count:M.pinCount??0,board_section_count:M.sectionCount??0},component:1,element:36,event_type:102,view_parameter:et()}),Z||((0,d.NC)("click_go_to_board"),z({action:"click",item:"board-card"}))},rounding:2,tapStyle:"compress",children:(0,y.jsx)(l.xu,{ref:a,paddingY:I?0:V?2:3,children:ea})}):ea}},717381:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(692960),n=i(730212),l=i(335725),r=i(785893);function s({children:e,type:t}){let i=(0,n.B)();return(0,r.jsx)(a.Z,{annotateExperiments:[...i.isAuthenticated?["authDesktop"===t?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],i.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===t?["closeup_auth_related_pins_above_fold_2024_dweb"]:[]],constraints:"authDesktop"===t?[...l.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},242134:(e,t,i)=>{i.d(t,{Z:()=>L});var a,n=i(667294);i(167912);var l=i(883119),r=i(47848),s=i(512541),o=i(343583),d=i(660771),c=i(955918),u=i(297728),p=i(91160),g=i(566344),m=i(383399),h=i(590045),_=i(115642),y=i(785893);let x=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,f=void 0!==a?a:a=i(398575),v=e=>{let{carouselData:t,title:i}=e??{};if(i)return!0;if(t){let{carouselSlots:e,index:i}=t;if(null!=i&&e?.[i]&&e[i].title)return!0}return!1},k=e=>{let{clientTrackingParams:t,children:i,isLink:a=!0,onClick:n,pin:r}=e,s=(0,d.Z)(r),c=(0,u.F)(),p=(0,m.Z)(),{closeupWithinMasonryEnabled:g}=(0,_.x4)(),h=r.imageSpec_orig?.url&&r.imageSpec_orig.width&&r.imageSpec_orig.height?r.imageSpec_orig:null,x=i;if(r.carouselData){let{carouselSlots:e,index:t}=r.carouselData;e&&null!=t&&e[t]&&(s=e[t].link||s,x=e[t].title||x)}let f=r?.originPinner&&p.isAuth&&p.id===r.originPinner.entityId||!(r.isGoLinkless&&c.checkExperiment("closeup_ctx_is_go_linkless_web").anyEnabled),v=(0,o.Z)({href:{pathname:s??h?.url??"",state:{trackingParams:t}},clientTrackingParams:t,target:"blank",externalData:{pin:r&&{advertiserId:r.advertiserId,attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams}}});if(!e.pin.entityId)return null;let k=x&&(0,y.jsx)(l.X6,{accessibilityLevel:1,size:g?"400":"500",children:x});return(0,y.jsx)("div",{itemProp:"name",children:(a||s)&&f?(0,y.jsx)(l.rU,{href:s??h?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),n&&n(),v({event:e})},rel:"nofollow",target:"blank",underline:"none",children:k}):k})},b=e=>{if(!e.pin.entityId)return null;let{entityId:t}=e.pin,i=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,y.jsxs)(l.xu,{children:[(0,y.jsx)("meta",{content:`https://${g.Vi}/pin/${t}/`,itemProp:"url"}),i&&(0,y.jsx)("meta",{content:i.url,itemProp:"image"})]})},P=e=>{if(!e.pin.entityId)return null;let{pin:t}=e||{},{gridTitle:i,title:a}=t||{},l=i||a;return(0,y.jsx)(n.Fragment,{children:l&&(0,y.jsx)(p.Z,{children:(0,y.jsx)(k,{...e,children:l})})})},S=e=>{if(!e.pin.entityId)return null;let{pin:t}=e||{},{richMetadata:i,gridTitle:a}=t||{},{title:l}=i||{};return(0,y.jsx)(n.Fragment,{children:(a||l)&&(0,y.jsx)(p.Z,{itemType:h.iB.PRODUCT,children:(0,y.jsxs)(k,{...e,children:[a||l,(0,y.jsx)(b,{...e})]})})})},w=e=>{if(!e.pin.entityId)return null;let{pin:t}=e||{},{richMetadata:i,gridTitle:a}=t||{},{title:n}=i||{};return(0,y.jsx)(p.Z,{itemType:h.iB.ARTICLE,children:(0,y.jsx)(k,{...e,children:a||n})})},j=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:t}=e.pin.richMetadata.recipe;return(0,y.jsx)(p.Z,{itemType:h.iB.RECIPE,children:(0,y.jsx)(k,{...e,children:(0,y.jsx)(l.xu,{children:t})})})},I=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,y.jsx)(p.Z,{children:(0,y.jsx)(k,{...e,children:(0,y.jsx)(l.xu,{children:e.pin.richMetadata.tutorial.name})})}),C=e=>{let t=!!e.pin.richSummary?.displayName;return t?(0,y.jsx)(p.Z,{children:(0,y.jsx)(k,{...e,children:(0,y.jsx)(l.xu,{children:t})})}):null},F=e=>{if(!e.pin.entityId)return null;let{gridTitle:t}=e.pin||{};return(0,y.jsx)(p.Z,{itemType:h.iB.ARTICLE,children:(0,y.jsx)(k,{...e,children:t})})};function T(e){let{carouselInfo:t}=e,{carouselData:i}=t||{},{carousel_slots:a}=i||{};return((a||[])[0]||{}).title}let A=e=>{let{pin:t,...i}=e;if(!e.pin.entityId)return null;let a=T(i);return(0,y.jsx)(p.Z,{itemType:h.iB.ARTICLE,children:(0,y.jsx)(k,{...e,children:a})})},L=({pinKey:e,...t})=>{let i=(0,r.Z)(f,e),{carouselInfo:a,inCommentFeedRedesignExp:o,onTitleCheck:d}=t,u=!!i.richMetadata?.tutorial?.name,p=!!i.richMetadata?.recipe?.name,g=!!i.richMetadata?.article?.name,m=!!i.richSummary?.displayName,h=(0,c.Z)(i),{isCloseupRelatedPinsAboveTheFoldEnabled:k,clientTrackingParams:b}=(0,_.x4)(),L=!(i.closeupUnifiedDescription||"").trim(),K=F,R=!1;return a&&i.entityId&&T(t)?K=A:h?K=S:v(i)?K=P:u?K=I:p?K=j:g?K=w:m?K=C:R=!0,(0,n.useEffect)(()=>{d?.(R)},[R,d]),(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(s.Z,{unsafeCSS:x}),(0,y.jsx)("div",{className:"CloseupTitleCard",children:(0,y.jsx)(l.xu,{marginBottom:L&&o?4:void 0,marginTop:k?void 0:4,children:(0,y.jsx)(K,{...t,clientTrackingParams:b,pin:i})})})]})}},335725:(e,t,i)=>{let a;i.d(t,{GL:()=>r,_z:()=>n,d0:()=>o,hO:()=>s,pM:()=>l});let n="video",l="image",r=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([n])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),s=(a=new Set,r.forEach(e=>{a=new Set([...a,...e])}),a),o=new Set([...s,l,"resource"])},562612:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(891985),n=i(790661);let l=(e,t)=>{let i=e.action||void 0,l=(0,n.Z)({url:e.location.search});return"PUSH"===i?"click":("POP"!==i||e.location.key)&&"news_hub"!==l.entrySource?t&&(0,a.sV)(t)?"deeplink":"click":"deeplink"}},530871:(e,t,i)=>{i.d(t,{Yf:()=>a});let a=e=>{let{url:t,width:i,height:a}=e||{};return t&&i&&a?{url:t,width:i,height:a}:void 0}},68439:(e,t,i)=>{i.d(t,{Z:()=>d});var a,n=i(667294);i(167912);var l=i(47848),r=i(947956),s=i(151958);let o=void 0!==a?a:a=i(611270);function d({logCommerceAuxData:e,deepLinkBackGoesToBoard:t,element:i,goBack:a,pinKey:d,routePush:c,trafficSource:u,viewer:p,requestContext:g,viewType:m,viewParameterType:h,componentType:_},y){let x=(0,l.Z)(o,d),f=(0,s.Z)(x);return{onHandleBackButtonClick:(0,n.useCallback)(()=>{let n=x.promotedLeadForm?.leadId,l=e?f():null;x.promotedIsLeadAd?(y({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:x.entityId,aux_data:{...l,lead_form_id:n,is_lead_ad:1}}),y({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:x.entityId,aux_data:{lead_form_id:n,is_lead_ad:1}})):y({aux_data:l,event_type:101,view_type:m||3,view_parameter:h||(0,r.Z)({hasPin:!0,hasPinRichMetadata:!!x.richMetadata,hasPinRichMetadataProducts:!!x.richMetadata?.products,hasPinRichMetadataArticle:!!x.richMetadata?.article,hasPinRichMetadataRecipe:!!x.richMetadata?.recipe,hasPinStoryPinData:!!x.storyPinData}),..._?{component:_}:void 0,element:i||34});let s="deep_linking"===u&&!t,o=p.partner?"/homefeed/":"/",{utm_source:d,news_hub_id:v}=function(e){let t=e.searchParams;return{utm_source:t.get("utm_source")??"",utm_medium:t.get("utm_medium")??"",utm_campaign:t.get("utm_campaign")??"",news_hub_id:t.get("news_hub_id")??""}}(new URL(g.fullPath,g.origin)),k=`/news_hub/${v}`;return"31"==`${d}`&&v?c(k):s?c(o):a()},[_,t,i,f,a,e,y,x.entityId,x.promotedIsLeadAd,x.promotedLeadForm?.leadId,x.richMetadata,x.storyPinData,g.fullPath,g.origin,c,u,h,m,p.partner])}}},617115:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),n=i(793874),l=i(679482),r=i(785893);let s=function({marginStart:e=l.D6}){let t=(0,n.vs)();return(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:t?n.Ov:"#E9E9E9"}},height:1})}},145360:(e,t,i)=>{i.d(t,{Z:()=>a});function a(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.type","user.username","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]","pintag.pins()","pintag.type","pintag.pin_tag_key","pintag.x_percent","pintag.y_percent","pin.rich_summary()","pin.grid_title","pin.image_square_url","pin.images[236x]","pin.id","pin.is_eligible_for_pdp","pin.link_domain()","domain.official_user()","user.is_verified_merchant","user.verified_identity","pin.promoted_lead_form"]}},45296:(e,t,i)=>{i.d(t,{Z:()=>C,w:()=>S});var a,n=i(667294),l=i(545007);i(167912);var r=i(616550),s=i(442279),o=i(883119),d=i(321853),c=i(47848),u=i(961754),p=i(410150),g=i(969119),m=i(383399),h=i(501912),_=i(801621),y=i(625987),x=i(733383),f=i(129746),v=i(642758),k=i(403764),b=i(424583),P=i(785893);let S=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:i,isDesktop:a,isReversed:n=!1,noCache:l=!1,orbacSubjectId:r=""})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:i,page_size:a?10:25,redux_normalize_feed:!0,is_reversed:n,...r?{orbac_subject_id:r}:{}},noCache:l}),w=(0,s.P1)((e,t,i)=>i,({feeds:e},t)=>e[`${k.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,i,a)=>a,(e,t,i,a)=>t?.map(({id:t,type:n})=>{let l="aggregatedcomment"===n.toLowerCase()?e[t]:i[t];if(!l)return;let r="string"==typeof l.user?a[l.user]??{}:l.user??{};return{...l,user:r??{}}}).filter(e=>e)||[]),j=void 0!==a?a:a=i(152191),I=({aggregatedPinDataId:e,shouldPreviewNewReply:t,closeupAttributionId:i,closeupAttributionUsername:a,commentsDisabled:s,hasComments:c,isReadOnly:k,pinId:j,isVideo:I,pinnerId:C,scrollContainer:F,setIsComposingNewComment:T=()=>{},storyPinDataId:A,viewParameter:L,toggleComposerForReply:K,openMwebOverflowMenu:R})=>{let{comment_id:Z}=(0,r.UO)(),E=(0,l.I0)(),D=(0,p.HG)(),z=(0,m.Z)(),M=(0,n.useRef)(c),B=(0,h.Z)(),O=(0,_.lJ)(z,B),V=(0,u.Z)(M.current&&e?S({aggregatedPinDataId:e,featuredCommentIds:Z?[Z]:[],isDesktop:D}):null),{removeUnauthCommentPinId:H,unauthCommentPinId:U}=(0,f.C)(),N=(0,y.lV)(),{toggleAggregatedCommentHelpful:W,toggleAggregatedCommentLike:$}=(0,y.nf)(),G=(0,b.kW)(),q=(0,l.v9)(t=>w(t,e,N,G)),[X,Q]=(0,n.useState)(void 0),Y=()=>{T(!0)};return(0,g.Z)(()=>{!D&&z.isAuth&&U&&j&&U===j&&(Y(),H())}),(0,n.useEffect)(()=>{let e=()=>{let t=!!F&&F.scrollTop+F.clientHeight+10>=F.scrollHeight;V&&!V.isFetching&&(V.isAtEnd?F?.removeEventListener("scroll",e):t&&V.fetchMore())};return F?.addEventListener("scroll",e),()=>{F?.removeEventListener("scroll",e)}},[V,F]),(0,P.jsx)(n.Fragment,{children:(0,P.jsx)(o.xu,{display:"flex",marginTop:D?6:0,width:"100%",children:(0,P.jsx)(d.Z,{aggregatedPinDataId:e,closeupAttributionId:i,closeupAttributionUsername:a,comments:q,commentsDisabled:s,isDesktop:D,isLoaded:V&&V.isLoaded||!c,isReadOnly:k,isVideo:I,openOverflowMenu:R,parentId:e??"",parentType:x.o.pin,pinId:j,pinnerId:C,reactionListCommentId:X,shouldPreviewNewReply:t,showReactionListForComment:Q,storyPinDataId:A,toggleHelpful:(e,t,i)=>()=>{i?E((0,v.YH)({didItDataId:e,isMarkedHelpfulByMe:t,orbacSubjectId:O})):W({aggregatedCommentId:e,isMarkedHelpfulByMe:t,orbacSubjectId:O})},toggleLike:(e,t,i)=>()=>{i?E((0,v.wH)({didItDataId:e,isLikedByMe:t,orbacSubjectId:O})):$({aggregatedCommentId:e,isLikedByMe:t,orbacSubjectId:O})},toggleReplyComposer:K,userAvatarSize:"sm",viewParameter:L})})})};function C({pinKey:e,...t}){let i=(0,c.Z)(j,e),a=(i?.aggregatedPinData?.commentCount||0)+(i?.aggregatedPinData?.didItData?.imagesCount||0);return(0,P.jsx)(I,{aggregatedPinDataId:i?.aggregatedPinData?.entityId,closeupAttributionId:i?.closeupAttribution?.entityId,closeupAttributionUsername:i?.closeupAttribution?.username,commentsDisabled:i?.commentsDisabled,disablePhotoCommentSelection:!!i?.doneByMe,hasComments:a>0&&!i?.commentsDisabled,isVideo:!!i?.videos?.videoList,pinId:i?.entityId,pinnerId:i?.pinner?.entityId,storyPinDataId:i?.storyPinData?.entityId,...t})}},129746:(e,t,i)=>{i.d(t,{C:()=>s,p:()=>o});var a=i(667294),n=i(498490),l=i(785893);let{Provider:r,useHook:s}=(0,n.Z)("Session");function o({children:e}){let[t,i]=(0,a.useState)(void 0),n=(0,a.useCallback)(()=>i(void 0),[]),s=(0,a.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:i,removeUnauthCommentPinId:n}),[t,n]);return(0,l.jsx)(r,{value:s,children:e})}},430810:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),n=i(476198),l=i(144326),r=i(240760),s=i(785893);function o({boardName:e,boardUrl:t,isBoardlessPin:i,isFromPinBuilder:o,hasNewPin:d,onChangeButtonClick:c,onVisitButtonClick:u=()=>{},onHide:p,onUndo:g,pinImageUrl:m}){let h;let _=(0,l.ZP)();return o?h={accessibilityLabel:_.bt("Visit Pin", "Visit Pin", "PostSavedPinToast.a11yVisitButton", undefined, true),label:_.bt("Visit", "Visit", "PostSavedPinToast.VisitButton", undefined, true),size:"lg",onClick:u}:(c||g)&&(h={accessibilityLabel:d&&i&&c?_.bt("Change Pin destination", "Change Pin destination", "PostSavedPinToast.a11yChangeButton", undefined, true):_.bt("Undo saved Pin", "Undo Saved Pin", "PostSavedPinToast.a11yUndoButton", undefined, true),label:d&&i&&c?_.bt("Change", "Change", "PostSavedPinToast.ChangeButton", undefined, true):_.bt("Undo", "Undo", "PostSavedPinToast.UndoButton", undefined, true),size:"lg",onClick:d&&i&&c?()=>c():g}),(0,s.jsx)(n.ZP,{duration:i?6e3:3e3,imageUrl:m,onHide:p,primaryAction:h,text:(0,s.jsx)(a.xv,{overflow:"normal",size:"200",children:(0,r.nk)(_.bt("Saved to {{ destination }}", "Saved to {{ destination }}", "PostSavedPinToast.SavedToBoardLabel", undefined, true),{destination:(0,s.jsx)(a.rU,{href:i?"/me/":t??"",children:(0,s.jsx)(a.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:i?{icon:(0,s.jsx)(a.JO,{accessibilityLabel:_.bt("Saved to profile thumbnail", "Saved to profile thumbnail", "PostSavedPinToast.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"history",size:24})}:void 0})}},742883:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),n=i(144326),l=i(730212),r=i(785893);let s=()=>{};function o({direction:e,handleNavHoverToggle:t,leftHover:i,isDarkMode:o=!1,onScroll:d,rightHover:c,shouldPadArrows:u,size:p="md"}){let g=(0,n.ZP)(),{isRTL:m}=(0,l.B)(),h=function({direction:e,isDarkMode:t,isRTL:i,leftHover:a,rightHover:n,shouldPadArrows:l,verticalSize:r},s){let o={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},d={color:t?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},c={sm:"54px",md:"124px"};return{up:{...d,backgroundImage:`linear-gradient(${t?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:void 0,icon:"arrow-up",label:s.bt("Up arrow", "Up arrow", "product.carousel.arrowUp", undefined, true),top:"0px",width:c[r]},down:{...d,backgroundImage:`linear-gradient(${t?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"arrow-down",label:s.bt("Down arrow", "Down arrow", "product.carousel.arrowDown", undefined, true),top:void 0,width:c[r]},left:{...o,color:l?"default":a?"default":"subtle",icon:i?"arrow-forward":"arrow-back",justifyContent:"start",label:s.bt("Left arrow", "Left arrow", "Label for left arrow button in search guides", undefined, true),left:"0px",right:void 0,width:i?"22px":"210px"},right:{...o,color:l?"default":n?"default":"subtle",icon:i?"arrow-back":"arrow-forward",justifyContent:"end",label:s.bt("Right arrow", "Right arrow", "Label for right arrow button in search guides", undefined, true),left:void 0,right:"0px",width:i?"22px":"210px"}}}({direction:e,isDarkMode:o,isRTL:m,leftHover:i,rightHover:c,shouldPadArrows:u,verticalSize:p},g);return(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:h[e].top,bottom:h[e].bottom,left:h[e].left,right:h[e].right}},height:h[e].height,position:"absolute",children:(0,r.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:h[e].backgroundImage,marginTop:u?"25px":void 0}},display:"flex",height:"100%",justifyContent:h[e].justifyContent,width:h[e].width,children:(0,r.jsx)("button",{onClick:d,onMouseEnter:t?()=>t(e,!0):s,onMouseLeave:t?()=>t(e,!1):s,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,r.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:h[e].justifyContent,width:"50px",children:(0,r.jsx)(a.JO,{accessibilityLabel:h[e].label,color:h[e].color,icon:h[e].icon})})})})})}},808379:(e,t,i)=>{i.d(t,{Z:()=>x});var a=i(616550),n=i(883119),l=i(573706),r=i(194093),s=i(559028),o=i(476198),d=i(144326),c=i(240760),u=i(901450),p=i(410150),g=i(171787),m=i(5755),h=i(922664),_=i(193836),y=i(785893);function x({hideToast:e,pinAttachment:t}){let i=(0,d.ZP)(),x=(0,a.k6)(),{logContextEvent:f}=(0,l.v)(),{showToast:v}=(0,u.F9)(),k=(0,m.Z)(),{conversationOpen:b,dropdownOpen:P,setObjectAttachment:S}=(0,h.Z)(),w=(0,p.HG)(),j=(0,_.t2)(),I=(0,_._l)(),C=w?j?.data?.toastData:I?.data?.toastData,F=w?14344:14343;if(C){let{inviter:a,viewer:l}=C,d=(0,y.jsx)(n.xv,{inline:!0,weight:"bold",children:a.inviterName}),u=(0,y.jsx)(n.xv,{children:(0,c.nk)(i.bt("Like this Pin? Let {{ inviterName }} know.", "Like this Pin? Let {{ inviterName }} know.", "SocialPinLandingPage.AuthSocialPinLandingPage.toastText", undefined, true),{inviterName:d})}),p=({conversationId:e,pinAttachment:t})=>{w?(P(),b(e)):x.push(`/conversation/${e}`),S(t)},m=async()=>{f({event_type:w?101:102,view_type:3,view_parameter:156,component:F});try{let e=await k({user_ids:[a.inviterId,l.viewerId]});if(e){let i=e.id;p({conversationId:i,pinAttachment:{...t,source:g.A}})}}catch(e){v(({hideToast:t})=>(0,y.jsx)(o.ZP,{onHide:t,text:(0,r.Z)(e,"message")??""}))}};return f({event_type:13,view_type:3,view_parameter:156,component:F}),(0,y.jsx)(n.kC,{justifyContent:"center",children:(0,y.jsx)(n.iP,{onTap:()=>{m(),e()},children:(0,y.jsx)(o.ZP,{duration:7e3,onHide:e,primaryAction:{accessibilityLabel:i.bt("Reply", "Reply", "SocialPinLandingPage.AuthToast.replyButtonAccessibilityLabel", undefined, true),label:i.bt("Reply", "Reply", "SocialPinLandingPage.AuthToast.replyButton", undefined, true),size:"lg",onClick:()=>{}},text:u,thumbnail:{avatar:(0,y.jsx)(s.qE,{name:a.inviterName,src:a.inviterAvatarUrl})}})})})}}},714305:(e,t,i)=>{i.d(t,{D:()=>K,Z:()=>M});var a,n,l=i(667294),r=i(167912),s=i(616550),o=i(883119),d=i(543166),c=i(24574),u=i(30794),p=i(212515),g=i(47848),m=i(136061),h=i(982553),_=i(297728),y=i(750077),x=i(901450),f=i(151958),v=i(383399),k=i(717381),b=i(562612),P=i(243583),S=i(127566),w=i(193836),j=i(808379),I=i(66560),C=i(724533),F=i(785893);let T=(0,l.lazy)(()=>Promise.all([i.e(13377),i.e(24698)]).then(i.bind(i,713377))),A=void 0!==a?a:a=i(379748),L=void 0!==n?n:n=i(229114);function K({pinId:e}){return{query:A,variables:{pinId:e}}}function R({isEligibleForPdp:e,pinId:t,ratingValue:i,pinKey:a}){let n=(0,m.aX)(),r=(0,s.k6)(),h=(0,s.TH)(),_=(0,v.Z)(),{trafficSource:y}=(0,c.Z)(n,_.isAuth),k=(0,g.Z)(L,a),{showToast:P}=(0,x.F9)(),I=(0,w.t2)(),C=(0,w.w2)();(0,l.useEffect)(()=>{let e=k?.gridTitle||k?.richMetadata?.title||k?.richSummary?.displayName||k?.richMetadata?.article?.name||"Pin page";document.title=e},[k]),(0,l.useEffect)(()=>{if(!C||C.hasSeenAuthDesktopLandingToast)return()=>{};let{setHasSeenAuthDesktopLandingToast:e}=C,i=setTimeout(()=>{if(I){let i={type:"pin",id:t};e(!0),P(({hideToast:e})=>(0,F.jsx)(j.Z,{hideToast:e,pinAttachment:i}))}},3e3);return()=>{clearTimeout(i)}},[I,t,P,C]);let T=(0,f.Z)(k);return((0,p.Q)({view_type:3,object_id_str:t,view_data:{pin_id:t},component:13283,aux_data:{current_page_url:h.pathname+h.search,closeup_navigation_type:(0,b.Z)(r,y),...T(),...i?{rating_value:i}:{},is_go_linkless:!!k?.isGoLinkless},clientTrackingParams:(0,S.Z)((h?.state||{}).trackingParams,k?.trackingParams)},t),e)?(0,F.jsx)(o.xu,{"data-test-id":"pdp-container",children:(0,F.jsx)(u.Z,{})}):(0,F.jsx)(o.xu,{"data-test-id":"closeup-container",children:(0,F.jsx)(d.ZP,{})})}function Z({pinId:e,queryRef:t}){let i=(0,r.usePreloadedQuery)(A,t),a=i.v3GetPinQuery?.__typename==="V3GetPin"&&i.v3GetPinQuery?.data?i.v3GetPinQuery?.data:null;return(0,F.jsx)(R,{isEligibleForPdp:a?.isEligibleForPdp??!1,pinId:e,pinKey:a,ratingValue:a?.richSummary?.aggregateRating?.ratingValue})}function E({pinId:e,descriptor:t}){let i=(0,r.useLazyLoadQuery)(A,t.variables),a=i.v3GetPinQuery?.__typename==="V3GetPin"&&i.v3GetPinQuery?.data?i.v3GetPinQuery?.data:null;return(0,F.jsx)(R,{isEligibleForPdp:a?.isEligibleForPdp??!1,pinId:e,pinKey:a,ratingValue:a?.richSummary?.aggregateRating?.ratingValue})}function D({pinId:e}){let{checkExperiment:t}=(0,_.F)(),i=t("closeup_dweb_preload_closeup_query_before_navigation").anyEnabled,a=K({pinId:e}),{findPreloadedQuery:n}=(0,C.Us)(),l=n(a);return i&&l?.queryRef?(0,F.jsx)(Z,{pinId:e,queryRef:l.queryRef}):(0,F.jsx)(E,{descriptor:a,pinId:e})}function z({pinId:e}){let t=(0,I.S6)(),i=e?t(e):null;return(0,F.jsx)(R,{isEligibleForPdp:i?.is_eligible_for_pdp??!1,pinId:e,pinKey:null!=i?{type:"deprecated",data:i}:null,ratingValue:i?.rich_summary?.aggregate_rating?.rating_value})}function M(){let{id:e}=(0,s.UO)(),{isGraphQLEnabledInGeneral:t}=(0,P.nF)(),i=(0,v.Z)(),a=(0,h.jr)(i);return(0,F.jsxs)(k.Z,{type:"authDesktop",children:[a&&(0,F.jsx)(y.Z,{children:(0,F.jsx)(T,{})}),t?(0,F.jsx)(y.Z,{children:(0,F.jsx)(D,{pinId:e||""})}):(0,F.jsx)(z,{pinId:e||""})]})}},449808:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(667294);function n(e,t){(0,a.useEffect)(()=>{if(!t.current)return()=>{};{let i=t.current;if("ResizeObserver"in window){let t=new ResizeObserver(t=>{Array.isArray(t)&&t.length&&e(i)});return t.observe(i),()=>t.unobserve(i)}{let t=i.clientHeight,a=i.clientWidth,n=()=>{let l=i.clientHeight,r=i.clientWidth;(t!==l||a!==r)&&(t=l,a=r,e(i)),window.requestAnimationFrame(n)};return n(),()=>window.cancelAnimationFrame(n)}}},[t,e])}},560425:(e,t,i)=>{i.d(t,{Z:()=>l,f:()=>r});var a=i(400416),n=i(119437);function l(e,t){return async i=>{i((0,n.md)(e,!0));try{await (0,a.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){i((0,n.md)(e,!1))}}}function r(e,t){return async i=>{i((0,n.md)(e,!1));try{await (0,a.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){i((0,n.md)(e,!0))}}}},207462:(e,t,i)=>{function a(e){return{type:"PIN_QUICK_SAVE",payload:e}}function n(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}i.d(t,{X:()=>n,d:()=>a})},433788:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(442279),n=i(403764);let l=(0,a.P1)((e,t,i)=>i,({feeds:e},t)=>e[`${n.Z.UNIFIED_COMMENTS}:${t}`],({didItData:e})=>e,(e,t,i)=>t?.map(({id:t,type:a})=>"aggregatedcomment"===a.toLowerCase()?e[t]:i[t]).filter(e=>e)||[])},663258:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(617280),n=i(76513),l=i(964803);function r(e,t,i,r){switch(e){case 0:return function({isShortened:e,minutes:t,i18n:i}){if(!t)return"";if(e)return(0,l.Z)(t,i).join("");let r=(0,n.Z)((0,a.X)({m:t}),i);if(!r)return"";let s=r.join(""),o=i.bt("Cooking time", "Cook Time", "ideapin.basics.cookTime", undefined, true);return`${o}: ${s}`}({minutes:parseInt(t,10),i18n:i,isShortened:r});case 1:return function({servingSize:e,i18n:t}){return e?1===e?`${e} ${t.bt("serving", "serving", "ideapin.basics.servings", undefined, true)}`:`${e} ${t.bt("servings", "servings", "ideapin.basics.servings", undefined, true)}`:""}({servingSize:parseInt(t,10),i18n:i});case 2:return function({difficulty:e,i18n:t}){let i={1:t.bt("Easy", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:t.bt("Intermediate", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:t.bt("Expert", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},a=t.bt("Difficulty", "Difficulty", "ideapin.basics.difficulty", undefined, true);return`${a}: ${i[e??"1"]}`}({difficulty:t,i18n:i});default:return""}}},609709:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>e.join(` \u2022 `)},907409:(e,t,i)=>{i.d(t,{Ai:()=>b,B5:()=>g,CR:()=>c,Cc:()=>s,Dv:()=>x,Wz:()=>o,_P:()=>y,dP:()=>P,dX:()=>v,gx:()=>u,h8:()=>l,hk:()=>d,lp:()=>h,lt:()=>p,oe:()=>f,r4:()=>_,rM:()=>k});var a=i(883119),n=i(293704);let l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},r={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...r,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...r,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},d=64,c=48,u=48,p=new a.H3([n.tD]),g=new a.H3([p]),m=new a.H3([n.tD]),h=new a.H3([m]),_=4;function y(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:_}}let x=60,f=47,v=8,k=4,b=5,P=3},753796:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(643613);function n(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:a.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},689658:(e,t,i)=>{i.d(t,{X:()=>a,j:()=>n});let a={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},n=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:a.PARAGRAPH}]},378859:(e,t,i)=>{i.d(t,{Cw:()=>p,Ig:()=>y,Vl:()=>m,ZP:()=>_});var a=i(244311),n=i(790014),l=i(493651),r=i(306285),s=i(415787);function o(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends Error{constructor(...e){super(...e),o(this,"name","GraphQLFetchError"),o(this,"extraData",{})}}let c=new a.QueryResponseCache({size:100,ttl:6e4});function u(e){return e.id??e.cacheID}function p(e,t){let i=u(e),a=!!i&&null!==c.get(i,t);return(0,s.nP)("pws.graphql.RelayClientEnvironment.isQueryInServerResponseCache",{sampleRate:1,tags:{inCache:a,query:e.name??"unknown"}}),a}function g({concreteRequestCache:e,environment:t}){Array.from(document.querySelectorAll("script[data-relay-response]:not([data-preloaded])")).forEach(i=>{if(!i.dataset.preloaded){let{requestParameters:n,variables:l,response:r}=JSON.parse(i.textContent??""),o=e[[n.name,n.id].join(":")],d=o?(0,a.createOperationDescriptor)(o,l):null;if(d&&!Array.isArray(r)&&r.data){t.commitPayload(d,r.data);let e=u(n);e&&c.set(e,l,r),i.dataset.preloaded="true"}else Array.isArray(r)&&(0,s.nP)("pws.graphql.commitRelayResponsesToStore.isArrayResponse",{sampleRate:1,tags:{name:n.name}})}})}function m(e){let t=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{};window.__pwsCacheRelayConcreteRequest=i=>{t[[i.params.name,i.params.id].join(":")]=i,g({concreteRequestCache:t,environment:e})},delete window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__,g({concreteRequestCache:t,environment:e})}let h=null;function _(){let e;let t=new a.Environment({network:a.Network.create((e=!0,window.addEventListener("focus",()=>e=!0),window.addEventListener("blur",()=>e=!1),async function(t,i){let a=Date.now(),o=(0,l.H)(),c=document.cookie.match(RegExp("\\b"+n.fS.name+"=.+?($|;)","g")),u=(0,r.Z)({handler:o,queryName:t.name,windowIsInFocus:e});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:u,body:JSON.stringify({queryHash:t.id,variables:i})});return(0,s.LY)("pws.graphql.fetchQueryClient.request",Date.now()-a,{sampleRate:1,tags:{handler:o??"unknown",queryName:t.name,status:e.status}}),await e.json()}catch(i){let e=new d(i.message);throw e.stack=i.stack,e.extraData={csrfCookies:c?.join(";")??"unknown",requestHeaders:u},(0,s.nP)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:o,queryName:t.name}}),e}})),store:new a.Store(new a.RecordSource)});return"undefined"!=typeof window&&(h=t),t}function y(){return h}},306285:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(418256),n=i(521463);function l({handler:e,queryName:t,windowIsInFocus:i}){let{searchParams:l}=new URL(window.location.href),r=l.get("force_country"),s=l.get("force_country_from_ip"),o={};return r&&(o["X-Force-Country"]=r),s&&(o["X-Force-Country-From-IP"]=s),e&&(o["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,a._V)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,n.Z)(),"X-Pinterest-GraphQL-Name":t,"X-Pinterest-AppState":i?"active":"background",...o}}},724533:(e,t,i)=>{i.d(t,{h_:()=>u,rL:()=>c,Tr:()=>g,Us:()=>p});var a=i(422578),n=i(244311),l=i(498490),r=i(378859),s=i(186139),o=i(415787),d=i(855746);function c({relayEnvironment:e}){let t=[];return{preloadQuery:function(i){let l=(0,a.loadQuery)(e,(0,n.getRequest)(i.query),i.variables??{});return t=t.concat({descriptor:i,queryRef:l}),l},ensureFlushed:async function(e){throw Error("ensureFlushed should not be called on the client")},findPreloadedQuery:function(e){return t.find(({descriptor:t})=>(function(e,t){let i=(0,n.getRequest)(e.query),a=(0,n.getRequest)(t.query);return i.operation.name===a.operation.name&&i.hash===a.hash&&(0,s.L)(e.variables,t.variables)})(t,e))}}}let{Provider:u,useHook:p}=(0,l.Z)("QueryPreloader");function g(e){let{findPreloadedQuery:t,preloadQuery:i}=p(),a=(0,d.MM)();if(!e)return null;let l=t(e)?.queryRef,s=(0,n.getRequest)(e.query),c=(0,r.Cw)(s.params,e.variables);return l||(c||(0,o.nP)("pws.graphql.usePreloadedQueryRef.miss",{sampleRate:1,tags:{handler:a,query:s.operation.name??"unknown",runtime:"client"}}),i(e))}},186139:(e,t,i)=>{i.d(t,{L:()=>l,Z:()=>r});var a=i(667294),n=i(655201);let l=(e,t)=>(0,n.Z)(e,t);function r(e){let[t,i]=(0,a.useState)(e);return l(e,t)?t:(i(e),e)}},311716:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},559113:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/51171.en_IN-41868fb6ad270268.mjs.map